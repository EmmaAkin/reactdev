(function(){var T=!1,S,R=this;function Q(i,m){var f=i.split("."),l=R;!(f[0] in l)&&l.execScript&&l.execScript("var "+f[0]);for(var k;f.length&&(k=f.shift());){!f.length&&void 0!==m?l[k]=m:l=l[k]?l[k]:l[k]={}}}var P=Array.prototype,O=P.forEach?function(i,k,f){P.forEach.call(i,k,f)}:function(i,n,f){for(var m=i.length,l="string"==typeof i?i.split(""):i,k=0;k<m;k++){k in l&&n.call(f,l[k],k,i)}};function N(i,n){this.c={};this.a=[];var f=arguments.length;if(1<f){if(f%2){throw Error("Uneven number of arguments")}for(var m=0;m<f;m+=2){this.set(arguments[m],arguments[m+1])}}else{if(i){var l;if(i instanceof N){M(i);m=i.a.concat();M(i);l=[];for(f=0;f<i.a.length;f++){l.push(i.c[i.a[f]])}}else{var f=[],k=0;for(m in i){f[k++]=m}m=f;f=[];k=0;for(l in i){f[k++]=i[l]}l=f}for(f=0;f<m.length;f++){this.set(m[f],l[f])}}}}N.prototype.f=0;N.prototype.p=0;function M(i){if(i.f!=i.a.length){for(var m=0,f=0;m<i.a.length;){var l=i.a[m];A(i.c,l)&&(i.a[f++]=l);m++}i.a.length=f}if(i.f!=i.a.length){for(var k={},f=m=0;m<i.a.length;){l=i.a[m],A(k,l)||(i.a[f++]=l,k[l]=1),m++}i.a.length=f}}N.prototype.get=function(f,i){return A(this.c,f)?this.c[f]:i};N.prototype.set=function(f,i){A(this.c,f)||(this.f++,this.a.push(f),this.p++);this.c[f]=i};function A(f,i){return Object.prototype.hasOwnProperty.call(f,i)}var s,o,h,g;function d(){return R.navigator?R.navigator.userAgent:null}g=h=o=s=T;var H;if(H=d()){var B=R.navigator;s=0==H.indexOf("Opera");o=!s&&-1!=H.indexOf("MSIE");h=!s&&-1!=H.indexOf("WebKit");g=!s&&!h&&"Gecko"==B.product}var z=o,p=g,j=h;var e;if(s&&R.opera){var c=R.opera.version;"function"==typeof c&&c()}else{p?e=/rv\:([^\);]+)(\)|;)/:z?e=/MSIE\s+([^\);]+)(\)|;)/:j&&(e=/WebKit\/(\S+)/),e&&e.exec(d())}function b(f,i){this.b=f||{e:"",prefix:"",host:"",scheme:""};this.h(i||{})}b.g=function(){return b.j?b.j:b.j=new b};S=b.prototype;S.h=function(f){this.d=new N(f)};S.o=function(){return this.d};S.k=function(f){this.b.e=f};S.n=function(){return this.b.e};S.l=function(f){this.b.prefix=f};function a(i,n,f,m){var l,k=RegExp(/\[\]$/);if(f instanceof Array){O(f,function(q,r){k.test(n)?m(n,q):a(i,n+"["+("object"===typeof q?r:"")+"]",q,m)})}else{if("object"===typeof f){for(l in f){a(i,n+"["+l+"]",f[l],m)}}else{m(n,f)}}}S.i=function(f){var i=this.b.prefix+f;if(A(this.d.c,i)){f=i}else{if(!A(this.d.c,f)){throw Error('The route "'+f+'" does not exist.')}}return this.d.get(f)};S.m=function(v,r,u){var q=this.i(v),n=r||{},m={},t;for(t in n){m[t]=n[t]}var l="",x=!0,k="";O(q.tokens,function(y){if("text"===y[0]){l=y[1]+l,x=T}else{if("variable"===y[0]){var D=y[3] in q.defaults;if(T===x||!D||y[3] in n&&n[y[3]]!=q.defaults[y[3]]){if(y[3] in n){var D=n[y[3]],C=y[3];C in m&&delete m[C]}else{if(D){D=q.defaults[y[3]]}else{if(x){return}throw Error('The route "'+v+'" requires the parameter "'+y[3]+'".')}}if(!(!0===D||T===D||""===D)||!x){C=encodeURIComponent(D).replace(/%2F/g,"/"),"null"===C&&null===D&&(C=""),l=y[1]+C+l}x=T}else{D&&(y=y[3],y in m&&delete m[y])}}else{throw Error('The token type "'+y[0]+'" is not supported.')}}});""===l&&(l="/");O(q.hosttokens,function(C){var y;if("text"===C[0]){k=C[1]+k}else{if("variable"===C[0]){if(C[3] in n){y=n[C[3]];var D=C[3];D in m&&delete m[D]}else{C[3] in q.defaults&&(y=q.defaults[C[3]])}k=C[1]+y+k}}});l=this.b.e+l;"_scheme" in q.requirements&&this.b.scheme!=q.requirements._scheme?l=q.requirements._scheme+"://"+(k||this.b.host)+l:k&&this.b.host!==k?l=this.b.scheme+"://"+k+l:!0===u&&(l=this.b.scheme+"://"+this.b.host+l);var r=0,i;for(i in m){r++}if(0<r){var f,w=[];i=function(C,y){y="function"===typeof y?y():y;w.push(encodeURIComponent(C)+"="+encodeURIComponent(null===y?"":y))};for(f in m){a(this,f,m[f],i)}l=l+"?"+w.join("&").replace(/%20/g,"+")}return l};Q("fos.Router",b);Q("fos.Router.setData",function(f){var i=b.g();i.k(f.base_url);i.h(f.routes);"prefix" in f&&i.l(f.prefix);i.b.host=f.host;i.b.scheme=f.scheme});b.getInstance=b.g;b.prototype.setRoutes=b.prototype.h;b.prototype.getRoutes=b.prototype.o;b.prototype.setBaseUrl=b.prototype.k;b.prototype.getBaseUrl=b.prototype.n;b.prototype.generate=b.prototype.m;b.prototype.setPrefix=b.prototype.l;b.prototype.getRoute=b.prototype.i;window.Routing=b.g()})();
fos.Router.setData({base_url:"",routes:{william_hill_betslip_ajax_check_unresolved:{tokens:[["text","/william-hill/betslips/check-unresolved"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},william_hill_sessions_cas_login:{tokens:[["text","/william-hill/st-ticket"]],defaults:[],requirements:[],hosttokens:[]},william_hill_sessions_cas_pgt:{tokens:[["text","/william-hill/pgt"]],defaults:[],requirements:[],hosttokens:[]},william_hill_check_current_token:{tokens:[["text","/william-hill/check-session"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},william_hill_sessions_login:{tokens:[["text","/william-hill/login"]],defaults:[],requirements:[],hosttokens:[]},william_hill_sessions_process_login:{tokens:[["text","/william-hill/process-login"]],defaults:[],requirements:[],hosttokens:[]},william_hill_logout:{tokens:[["text","/william-hill/logout"]],defaults:[],requirements:[],hosttokens:[]},william_hill_wallets_deposit:{tokens:[["text","/william-hill/deposit"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},william_hill_process_deposit:{tokens:[["text","/william-hill/process-deposit"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},resent_confirmation_email:{tokens:[["text","/resent_confirmation_mail"]],defaults:[],requirements:[],hosttokens:[]},add_follower:{tokens:[["text","/add-follower"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},remove_follower:{tokens:[["text","/remove-follower"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},show_follower_following_popup:{tokens:[["text","/show-follower-following-popup"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},account_settings:{tokens:[["text","/account-settings"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},edit_profile:{tokens:[["text","/edit-profile"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},search_betfect_new:{tokens:[["text","/search-betfect-new"]],defaults:[],requirements:[],hosttokens:[]},search_betfect:{tokens:[["text","/search-betfect"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},reply_message:{tokens:[["text","/reply-message"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},change_thread:{tokens:[["text","/change-thread"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},search_follower:{tokens:[["text","/search-follower"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},new_message:{tokens:[["text","/new-message"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},delete_thread:{tokens:[["text","/delete-thread"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},change_password:{tokens:[["text","/change-password"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},mentions:{tokens:[["text","/mentions"]],defaults:[],requirements:[],hosttokens:[]},hide_notifications:{tokens:[["text","/hide-notifications"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},set_notifications:{tokens:[["text","/set-notifications"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},show_notifications:{tokens:[["text","/show-notifications"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},close_ladbrokes_connect_popup:{tokens:[["text","/close-ladbrokes-connect-popup"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},load_more_people:{tokens:[["text","/load-more-people"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},"edit-settings":{tokens:[["text","/edit-settings/"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},check_nickname:{tokens:[["text","/check-nickname"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},check_email:{tokens:[["text","/check-email"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},mark_notifications_as_read:{tokens:[["text","/notifications/mark-all-as-read"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},image_crop_to_file:{tokens:[["text","/ajax/image_crop_to_file"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},image_crop_to_file_register:{tokens:[["text","/ajax/image_crop_to_file_register"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},ajax_upload_original_profile_picture:{tokens:[["text","/ajax/upload_original_profile_picture"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},load_leaderboard_ajax:{tokens:[["text","/load_leaderboard_ajax"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_step2_after_login:{tokens:[["text","/load_step2_after_login"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},remove_first_step_from_session:{tokens:[["text","/bye-first-time"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},sum_share_betfect_plus_value:{tokens:[["text","/sum-share-bet"]],defaults:[],requirements:[],hosttokens:[]},close_betfect_plus_popup:{tokens:[["text","/bye-betfect-plus-popup"]],defaults:[],requirements:[],hosttokens:[]},follow_all_first_step_ajax:{tokens:[["text","/ajax/follow-all-users"]],defaults:[],requirements:[],hosttokens:[]},hide_connect_account:{tokens:[["text","/bye-connect-account"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},hide_video_tutorial:{tokens:[["text","/bye-video-tutorial"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},close_competition_bar:{tokens:[["text","/bye-Competition-bar"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},close_notification_banner:{tokens:[["text","/bye-notification-banner"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},load_user_statistic:{tokens:[["variable","/","[^/]++","id"],["text","/load-user-statistic"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},join_group_ajax:{tokens:[["text","/group/join"]],defaults:[],requirements:[],hosttokens:[]},group_notification_ajax:{tokens:[["text","/group/set-notification"]],defaults:[],requirements:[],hosttokens:[]},load_more_groups_ajax:{tokens:[["text","/load-more-groups-ajax"]],defaults:[],requirements:[],hosttokens:[]},user_assets_magnific_popup_javascript:{tokens:[["text","/ajax/js/magnific-popup.js"]],defaults:[],requirements:[],hosttokens:[]},user_assets_magnific_popup_css:{tokens:[["text","/ajax/css/magnific-popup.css"]],defaults:[],requirements:[],hosttokens:[]},competition:{tokens:[["variable","/","[^/]++","slug"],["text","/competition"]],defaults:[],requirements:[],hosttokens:[]},competition_weekly:{tokens:[["variable","/","[^/]++","slug"],["text","/competition/weekly-100-competition"]],defaults:[],requirements:[],hosttokens:[]},ajax_users_paginator:{tokens:[["variable","/","[^/]++","offset"],["variable","/","[^/]++","competitionId"],["text","/ajax-users-paginator"]],defaults:[],requirements:[],hosttokens:[]},user_competition_weekly_100_competition:{tokens:[["text","/weekly-100-competition"]],defaults:[],requirements:[],hosttokens:[]},competitions_page:{tokens:[["text","/competitions"]],defaults:[],requirements:[],hosttokens:[]},test_menu:{tokens:[["text","/test1"]],defaults:[],requirements:[],hosttokens:[]},play_video:{tokens:[["text","/play_video"]],defaults:[],requirements:[],hosttokens:[]},discover:{tokens:[["text","/discover"]],defaults:[],requirements:[],hosttokens:[]},discover_with_filter:{tokens:[["variable","/","[^/]++","filter"],["text","/discover"]],defaults:{filter:"all-bets"},requirements:[],hosttokens:[]},user_defult_register:{tokens:[["text","/register"]],defaults:[],requirements:[],hosttokens:[]},home:{tokens:[["text","/"]],defaults:[],requirements:[],hosttokens:[]},home_with_filter:{tokens:[["variable","/","[^/]++","filter"],["text","/home"]],defaults:{filter:"all-bets"},requirements:[],hosttokens:[]},misc:{tokens:[["text","/misc"]],defaults:[],requirements:[],hosttokens:[]},terms:{tokens:[["text","/terms"]],defaults:[],requirements:[],hosttokens:[]},faq2:{tokens:[["text","/faq2/"]],defaults:[],requirements:[],hosttokens:[]},privacy:{tokens:[["text","/privacy"]],defaults:[],requirements:[],hosttokens:[]},user_default_video_frame:{tokens:[["text","/video_betfect"]],defaults:[],requirements:[],hosttokens:[]},betting_revolution:{tokens:[["text","/betting-revolution"]],defaults:[],requirements:[],hosttokens:[]},how_it_works:{tokens:[["text","/how-it-works"]],defaults:[],requirements:[],hosttokens:[]},follow_the_right_people:{tokens:[["text","/follow-the-right-people"]],defaults:[],requirements:[],hosttokens:[]},faq:{tokens:[["text","/faq"]],defaults:[],requirements:[],hosttokens:[]},notifications:{tokens:[["text","/notifications"]],defaults:[],requirements:[],hosttokens:[]},badges:{tokens:[["text","/badges"]],defaults:[],requirements:[],hosttokens:[]},welcaome_blocked_countries:{tokens:[["text","/welcome"]],defaults:[],requirements:[],hosttokens:[]},referral:{tokens:[["variable","/","[^/]++","referralCode"],["text","/r"]],defaults:[],requirements:[],hosttokens:[]},betfect_plus:{tokens:[["text","/betfect-plus"]],defaults:[],requirements:[],hosttokens:[]},load_more_notifications:{tokens:[["text","/load-more-notifications"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},user_default_top_users_betslips:{tokens:[["text","/top-tipsters"]],defaults:[],requirements:[],hosttokens:[]},referFriend:{tokens:[["text","/refer-a-friend"]],defaults:[],requirements:[],hosttokens:[]},referFriendAgreement:{tokens:[["text","/refer-a-friend/agreement"]],defaults:[],requirements:[],hosttokens:[]},user_default_refer_a_friend_accept_or_reject_invitation:{tokens:[["text","/refer-a-friend/accept-or-reject-invitation"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_default_refer_a_friend_user_just_applied:{tokens:[["text","/refer-a-friend/user-just-applied"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},group_index:{tokens:[["text","/groups"]],defaults:[],requirements:[],hosttokens:[]},group_show:{tokens:[["variable","/","[^/]++","slug"],["text","/group"]],defaults:[],requirements:[],hosttokens:[]},user_jobs_index:{tokens:[["text","/jobs"]],defaults:[],requirements:[],hosttokens:[]},user_jobs_view:{tokens:[["variable","/","[^/]++","slug"],["text","/jobs"]],defaults:[],requirements:[],hosttokens:[]},user_jobs_application:{tokens:[["variable","/","[^/]++","job_slug"],["text","/jobs/apply"]],defaults:[],requirements:[],hosttokens:[]},user_jobs_uploadApplication:{tokens:[["variable","/","[^/]++","job_slug"],["text","/jobs/upload/application"]],defaults:[],requirements:[],hosttokens:[]},betfect_user_ladbrokes_ladbrokesconnect:{tokens:[["text","/ladbrokes_connect"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ladbrokes_disconnect:{tokens:[["text","/ladbrokes/disconnect"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ladbrokes_session_keep_alive:{tokens:[["text","/ladbrokes/session_keep_alive"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},ladbrokes_balance_update:{tokens:[["text","/ladbrokes/balance_update"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},check_ladbrokes_connected:{tokens:[["text","/ladbrokes/is_connected"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},betslips_from_session:{tokens:[["text","/betslips-from-session"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_ladbrokes_changed_price_betslip:{tokens:[["text","/changed-price-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},logout:{tokens:[["text","/logout"]],defaults:[],requirements:[],hosttokens:[]},forgot_password:{tokens:[["text","/forgot-password"]],defaults:[],requirements:[],hosttokens:[]},forgot_check:{tokens:[["text","/forgot-check"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},forgot_password_reset:{tokens:[["variable","/","[^/]++","authparam"],["text","/forgot-password-reset"]],defaults:{authparam:null},requirements:[],hosttokens:[]},forgot_password_reset_check:{tokens:[["text","/forgot-password-reset-check"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},messages:{tokens:[["text","/messages"]],defaults:[],requirements:[],hosttokens:[]},user_message_nickname:{tokens:[["variable","/","[^/]++","nickname"],["text","/messages"]],defaults:[],requirements:[],hosttokens:[]},betfect_user_people_people:{tokens:[["text","/people"]],defaults:[],requirements:[],hosttokens:[]},people:{tokens:[["text","/leaderboard"]],defaults:[],requirements:[],hosttokens:[]},ajax_connected_accounts:{tokens:[["text","/ajax/connected-accounts"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ajax_competitions:{tokens:[["text","/ajax/competitions"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ajax_live_scores:{tokens:[["variable","/","[^/]++","compID"],["text","/ajax/live-scores"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ajax_live_scores_refresh:{tokens:[["variable","/","[^/]++","compID"],["text","/ajax/live-scores/refresh"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},ajax_bet_placed:{tokens:[["text","/ajax/bet-placed"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},post_index:{tokens:[["text","/talk"]],defaults:[],requirements:[],hosttokens:[]},user_post_show_post:{tokens:[["text",".html"],["variable","/","[^/\\.]++","slug"],["variable","/","[^/]++","id"],["text","/talk"]],defaults:[],requirements:[],hosttokens:[]},user_post_upvote_post:{tokens:[["text","/talk/upvote-post"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_post_upvote_reply:{tokens:[["text","/talk/upvote-reply"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_post_add_post:{tokens:[["text","/talk/add-post"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_post_add_reply:{tokens:[["text","/talk/add-reply"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_post_add_reply_to_reply:{tokens:[["text","/talk/add-reply-to-reply"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_post_update_post:{tokens:[["text","/talks/update-social-share"]],defaults:[],requirements:[],hosttokens:[]},user_post_load_more_talks_ajax:{tokens:[["text","/talks/load-more-talks"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},profile_self:{tokens:[["text","/profile"]],defaults:[],requirements:[],hosttokens:[]},profileRedirect:{tokens:[["variable","/","[^/]++","nickname"],["text","/profile/bettor"]],defaults:{nickname:null},requirements:[],hosttokens:[]},profile:{tokens:[["variable","/","[^/]++","nickname"],["text","/tipster"]],defaults:{nickname:null},requirements:[],hosttokens:[]},profileAJAX:{tokens:[["variable","/","[^/]++","notif"],["variable","/","[^/]++","nickname"],["text","/tipster"]],defaults:{nickname:null,notif:null},requirements:[],hosttokens:[]},settings:{tokens:[["text","/settings"]],defaults:[],requirements:[],hosttokens:[]},update_password:{tokens:[["variable","/","[^/]++","authparam"],["text","/update-password"]],defaults:{authparam:null},requirements:[],hosttokens:[]},verify_email:{tokens:[["variable","/","[^/]++","refId"],["variable","/","[^/]++","authparam"],["text","/verify-email"]],defaults:{authparam:null,refId:null},requirements:[],hosttokens:[]},step_2:{tokens:[["text","/step2/"]],defaults:[],requirements:[],hosttokens:[]},step_3:{tokens:[["text","/complete-account"]],defaults:[],requirements:[],hosttokens:[]},registration_success:{tokens:[["text","/registration-success"]],defaults:[],requirements:[],hosttokens:[]},connect_social:{tokens:[["text","/connect-social"]],defaults:[],requirements:[],hosttokens:[]},auto_login:{tokens:[["text","/auto-login"]],defaults:[],requirements:[],hosttokens:[]},sitemap_users:{tokens:[["text","/users.xml"],["variable","/","[^/]++","page_number"],["text","/sitemap/page"]],defaults:[],requirements:[],hosttokens:[]},sitemap_events:{tokens:[["text","/events.xml"],["variable","/","[^/]++","page_number"],["text","/sitemap/page"]],defaults:[],requirements:[],hosttokens:[]},sitemap_talk:{tokens:[["text","/talk.xml"],["variable","/","[^/]++","page_number"],["text","/sitemap/page"]],defaults:[],requirements:[],hosttokens:[]},sitemap_pages:{tokens:[["text","/pages.xml"],["variable","/","[^/]++","page_number"],["text","/sitemap/page"]],defaults:[],requirements:[],hosttokens:[]},sitemap_betslips:{tokens:[["text","/betslips.xml"],["variable","/","[^/]++","page_number"],["text","/sitemap/page"]],defaults:[],requirements:[],hosttokens:[]},facebook_login_check:{tokens:[["text","/facebook-login-check"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},social_signup:{tokens:[["variable","/","[^/]++","param"],["text","/social-signup"]],defaults:{param:null},requirements:[],hosttokens:[]},social_registration_check:{tokens:[["text","/social-registration-check"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},share_by_email:{tokens:[["variable","/","[^/]++","betCode"],["variable","/","[^/]++","betProviderCode"],["text","/share/by-email"]],defaults:[],requirements:[],hosttokens:[]},share_referral_by_email:{tokens:[["variable","/","[^/]++","referralCode"],["text","/share/by-email/referral"]],defaults:[],requirements:[],hosttokens:[]},share_send_email:{tokens:[["variable","/","[^/]++","type"],["text","/share/send_email"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_job_shareJob:{tokens:[["variable","/","[^/]++","job_slug"],["text","/share/by-email/job"]],defaults:[],requirements:[],hosttokens:[]},user_social_connect_twitter:{tokens:[["text","/connect/twitter"]],defaults:[],requirements:[],hosttokens:[]},user_social_connect_twitter_check:{tokens:[["text","/connect/twitter/check"]],defaults:[],requirements:[],hosttokens:[]},registration_complete_twitter:{tokens:[["text","/complete-account/twitter"]],defaults:[],requirements:[],hosttokens:[]},user_social_tweet:{tokens:[["text","/social/tweet"]],defaults:[],requirements:[],hosttokens:[]},user_social_check_twitter_connected_account:{tokens:[["text","/social/check-twitter-connected-account"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},user_social_change_post_to_twitter:{tokens:[["text","/social/change-post-to-twitter"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},get_events_for_betting_ajax:{tokens:[["text","/getEventsForBetting"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},get_events_for_sport_page_ajax:{tokens:[["text","/getEventsForSportPage"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},get_events_for_league_page:{tokens:[["text","/getEventsForLeaguePage"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},test_betslips:{tokens:[["text","/test_betslips"]],defaults:[],requirements:[],hosttokens:[]},sport:{tokens:[["text","/odds"],["variable","/","[^/]++","param"],["text","/betting"]],defaults:[],requirements:[],hosttokens:[]},league_subleague:{tokens:[["text","/odds"],["variable","/","[^/]++","league"],["variable","/","[^/]++","country"],["variable","/","[^/]++","sport"],["text","/betting"]],defaults:{country:"-"},requirements:[],hosttokens:[]},sport_league:{tokens:[["text","/odds"],["variable","/","[^/]++","sport"],["variable","/","[^/]++","league"],["text","/betting"]],defaults:[],requirements:[],hosttokens:[]},event:{tokens:[["variable","/","[^/]++","event"],["text","/odds"],["variable","/","[^/]++","event_name"],["variable","/","[^/]++","sport"],["text","/betting"]],defaults:[],requirements:[],hosttokens:[]},betting:{tokens:[["text","/betting"]],defaults:[],requirements:[],hosttokens:[]},like_betslip:{tokens:[["text","/like-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},copy_betslip:{tokens:[["text","/copy-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},comment_betslip:{tokens:[["text","/comment-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},add_to_betslip:{tokens:[["text","/add-to-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},betslip_odd_changer:{tokens:[["text","/change-betslip-odds"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},betslip_betslip_refresh_right_bar:{tokens:[["text","/right-bar/refresh"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},remove_from_betslip:{tokens:[["text","/remove-from-betslip"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},load_more_betslips:{tokens:[["text","/load-more-betslips"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_more_betslips_group:{tokens:[["text","/load-more-betslips-group"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_more_tipsters:{tokens:[["text","/load-more-tipsters"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_more_betslips_profile:{tokens:[["text","/load-more-betslips-profile"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_betslip_ajax:{tokens:[["variable","/","[^/]++","betslipCode"],["variable","/","[^/]++","betProviderCode"],["text","/load-betslip"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},load_betslip_notification:{tokens:[["text","/load-betslip-notification"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},save_menu_position:{tokens:[["text","/save-menu-position"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},remove_from_menu:{tokens:[["text","/remove-from-menu"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},place_bet:{tokens:[["text","/place_bet"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},betslip:{tokens:[["variable","/","[^/]++","betslipCode"],["variable","/","[^/]++","betProviderCode"],["text","/betslip"]],defaults:[],requirements:[],hosttokens:[]},betslip_show_betslip_with_nickname:{tokens:[["variable","/","[^/]++","betCode"],["variable","/","[^/]++","betProviderCode"],["text","/betslip"],["variable","/","[^/]++","nickname"]],defaults:[],requirements:[],hosttokens:[]},betting_history:{tokens:[["text","/betting-history"]],defaults:[],requirements:[],hosttokens:[]},betslip_betting_history_by_period_ajax:{tokens:[["variable","/","[^/]++","period"],["text","/betting-history"]],defaults:[],requirements:[],hosttokens:[]},update_session_odds:{tokens:[["text","/update-session-odds"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},current_betslip:{tokens:[["text","/betslip_current"]],defaults:[],requirements:[],hosttokens:[]},betslip_freebet:{tokens:[["text","/betslip_freebet"]],defaults:[],requirements:[],hosttokens:[]},betslip_image:{tokens:[["text","/betslip.jpg"],["variable","/","[^/]++","betslip_code"],["variable","/","[^/]++","betProviderCode"],["variable","/","[^/]++","nickname"]],defaults:[],requirements:[],hosttokens:[]},left_bar:{tokens:[["variable","/","[^/]++","league"],["variable","/","[^/]++","sport"],["text","/left-bar"]],defaults:{sport:null,league:null},requirements:[],hosttokens:[]},get_profit:{tokens:[["text","/profit"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},get_profit_nickname:{tokens:[["text","/profit/nickname"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},calculate_outcomes:{tokens:[["text","/calculate-outcomes"]],defaults:[],requirements:[],hosttokens:[]},ladbrokes_betslip_ajax_check_unresolved:{tokens:[["text","/ladbrokes/betslips/check-unresolved"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},ladbrokes_check_current_token:{tokens:[["text","/ladbrokes/check-session"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},set_default_market:{tokens:[["text","/admin/set-default-market-ajax"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},switch_show_default_market_ajax:{tokens:[["text","/admin/switch_show_default_market_ajax"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},admin_hide_event:{tokens:[["text","/admin/hide_event"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},admin_change_betslip_selection_status_ajax:{tokens:[["text","/admin/change-betslip-selection-win-status"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_kpi_numbers:{tokens:[["text","/admin/kpi/getNumbers"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_set_active_competition:{tokens:[["text","/admin/competition/set-active-competition"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_jobs_ajax_checkJobSlug:{tokens:[["text","/admin/jobs/check-job-slug"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_sortJobs:{tokens:[["text","/admin/jobs/index/sortJobs"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_delete_slider:{tokens:[["text","/admin/landing/files/delete"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_group_countries:{tokens:[["text","/admin/admin/group/get-countries"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_group_leagues:{tokens:[["text","/admin/admin/group/get-leagues"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_group_teams:{tokens:[["text","/admin/admin/group/get-teams"]],defaults:[],requirements:[],hosttokens:[]},admin_bet_providers_index:{tokens:[["text","/admin/bet-providers"]],defaults:[],requirements:[],hosttokens:[]},admin_bet_providers_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/bet-providers/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_bet_provider_update:{tokens:[["variable","/","[^/]++","id"],["text","/admin/bet-provider/update"]],defaults:[],requirements:[],hosttokens:[]},unresolved_betslip:{tokens:[["text","/admin/admin-betslipbetslip/unresolved"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},resolve_betslip:{tokens:[["variable","/","[^/]++","unresolvedId"],["text","/admin/admin-betslipbetslip/resolve"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},admin_betslip_resolve_status:{tokens:[["text","/admin/admin-betslip/betslip/resolve-status"]],defaults:[],requirements:[],hosttokens:[]},admin_resolve_pending_betslips:{tokens:[["text","/admin/admin-betslip/betslip/resolve-pending"]],defaults:[],requirements:[],hosttokens:[]},admin_betslip_change_status:{tokens:[["text","/admin/admin-betslip/betslip/changeStatus"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_betslip_set_last_event_datetime_for_all:{tokens:[["text","/admin/admin-betslipbetslip/set-last-event-for-all"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_index:{tokens:[["text","/admin/competition/index"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_new:{tokens:[["text","/admin/competition/new"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_add:{tokens:[["text","/admin/competition/add"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/competition/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_update:{tokens:[["variable","/","[^/]++","id"],["text","/admin/competition/update"]],defaults:[],requirements:[],hosttokens:[]},admin_competition_capture_ranking_users:{tokens:[["variable","/","[^/]++","slug"],["text","/admin/competition/capture-raking-users"]],defaults:[],requirements:[],hosttokens:[]},admin_index:{tokens:[["text","/admin/index"]],defaults:[],requirements:[],hosttokens:[]},kpi_index:{tokens:[["text","/admin/kpi/index"]],defaults:[],requirements:[],hosttokens:[]},admin_landing_page_files:{tokens:[["text","/admin/landing/files"]],defaults:[],requirements:[],hosttokens:[]},admin_group_index:{tokens:[["text","/admin/group/index"]],defaults:[],requirements:[],hosttokens:[]},admin_group_new:{tokens:[["text","/admin/group/new"]],defaults:[],requirements:[],hosttokens:[]},admin_group_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/group/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_group_delete:{tokens:[["variable","/","[^/]++","id"],["text","/admin/group/delete"]],defaults:[],requirements:[],hosttokens:[]},admin_jobs_index:{tokens:[["text","/admin/jobs/index"]],defaults:[],requirements:[],hosttokens:[]},admin_jobs_new:{tokens:[["text","/admin/jobs/new"]],defaults:[],requirements:[],hosttokens:[]},admin_jobs_add:{tokens:[["text","/admin/jobs/add"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_jobs_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/jobs/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_jobs_update:{tokens:[["variable","/","[^/]++","id"],["text","/admin/jobs/update"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},send_2_days_email:{tokens:[["variable","/","[^/]++","user_id"],["text","/admin/mail/send2dayemail"]],defaults:[],requirements:[],hosttokens:[]},new_badge_email:{tokens:[["variable","/","[^/]++","user_id"],["text","/admin/mail/send-new-badge-email"]],defaults:[],requirements:[],hosttokens:[]},massive_email_best_players:{tokens:[["text","/admin/mail/send-massive-email-best-players"]],defaults:[],requirements:[],hosttokens:[]},admin_post_index:{tokens:[["text","/admin/posts/index"]],defaults:[],requirements:[],hosttokens:[]},admin_post_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/posts/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_post_update:{tokens:[["variable","/","[^/]++","id"],["text","/admin/posts/update"]],defaults:[],requirements:[],hosttokens:[]},admin_post_delete:{tokens:[["text","/admin/posts/delete"]],defaults:[],requirements:[],hosttokens:[]},admin_post_hide:{tokens:[["text","/admin/post/hide"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_post_reply_hide:{tokens:[["text","/admin/post/reply/hide"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_post_reply_edit_content:{tokens:[["text","/admin/post/reply/edit-content"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_post_change_spam_status:{tokens:[["text","/admin/post/chage-spam-status"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_matcher:{tokens:[["text","/admin/sportsbook/matcher"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_matcher_sports_by_betting_provider:{tokens:[["text","/sports"],["variable","/","[^/]++","bettingProviderCode"],["text","/admin/sportsbook/matcher/betting_provider"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_matcher_save_provider_and_subscribe:{tokens:[["text","/admin/sportsbook/matcher/save-provider-and-subscribe"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_matcher_types_and_subtypes_by_class:{tokens:[["text","/types/subtypes"],["variable","/","[^/]++","providerClassKey"],["text","/class"],["variable","/","[^/]++","betProviderCode"],["text","/admin/sportsbook/matcher/bet-provider"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_matcher_save_type_subtype_and_subscribe:{tokens:[["text","/admin/sportsbook/matcher/save-type-subtype-and-subscribe"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_providers_matcher_markets:{tokens:[["text","/admin/providers/matcher/markets"]],defaults:[],requirements:[],hosttokens:[]},admin_providers_matcher_ajax:{tokens:[["text","/admin/providers/matcher/ajax"]],defaults:[],requirements:[],hosttokens:[]},admin_providers_matcher_bet_providers_less_these:{tokens:[["text","/admin/providers/matcher/bet-providers-less-these"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_providers_matcher_add_provider_market:{tokens:[["text","/admin/providers/matcher/add-provider-market-name"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_providers_matcher_add_pmn:{tokens:[["text","/admin/providers/matcher/add-pmn"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_settings:{tokens:[["text","/admin/settings"]],defaults:[],requirements:[],hosttokens:[]},betfect_admin_settings_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/settings/edit"]],defaults:[],requirements:[],hosttokens:[]},create_slug_for_sports:{tokens:[["text","/admin/sportsbook/sports/create_slug"]],defaults:[],requirements:[],hosttokens:[]},create_slug_for_leagues:{tokens:[["text","/admin/sportsbook/leagues/create_slug"]],defaults:[],requirements:[],hosttokens:[]},admin_events:{tokens:[["text","/events"],["variable","/","[^/]++","sport_slug"],["text","/admin/sportsbook"]],defaults:[],requirements:[],hosttokens:[]},event_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/sportsboook/event"]],defaults:[],requirements:[],hosttokens:[]},admin_event_update:{tokens:[["text","/update"],["variable","/","[^/]++","event_id"],["text","/admin/sportsbook/event"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_menu_sorter:{tokens:[["text","/admin/sportsbook/menu-sorter"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_sport_sort:{tokens:[["text","/admin/sportsbook/sport-sort"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_league_sort:{tokens:[["text","/admin/sportsbook/league-sort"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_subleague_sort:{tokens:[["text","/admin/sportsbook/subleague-sort"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_import_ladbrokes_class:{tokens:[["text","/admin/sportsbook/import-ladbrokes-class"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_get_classes_collection:{tokens:[["text","/admin/sportsbook/get-classes-collection"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_get_types_collection:{tokens:[["text","/admin/sportsbook/get-types-collection"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_get_subtypes_collection:{tokens:[["text","/admin/sportsbook/get-subtypes-collection"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_subscribe_subtype:{tokens:[["text","/admin/sportsbook/subscribe-subtype"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_run_importer:{tokens:[["text","/admin/sportsbook/run-importer"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_check_importer_status:{tokens:[["text","/admin/sportsbook/check-importer-status"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_sportsbook_notification_banner_index:{tokens:[["text","/admin/sportsbook/notification-banner"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_notification_banner_new:{tokens:[["text","/admin/sportsbook/notification-banner/new"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_notification_banner_add:{tokens:[["text","/admin/sportsbook/notification-banner/add"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_notification_banner_edit:{tokens:[["variable","/","[^/]++","id"],["text","/admin/sportsbook/notification-banner/edit"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_notification_banner_update:{tokens:[["variable","/","[^/]++","id"],["text","/admin/sportsbook/notification-banner/update"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_notification_banner_delete:{tokens:[["variable","/","[^/]++","id"],["text","/admin/sportsbook/notification-bar/delete"]],defaults:[],requirements:[],hosttokens:[]},admin_sportsbook_selections_matcher:{tokens:[["text","/admin/sportsbook-selections-matcher"]],defaults:[],requirements:[],hosttokens:[]},admin_load_more_events_ajax:{tokens:[["text","/admin/admin-load-more-events-ajax"]],defaults:[],requirements:[],hosttokens:[]},admin_ajax_save_selection:{tokens:[["text","/admin/save-provider-selection"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_delete_user:{tokens:[["variable","/","[^/]++","id"],["text","/admin/user/delete"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},admin_align_followers:{tokens:[["text","/admin/users/align-followers"]],defaults:[],requirements:[],hosttokens:[]},admin_align_followings:{tokens:[["text","/admin/users/align-followings"]],defaults:[],requirements:[],hosttokens:[]},admin_align_betslips:{tokens:[["text","/admin/users/align-betslips"]],defaults:[],requirements:[],hosttokens:[]},align_ranking_users:{tokens:[["text","/admin/users/align-ranking-users"]],defaults:[],requirements:[],hosttokens:[]},admin_users_align_ranking_users_by_type_of_ranking:{tokens:[["variable","/","[^/]++","type_of_ranking"],["text","/admin/users/align-ranking-users"]],defaults:[],requirements:[],hosttokens:[]},test_email:{tokens:[["text","/admin/user/testEmail"]],defaults:[],requirements:[],hosttokens:[]},admin_initialize_betfect_plus:{tokens:[["text","/admin/user/initialize/betfectPlus"]],defaults:[],requirements:[],hosttokens:[]},admin_user_initialize_betfect_plus_by_user_id:{tokens:[["variable","/","[^/]++","id"],["text","/admin/user/initialize/betfect-plus"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]},admin_initialize_mail_transactions:{tokens:[["text","/admin/user/initialize/mailTransactions"]],defaults:[],requirements:[],hosttokens:[]},admin_user_admin_index:{tokens:[["text","/admin/users/admin/index"]],defaults:[],requirements:[],hosttokens:[]},admin_user_admin_delete:{tokens:[["text","/admin/users/admin/delete"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_user_admin_add:{tokens:[["text","/admin/users/admin/add"]],defaults:[],requirements:[],hosttokens:[]},admin_user_list:{tokens:[["text","/admin/users/list"]],defaults:[],requirements:[],hosttokens:[]},admin_user_history:{tokens:[["variable","/","[^/]++","id"],["text","/admin/users/history"]],defaults:[],requirements:[],hosttokens:[]},admin_user_detect_null_countries:{tokens:[["text","/admin/users/detect-null-countries"]],defaults:[],requirements:[],hosttokens:[]},admin_users_send_email_to_change_username:{tokens:[["text","/admin/users/send-email-to-spaced-users"]],defaults:[],requirements:[],hosttokens:[]},admin_users_replace_null_avatars:{tokens:[["text","/admin/users/replace-avatar"]],defaults:[],requirements:[],hosttokens:[]},admin_users_referral_program:{tokens:[["text","/admin/users/referral-program"]],defaults:[],requirements:[],hosttokens:[]},admin_users_accept_or_reject_referral_program_ajax:{tokens:[["text","/admin/users/accept-or-reject-referral-program"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_users_invite_to_referral_program:{tokens:[["text","/admin/users/invite-to-referral-program"]],defaults:[],requirements:{_method:"POST"},hosttokens:[]},admin_users_list_ajax:{tokens:[["text","/admin/users/list/ajax"]],defaults:[],requirements:{_method:"GET"},hosttokens:[]}},prefix:"",host:"betfect.com",scheme:"https"});
window.analytics=window.analytics||[];window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"];window.analytics.factory=function(a){return function(){var b=Array.prototype.slice.call(arguments);b.unshift(a);window.analytics.push(b);return window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(b){if(document.getElementById("analytics-js")){return}var a=document.createElement("script");a.type="text/javascript";a.id="analytics-js";a.async=true;a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+b+"/analytics.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)};window.analytics.SNIPPET_VERSION="2.0.9";window.analytics.load("afn5ndu41e");window.analytics.page();function callSegmentPage(a,b){b=$.extend({},b,$userDetailsFromSessionForSegment);analytics.page(a,b)}function callSegmentIdentify(b,a){analytics.identify(b,a)}function callSegmentTrack(a,b){b=$.extend({},b,$userDetailsFromSessionForSegment);analytics.track(a,b)};
/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return !n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a)){return !1}if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf")){return !1}for(b in a){}return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++){if(b.call(a[d],d,a[d])===!1){break}}}else{for(d in a){if(b.call(a[d],d,a[d])===!1){break}}}return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a)){for(d=a.length;d>g;g++){e=b(a[g],g,c),null!=e&&h.push(e)}}else{for(g in a){e=b(a[g],g,c),null!=e&&h.push(e)}}return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length" in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x){return d}if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a))){if(f=o[1]){if(9===x){if(!(j=b.getElementById(f))){return d}if(j.id===f){return d.push(j),d}}else{if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f){return d.push(j),d}}}else{if(o[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName){return H.apply(d,b.getElementsByClassName(f)),d}}}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x){w=b,s=a}else{if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--){r[h]=l+" "+qa(r[h])}s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}}if(s){try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--){d.attrHandle[c[e]]=b}}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f){return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return ka(a,b)}c=a;while(c=c.parentNode){g.unshift(c)}c=b;while(c=c.parentNode){h.unshift(c)}while(g[d]===h[d]){d++}return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p]){if(h?m.nodeName.toLowerCase()===r:1===m.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}}else{if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1){while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b)){break}}}}return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=la(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=ma(b)}function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter){!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f){return k[2]=h[2]}if(i[d]=k,k[2]=a(b,c,g)){return !0}}}}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++){fa(a,b[d],c)}return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)))}return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[ra(sa(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||0.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++]){if(q(l,g||n,h)){i.push(l);break}}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++]){q(t,u,g,h)}if(f){if(r>0){while(s--){t[s]||u[s]||(u[s]=F.call(i))}}u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&n(a).is(c)){break}d.push(a)}}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(y.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++){if(n.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){n.find(a,e[b],d)}return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return !!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a){return this}if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b){return !b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b)){for(e in b){n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e])}}return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(n.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType){}return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length){f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1){f.splice(c,1),h>=c&&h--}}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return !f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return !!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return !!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1){for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f}}return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){K(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a)){return{}}var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b){e[b]=c}else{for(d in b){e[d]=b[d]}}return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b){this.register(a)}else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--){delete f[d[c]]}}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c)}else{c=void 0}}return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])))}N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c){return c}if(d=n.camelCase(a),c=O.get(f,d),void 0!==c){return c}if(c=R(f,d,void 0),void 0!==c){return c}}else{d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,n.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++){N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++){if(f=a[o],f||0===f){if("object"===n.type(f)){n.merge(m,f.nodeType?[f]:f)}else{if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--){g=g.lastChild}n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else{m.push(b.createTextNode(f))}}}}l.textContent="",o=0;while(f=m[o++]){if(d&&n.inArray(f,d)>-1){e&&e.push(f)}else{if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++]){Z.test(f.type||"")&&c.push(f)}}}}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return !0}function ha(){return !1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b){ja(a,h,c,d,b[h],f)}return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1){e=ha}else{if(!e){return a}}return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--){h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--){if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else{for(o in i){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1)){for(;i!==this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando]){return a}var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--){c=e[b],a[c]=g[c]}return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){n.event.add(b,e,j[e][c])}}}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q)){return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)})}if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++){j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m)}if(i){for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++){j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}}}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++){c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d))}return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++){ta(f[d],g[d])}}if(b){if(c){for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++){sa(f[d],g[d])}}else{sa(a,h)}}return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++){if(L(c)){if(b=c[N.expando]){if(b.events){for(d in b.events){e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle)}}c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++){c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get())}return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La){return a}var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--){if(a=Ka[c]+b,a in La){return a}}}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)))}return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g)){return g}f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+U[d]+b]=f[d]||f[d-2]||f[0]}return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=U[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d]){continue}p=!0}m[d]=q&&q[d]||n.style(a,d)}else{j=void 0}}if(n.isEmptyObject(m)){"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j)}else{q?"hidden" in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m){n.style(a,b,m[b])}});for(d in m){g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function $a(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++){if(d=_a.prefilters[f].call(j,a,k,j.opts)){return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d}}return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++){c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)}},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Va.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get" in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))})}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){d.indexOf(" "+f+" ")<0&&(d+=f+" ")}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))})}if(!arguments.length){return this.attr("class","")}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){while(d.indexOf(" "+f+" ")>-1){d=d.replace(" "+f+" "," ")}}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))}})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++]){if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1){return !0}}return !1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode){p.push(h),i=h}i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped()){b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault())}return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin" in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b){return null}try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g)){h[b[1].toLowerCase()]=b[2]}}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>v){for(b in a){s[b]=[s[b],a[b]]}}else{x.always(a[x.status])}}return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v){return x}k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers){x.setRequestHeader(l,m.headers[l])}if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v)){return x.abort()}w="abort";for(l in {success:1,error:1,complete:1}){x[l](m[l])}if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v){return x}m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v)){throw y}z(-1,y)}}else{z(-1,"No Transport")}function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return !n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Gb(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Gb(c,a[c],b,e)}}return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials" in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields){for(g in b.xhrFields){h[g]=b.xhrFields[g]}}b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e){h.setRequestHeader(g,e[g])}c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c){throw i}}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb){return Lb.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position")){a=a.offsetParent}return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void (f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
;if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(d){var c=d.fn.jquery.split(" ")[0].split(".");if(c[0]<2&&c[1]<9||1==c[0]&&9==c[1]&&c[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery),+function(d){function c(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in e){if(void 0!==f.style[g]){return{end:e[g]}}}return !1}d.fn.emulateTransitionEnd=function(a){var h=!1,g=this;d(this).one("bsTransitionEnd",function(){h=!0});var f=function(){h||d(g).trigger(d.support.transition.end)};return setTimeout(f,a),this},d(function(){d.support.transition=c(),d.support.transition&&(d.event.special.bsTransitionEnd={bindType:d.support.transition.end,delegateType:d.support.transition.end,handle:function(a){return d(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(g){function f(a){return this.each(function(){var d=g(this),b=d.data("bs.alert");b||d.data("bs.alert",b=new i(this)),"string"==typeof a&&b[a].call(d)})}var j='[data-dismiss="alert"]',i=function(a){g(a).on("click",j,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(a){function m(){d.detach().trigger("closed.bs.alert").remove()}var l=g(this),k=l.attr("data-target");k||(k=l.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,""));var d=g(k);a&&a.preventDefault(),d.length||(d=l.closest(".alert")),d.trigger(a=g.Event("close.bs.alert")),a.isDefaultPrevented()||(d.removeClass("in"),g.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m())};var h=g.fn.alert;g.fn.alert=f,g.fn.alert.Constructor=i,g.fn.alert.noConflict=function(){return g.fn.alert=h,this},g(document).on("click.bs.alert.data-api",j,i.prototype.close)}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.button"),b="object"==typeof a&&a;c||i.data("bs.button",c=new h(this,b)),"toggle"==a?c.toggle():a&&c.setState(a)})}var h=function(a,c){this.$element=f(a),this.options=f.extend({},h.DEFAULTS,c),this.isLoading=!1};h.VERSION="3.3.4",h.DEFAULTS={loadingText:"loading..."},h.prototype.setState=function(a){var l="disabled",k=this.$element,j=k.is("input")?"val":"html",i=k.data();a+="Text",null==i.resetText&&k.data("resetText",k[j]()),setTimeout(f.proxy(function(){k[j](null==i[a]?this.options[a]:i[a]),"loadingText"==a?(this.isLoading=!0,k.addClass(l).attr(l,l)):this.isLoading&&(this.isLoading=!1,k.removeClass(l).removeAttr(l))},this),0)},h.prototype.toggle=function(){var i=!0,d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var j=this.$element.find("input");"radio"==j.prop("type")&&(j.prop("checked")&&this.$element.hasClass("active")?i=!1:d.find(".active").removeClass("active")),i&&j.prop("checked",!this.$element.hasClass("active")).trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"))}i&&this.$element.toggleClass("active")};var g=f.fn.button;f.fn.button=e,f.fn.button.Constructor=h,f.fn.button.noConflict=function(){return f.fn.button=g,this},f(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var a=f(b.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){f(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),+function(g){function f(a){return this.each(function(){var l=g(this),k=l.data("bs.carousel"),c=g.extend({},j.DEFAULTS,l.data(),"object"==typeof a&&a),b="string"==typeof a?a:c.slide;k||l.data("bs.carousel",k=new j(this,c)),"number"==typeof a?k.to(a):b?k[b]():c.interval&&k.pause().cycle()})}var j=function(a,d){this.$element=g(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=d,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",g.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",g.proxy(this.pause,this)).on("mouseleave.bs.carousel",g.proxy(this.cycle,this))};j.VERSION="3.3.4",j.TRANSITION_DURATION=600,j.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},j.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();break;default:return}b.preventDefault()}},j.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(g.proxy(this.next,this),this.options.interval)),this},j.prototype.getItemIndex=function(b){return this.$items=b.parent().children(".item"),this.$items.index(b||this.$active)},j.prototype.getItemForDirection=function(l,k){var p=this.getItemIndex(k),o="prev"==l&&0===p||"next"==l&&p==this.$items.length-1;if(o&&!this.options.wrap){return k}var n="prev"==l?-1:1,m=(p+n)%this.$items.length;return this.$items.eq(m)},j.prototype.to=function(e){var d=this,k=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){d.to(e)}):k==e?this.pause().cycle():this.slide(e>k?"next":"prev",this.$items.eq(e))},j.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&g.support.transition&&(this.$element.trigger(g.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},j.prototype.next=function(){return this.sliding?void 0:this.slide("next")},j.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},j.prototype.slide=function(v,u){var t=this.$element.find(".item.active"),s=u||this.getItemForDirection(v,t),r=this.interval,q="next"==v?"left":"right",p=this;if(s.hasClass("active")){return this.sliding=!1}var o=s[0],n=g.Event("slide.bs.carousel",{relatedTarget:o,direction:q});if(this.$element.trigger(n),!n.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=g(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var a=g.Event("slid.bs.carousel",{relatedTarget:o,direction:q});return g.support.transition&&this.$element.hasClass("slide")?(s.addClass(v),s[0].offsetWidth,t.addClass(q),s.addClass(q),t.one("bsTransitionEnd",function(){s.removeClass([v,q].join(" ")).addClass("active"),t.removeClass(["active",q].join(" ")),p.sliding=!1,setTimeout(function(){p.$element.trigger(a)},0)}).emulateTransitionEnd(j.TRANSITION_DURATION)):(t.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(a)),r&&this.cycle(),this}};var i=g.fn.carousel;g.fn.carousel=f,g.fn.carousel.Constructor=j,g.fn.carousel.noConflict=function(){return g.fn.carousel=i,this};var h=function(n){var m,l=g(this),k=g(l.attr("data-target")||(m=l.attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,""));if(k.hasClass("carousel")){var b=g.extend({},k.data(),l.data()),a=l.attr("data-slide-to");a&&(b.interval=!1),f.call(k,b),a&&k.data("bs.carousel").to(a),n.preventDefault()}};g(document).on("click.bs.carousel.data-api","[data-slide]",h).on("click.bs.carousel.data-api","[data-slide-to]",h),g(window).on("load",function(){g('[data-ride="carousel"]').each(function(){var a=g(this);f.call(a,a.data())})})}(jQuery),+function(g){function f(a){var k,e=a.attr("data-target")||(k=a.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"");return g(e)}function j(a){return this.each(function(){var k=g(this),d=k.data("bs.collapse"),b=g.extend({},i.DEFAULTS,k.data(),"object"==typeof a&&a);!d&&b.toggle&&/show|hide/.test(a)&&(b.toggle=!1),d||k.data("bs.collapse",d=new i(this,b)),"string"==typeof a&&d[a]()})}var i=function(a,d){this.$element=g(a),this.options=g.extend({},i.DEFAULTS,d),this.$trigger=g('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,m=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(m&&m.length&&(a=m.data("bs.collapse"),a&&a.transitioning))){var l=g.Event("show.bs.collapse");if(this.$element.trigger(l),!l.isDefaultPrevented()){m&&m.length&&(j.call(m,"hide"),a||m.data("bs.collapse",null));var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!g.support.transition){return d.call(this)}var c=g.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",g.proxy(d,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[k](this.$element[0][c])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=g.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var k=this.dimension();this.$element[k](this.$element[k]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return g.support.transition?void this.$element[k](0).one("bsTransitionEnd",g.proxy(d,this)).emulateTransitionEnd(i.TRANSITION_DURATION):d.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return g(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(g.proxy(function(k,b){var a=g(b);this.addAriaAndCollapsedClass(f(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,d){var k=e.hasClass("in");e.attr("aria-expanded",k),d.toggleClass("collapsed",!k).attr("aria-expanded",k)};var h=g.fn.collapse;g.fn.collapse=j,g.fn.collapse.Constructor=i,g.fn.collapse.noConflict=function(){return g.fn.collapse=h,this},g(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(l){var k=g(this);k.attr("data-target")||l.preventDefault();var c=f(k),b=c.data("bs.collapse"),a=b?"toggle":k.data();j.call(c,a)})}(jQuery),+function(j){function i(a){a&&3===a.which||(j(n).remove(),j(m).each(function(){var g=j(this),c=p(g),b={relatedTarget:this};c.hasClass("open")&&(c.trigger(a=j.Event("hide.bs.dropdown",b)),a.isDefaultPrevented()||(g.attr("aria-expanded","false"),c.removeClass("open").trigger("hidden.bs.dropdown",b)))}))}function p(a){var f=a.attr("data-target");f||(f=a.attr("href"),f=f&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));var e=f&&j(f);return e&&e.length?e:a.parent()}function o(a){return this.each(function(){var e=j(this),b=e.data("bs.dropdown");b||e.data("bs.dropdown",b=new l(this)),"string"==typeof a&&b[a].call(e)})}var n=".dropdown-backdrop",m='[data-toggle="dropdown"]',l=function(a){j(a).on("click.bs.dropdown",this.toggle)};l.VERSION="3.3.4",l.prototype.toggle=function(r){var q=j(this);if(!q.is(".disabled, :disabled")){var c=p(q),b=c.hasClass("open");if(i(),!b){"ontouchstart" in document.documentElement&&!c.closest(".navbar-nav").length&&j('<div class="dropdown-backdrop"/>').insertAfter(j(this)).on("click",i);var a={relatedTarget:this};if(c.trigger(r=j.Event("show.bs.dropdown",a)),r.isDefaultPrevented()){return}q.trigger("focus").attr("aria-expanded","true"),c.toggleClass("open").trigger("shown.bs.dropdown",a)}return !1}},l.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var t=j(this);if(a.preventDefault(),a.stopPropagation(),!t.is(".disabled, :disabled")){var s=p(t),r=s.hasClass("open");if(!r&&27!=a.which||r&&27==a.which){return 27==a.which&&s.find(m).trigger("focus"),t.trigger("click")}var q=" li:not(.disabled):visible a",f=s.find('[role="menu"]'+q+', [role="listbox"]'+q);if(f.length){var c=f.index(a.target);38==a.which&&c>0&&c--,40==a.which&&c<f.length-1&&c++,~c||(c=0),f.eq(c).trigger("focus")}}}};var k=j.fn.dropdown;j.fn.dropdown=o,j.fn.dropdown.Constructor=l,j.fn.dropdown.noConflict=function(){return j.fn.dropdown=k,this},j(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",m,l.prototype.toggle).on("keydown.bs.dropdown.data-api",m,l.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',l.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',l.prototype.keydown)}(jQuery),+function(f){function e(a,c){return this.each(function(){var i=f(this),d=i.data("bs.modal"),b=f.extend({},h.DEFAULTS,i.data(),"object"==typeof a&&a);d||i.data("bs.modal",d=new h(this,b)),"string"==typeof a?d[a](c):b.show&&d.show(c)})}var h=function(a,d){this.options=d,this.$body=f(document.body),this.$element=f(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,f.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};h.VERSION="3.3.4",h.TRANSITION_DURATION=300,h.BACKDROP_TRANSITION_DURATION=150,h.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},h.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)},h.prototype.show=function(a){var i=this,c=f.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',f.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(d){f(d.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=f.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),d&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var b=f.Event("shown.bs.modal",{relatedTarget:a});d?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(b)}).emulateTransitionEnd(h.TRANSITION_DURATION):i.$element.trigger("focus").trigger(b)}))},h.prototype.hide=function(a){a&&a.preventDefault(),a=f.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),f(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),f.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",f.proxy(this.hideModal,this)).emulateTransitionEnd(h.TRANSITION_DURATION):this.hideModal())},h.prototype.enforceFocus=function(){f(document).off("focusin.bs.modal").on("focusin.bs.modal",f.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))},h.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",f.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},h.prototype.resize=function(){this.isShown?f(window).on("resize.bs.modal",f.proxy(this.handleUpdate,this)):f(window).off("resize.bs.modal")},h.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.$body.removeClass("modal-open"),b.resetAdjustments(),b.resetScrollbar(),b.$element.trigger("hidden.bs.modal")})},h.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},h.prototype.backdrop=function(a){var k=this,j=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=f.support.transition&&j;if(this.$backdrop=f('<div class="modal-backdrop '+j+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",f.proxy(function(b){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}i?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(h.BACKDROP_TRANSITION_DURATION):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){k.removeBackdrop(),a&&a()};f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(h.BACKDROP_TRANSITION_DURATION):c()}else{a&&a()}}},h.prototype.handleUpdate=function(){this.adjustDialog()},h.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})},h.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},h.prototype.checkScrollbar=function(){var d=window.innerWidth;if(!d){var c=document.documentElement.getBoundingClientRect();d=c.right-Math.abs(c.left)}this.bodyIsOverflowing=document.body.clientWidth<d,this.scrollbarWidth=this.measureScrollbar()},h.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)},h.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},h.prototype.measureScrollbar=function(){var d=document.createElement("div");d.className="modal-scrollbar-measure",this.$body.append(d);var c=d.offsetWidth-d.clientWidth;return this.$body[0].removeChild(d),c};var g=f.fn.modal;f.fn.modal=e,f.fn.modal.Constructor=h,f.fn.modal.noConflict=function(){return f.fn.modal=g,this},f(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(k){var j=f(this),i=j.attr("href"),b=f(j.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=b.data("bs.modal")?"toggle":f.extend({remote:!/#/.test(i)&&i},b.data(),j.data());j.is("a")&&k.preventDefault(),b.one("show.bs.modal",function(c){c.isDefaultPrevented()||b.one("hidden.bs.modal",function(){j.is(":visible")&&j.trigger("focus")})}),e.call(b,a,this)})}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.tooltip"),b="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||i.data("bs.tooltip",c=new h(this,b)),"string"==typeof a&&c[a]())})}var h=function(d,c){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",d,c)};h.VERSION="3.3.4",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},h.prototype.init=function(a,p,o){if(this.enabled=!0,this.type=a,this.$element=f(p),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&f(this.options.viewport.selector||this.options.viewport),this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var n=this.options.trigger.split(" "),m=n.length;m--;){var l=n[m];if("click"==l){this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this))}else{if("manual"!=l){var k="hover"==l?"mouseenter":"focusin",j="hover"==l?"mouseleave":"focusout";this.$element.on(k+"."+this.type,this.options.selector,f.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,f.proxy(this.leave,this))}}}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(a){return a=f.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},h.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&f.each(this._options,function(b,c){d[b]!=c&&(a[b]=c)}),a},h.prototype.enter=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d&&d.$tip&&d.$tip.is(":visible")?void (d.hoverState="in"):(d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="in",d.options.delay&&d.options.delay.show?void (d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)):d.show())},h.prototype.leave=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="out",d.options.delay&&d.options.delay.hide?void (d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)):d.hide()},h.prototype.show=function(){var F=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(F);var E=f.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(F.isDefaultPrevented()||!E){return}var D=this,C=this.tip(),B=this.getUID(this.type);this.setContent(),C.attr("id",B),this.$element.attr("aria-describedby",B),this.options.animation&&C.addClass("fade");var A="function"==typeof this.options.placement?this.options.placement.call(this,C[0],this.$element[0]):this.options.placement,z=/\s?auto?\s?/i,y=z.test(A);y&&(A=A.replace(z,"")||"top"),C.detach().css({top:0,left:0,display:"block"}).addClass(A).data("bs."+this.type,this),this.options.container?C.appendTo(this.options.container):C.insertAfter(this.$element);var x=this.getPosition(),w=C[0].offsetWidth,v=C[0].offsetHeight;if(y){var u=A,t=this.options.container?f(this.options.container):this.$element.parent(),s=this.getPosition(t);A="bottom"==A&&x.bottom+v>s.bottom?"top":"top"==A&&x.top-v<s.top?"bottom":"right"==A&&x.right+w>s.width?"left":"left"==A&&x.left-w<s.left?"right":A,C.removeClass(u).addClass(A)}var c=this.getCalculatedOffset(A,x,w,v);this.applyPlacement(c,A);var a=function(){var b=D.hoverState;D.$element.trigger("shown.bs."+D.type),D.hoverState=null,"out"==b&&D.leave(D)};f.support.transition&&this.$tip.hasClass("fade")?C.one("bsTransitionEnd",a).emulateTransitionEnd(h.TRANSITION_DURATION):a()}},h.prototype.applyPlacement=function(z,y){var x=this.tip(),w=x[0].offsetWidth,v=x[0].offsetHeight,u=parseInt(x.css("margin-top"),10),t=parseInt(x.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(t)&&(t=0),z.top=z.top+u,z.left=z.left+t,f.offset.setOffset(x[0],f.extend({using:function(b){x.css({top:Math.round(b.top),left:Math.round(b.left)})}},z),0),x.addClass("in");var s=x[0].offsetWidth,r=x[0].offsetHeight;"top"==y&&r!=v&&(z.top=z.top+v-r);var q=this.getViewportAdjustedDelta(y,z,s,r);q.left?z.left+=q.left:z.top+=q.top;var p=/top|bottom/.test(y),o=p?2*q.left-w+s:2*q.top-v+r,a=p?"offsetWidth":"offsetHeight";x.offset(z),this.replaceArrow(o,x[0][a],p)},h.prototype.replaceArrow=function(i,d,j){this.arrow().css(j?"left":"top",50*(1-i/d)+"%").css(j?"top":"left","")},h.prototype.setContent=function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](c),d.removeClass("fade in top bottom left right")},h.prototype.hide=function(a){function k(){"in"!=j.hoverState&&i.detach(),j.$element.removeAttr("aria-describedby").trigger("hidden.bs."+j.type),a&&a()}var j=this,i=f(this.$tip),c=f.Event("hide.bs."+this.type);return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(i.removeClass("in"),f.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",k).emulateTransitionEnd(h.TRANSITION_DURATION):k(),this.hoverState=null,this)},h.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(a){a=a||this.$element;var n=a[0],m="BODY"==n.tagName,l=n.getBoundingClientRect();null==l.width&&(l=f.extend({},l,{width:l.right-l.left,height:l.bottom-l.top}));var k=m?{top:0,left:0}:a.offset(),j={scroll:m?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},i=m?{width:f(window).width(),height:f(window).height()}:null;return f.extend({},l,j,i,k)},h.prototype.getCalculatedOffset=function(j,i,l,k){return"bottom"==j?{top:i.top+i.height,left:i.left+i.width/2-l/2}:"top"==j?{top:i.top-k,left:i.left+i.width/2-l/2}:"left"==j?{top:i.top+i.height/2-k/2,left:i.left-l}:{top:i.top+i.height/2-k/2,left:i.left+i.width}},h.prototype.getViewportAdjustedDelta=function(v,u,t,s){var r={top:0,left:0};if(!this.$viewport){return r}var q=this.options.viewport&&this.options.viewport.padding||0,p=this.getPosition(this.$viewport);if(/right|left/.test(v)){var o=u.top-q-p.scroll,n=u.top+q-p.scroll+s;o<p.top?r.top=p.top-o:n>p.top+p.height&&(r.top=p.top+p.height-n)}else{var m=u.left-q,l=u.left+q+t;m<p.left?r.left=p.left-m:l>p.width&&(r.left=p.left+p.width-l)}return r},h.prototype.getTitle=function(){var i,d=this.$element,j=this.options;return i=d.attr("data-original-title")||("function"==typeof j.title?j.title.call(d[0]):j.title)},h.prototype.getUID=function(b){do{b+=~~(1000000*Math.random())}while(document.getElementById(b));return b},h.prototype.tip=function(){return this.$tip=this.$tip||f(this.options.template)},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(a){var d=this;a&&(d=f(a.currentTarget).data("bs."+this.type),d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d))),d.tip().hasClass("in")?d.leave(d):d.enter(d)},h.prototype.destroy=function(){var b=this;clearTimeout(this.timeout),this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type)})};var g=f.fn.tooltip;f.fn.tooltip=e,f.fn.tooltip.Constructor=h,f.fn.tooltip.noConflict=function(){return f.fn.tooltip=g,this}}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.popover"),b="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||i.data("bs.popover",c=new h(this,b)),"string"==typeof a&&c[a]())})}var h=function(d,c){this.init("popover",d,c)};if(!f.fn.tooltip){throw new Error("Popover requires tooltip.js")}h.VERSION="3.3.4",h.DEFAULTS=f.extend({},f.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),h.prototype=f.extend({},f.fn.tooltip.Constructor.prototype),h.prototype.constructor=h,h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.setContent=function(){var i=this.tip(),d=this.getTitle(),j=this.getContent();i.find(".popover-title")[this.options.html?"html":"text"](d),i.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof j?"html":"append":"text"](j),i.removeClass("fade top bottom left right in"),i.find(".popover-title").html()||i.find(".popover-title").hide()},h.prototype.hasContent=function(){return this.getTitle()||this.getContent()},h.prototype.getContent=function(){var d=this.$element,c=this.options;return d.attr("data-content")||("function"==typeof c.content?c.content.call(d[0]):c.content)},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var g=f.fn.popover;f.fn.popover=e,f.fn.popover.Constructor=h,f.fn.popover.noConflict=function(){return f.fn.popover=g,this}}(jQuery),+function(f){function e(b,a){this.$body=f(document.body),this.$scrollElement=f(f(b).is(document.body)?window:b),this.options=f.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",f.proxy(this.process,this)),this.refresh(),this.process()}function h(a){return this.each(function(){var i=f(this),c=i.data("bs.scrollspy"),b="object"==typeof a&&a;c||i.data("bs.scrollspy",c=new e(this,b)),"string"==typeof a&&c[a]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var a=this,j="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),f.isWindow(this.$scrollElement[0])||(j="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var c=f(this),k=c.data("target")||c.attr("href"),d=/^#./.test(k)&&f(k);return d&&d.length&&d.is(":visible")&&[[d[j]().top+i,k]]||null}).sort(function(d,c){return d[0]-c[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var j,i=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),n=this.options.offset+o-this.$scrollElement.height(),m=this.offsets,l=this.targets,k=this.activeTarget;if(this.scrollHeight!=o&&this.refresh(),i>=n){return k!=(j=l[l.length-1])&&this.activate(j)}if(k&&i<m[0]){return this.activeTarget=null,this.clear()}for(j=m.length;j--;){k!=l[j]&&i>=m[j]&&(void 0===m[j+1]||i<m[j+1])&&this.activate(l[j])}},e.prototype.activate=function(a){this.activeTarget=a,this.clear();var j=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',i=f(j).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){f(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var g=f.fn.scrollspy;f.fn.scrollspy=h,f.fn.scrollspy.Constructor=e,f.fn.scrollspy.noConflict=function(){return f.fn.scrollspy=g,this},f(window).on("load.bs.scrollspy.data-api",function(){f('[data-spy="scroll"]').each(function(){var a=f(this);h.call(a,a.data())})})}(jQuery),+function(g){function f(a){return this.each(function(){var c=g(this),b=c.data("bs.tab");b||c.data("bs.tab",b=new j(this)),"string"==typeof a&&b[a]()})}var j=function(a){this.element=g(a)};j.VERSION="3.3.4",j.TRANSITION_DURATION=150,j.prototype.show=function(){var a=this.element,p=a.closest("ul:not(.dropdown-menu)"),o=a.data("target");if(o||(o=a.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var n=p.find(".active:last a"),m=g.Event("hide.bs.tab",{relatedTarget:a[0]}),l=g.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(m),a.trigger(l),!l.isDefaultPrevented()&&!m.isDefaultPrevented()){var k=g(o);this.activate(a.closest("li"),p),this.activate(k,k.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},j.prototype.activate=function(a,n,m){function l(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),c?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),m&&m()}var k=n.find("> .active"),c=m&&g.support.transition&&(k.length&&k.hasClass("fade")||!!n.find("> .fade").length);k.length&&c?k.one("bsTransitionEnd",l).emulateTransitionEnd(j.TRANSITION_DURATION):l(),k.removeClass("in")};var i=g.fn.tab;g.fn.tab=f,g.fn.tab.Constructor=j,g.fn.tab.noConflict=function(){return g.fn.tab=i,this};var h=function(a){a.preventDefault(),f.call(g(this),"show")};g(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',h).on("click.bs.tab.data-api",'[data-toggle="pill"]',h)}(jQuery),+function(f){function e(a){return this.each(function(){var i=f(this),c=i.data("bs.affix"),b="object"==typeof a&&a;c||i.data("bs.affix",c=new h(this,b)),"string"==typeof a&&c[a]()})}var h=function(a,c){this.options=f.extend({},h.DEFAULTS,c),this.$target=f(this.options.target).on("scroll.bs.affix.data-api",f.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",f.proxy(this.checkPositionWithEventLoop,this)),this.$element=f(a),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};h.VERSION="3.3.4",h.RESET="affix affix-top affix-bottom",h.DEFAULTS={offset:0,target:window},h.prototype.getState=function(t,s,r,q){var p=this.$target.scrollTop(),o=this.$element.offset(),n=this.$target.height();if(null!=r&&"top"==this.affixed){return r>p?"top":!1}if("bottom"==this.affixed){return null!=r?p+this.unpin<=o.top?!1:"bottom":t-q>=p+n?!1:"bottom"}var m=null==this.affixed,l=m?p:o.top,k=m?n:s;return null!=r&&r>=p?"top":null!=q&&l+k>=t-q?"bottom":!1},h.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(h.RESET).addClass("affix");var d=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-d},h.prototype.checkPositionWithEventLoop=function(){setTimeout(f.proxy(this.checkPosition,this),1)},h.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),p=this.options.offset,o=p.top,n=p.bottom,m=f(document.body).height();"object"!=typeof p&&(n=o=p),"function"==typeof o&&(o=p.top(this.$element)),"function"==typeof n&&(n=p.bottom(this.$element));var l=this.getState(m,a,o,n);if(this.affixed!=l){null!=this.unpin&&this.$element.css("top","");var k="affix"+(l?"-"+l:""),c=f.Event(k+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented()){return}this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(h.RESET).addClass(k).trigger(k.replace("affix","affixed")+".bs.affix")}"bottom"==l&&this.$element.offset({top:m-a-n})}};var g=f.fn.affix;f.fn.affix=e,f.fn.affix.Constructor=h,f.fn.affix.noConflict=function(){return f.fn.affix=g,this},f(window).on("load",function(){f('[data-spy="affix"]').each(function(){var b=f(this),a=b.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),e.call(b,a)})})}(jQuery);
var xhr;var blockNextEnter=false;var delay=(function(){var a=0;return function(c,b){clearTimeout(a);a=setTimeout(c,b)}})();$(document).ready(function(){$(window).on("load",function(){$(".notif_drop ul").scrollTop(0)});$(".topnav > li:gt(11)").hide();$(".showMoreSports_button").click(function(){var m=$(this);var l="";var j=window.location.pathname;var k=$(this);if(k.hasClass("active")){l="show_less_sports_clicked";$(".topnav > li:gt(11)").hide();k.removeClass("active");k.text("+ Show More...")}else{l="show_more_sports_clicked";$(".topnav > li:gt(11)").show();k.addClass("active");k.text("- Show Less...")}var n={path:j};callSegmentTrack(l,n)});$(".mobileMenuStatic").click(function(){$(".topnavStatic").slideToggle();$(".mobileMenuStatic").html($(".mobileMenuStatic").html()=='<i class="fa fa-angle-up"></i> Menu'?'<i class="fa fa-angle-down"></i> Menu':'<i class="fa fa-angle-up"></i> Menu')});$(".headerLogin").click(function(){var j=$(this);var k=$(".loginError");if(j.hasClass("hideLogin")){j.fadeOut(function(){$("header").removeClass("headerDark");j.removeClass("hideLogin");$(this).text("Log In")}).fadeIn("fast");$(".headerLoginBox").slideUp("fast");if(k){k.slideUp()}}else{j.addClass("hideLogin");$(this).text("X");if($(window).width()<1080){$(".headerLoginBox").slideDown()}else{$(".headerLoginBox").slideDown(150)}$("header").addClass("headerDark");$(".headerLoginBox > form > input[type='text']").focus()}if($(window).width()<800){$(".headerLoginBox > form > .forgotPassword > a").text("Forgot Password?")}});$(".compIsLive").click(function(){var j=$(".compIsLive > .fa.fa-chevron-down");var k=$(".competitionLeftList");if(j.hasClass("rotateMenu")){j.removeClass("rotateMenu");k.slideUp(function(){$(".competitionLeft").css({"border-radius":"3px"})})}else{j.addClass("rotateMenu");k.slideDown();$(".competitionLeft").css({"border-radius":"3px 3px 0 0"})}});$(".competitionLeft").click(function(){var j=window.location.pathname;var k="competition_button_clicked";var l={path:j};callSegmentTrack(k,l)});$(".competitionLeftList ul li a").click(function(){var n=$(this);var k=window.location.pathname;var l=n.attr("href");var j=l.split("/");var m=j[2]+"_competition_clicked";var o={path:k};callSegmentTrack(m,o)});$(".walletsMobileButton").click(function(){$(".walletsMobileToggle").slideToggle(200);$(".walletsMobileButton i:last-child").toggleClass("rotateMenu")});$(".competitionMobileButton").click(function(){var j=window.location.pathname;var k="competition_button_clicked_mobile";var l={path:j};callSegmentTrack(k,l);$(".competitionMobileToggle").slideToggle(200);$(".competitionMobileButton i:last-child").toggleClass("rotateMenu")});$(".Landingtabs-menu li").click(function(n){n.preventDefault();$(this).addClass("current");$(this).siblings().removeClass("current");var m=$(this).attr("id");var j=window.location.pathname;var k=m.slice(1)+"_clicked";var l={path:j};callSegmentTrack(k,l);$(".Landingtab-content").not(m).css("display","none");$(m).fadeIn(120)});$(".closeNotificationButton").click(function(){var j=$(this);$.ajax({url:Routing.generate("close_notification_banner"),data:{id:j.parent().attr("notification-id")},type:"POST",success:function(k){j.parent().slideUp(400,function(){$(".content").css("top","60px");$(".rightbarContainerWrap").css("top","80px")})}})});$(".footerWidget ul li a").click(function(){var j=window.location.pathname;var k="";var l={path:j};if($(this).attr("id")!=null){k=$(this).attr("id")+"_clicked"}else{k="footer_link_"+$(this).attr("href").slice(1)+"_clicked"}callSegmentTrack(k,l)});$(".betfectPlusLeft").click(function(){window.location.href=window.location.pathname;Routing.generate("betfect_plus")});$(".twitterSignUp").click(function(){loadTwitterPopup()});$("#register_social_complete").submit(function(k){var j=$(this).children(".container").children("#container").children(".peopleSection").children(".landingInnerSignup").children(".landingFormFieldBtn").children("button");j.html('Creating account... <span class="fa fa-spinner fa-spin" id="searchLoadingIconPost"></span>').fadeIn(300);j.prop("disabled",true)});(function g(){$(".betfect_tooltip").tooltip()}());(function a(){$.ajax({url:Routing.generate("show_notifications"),type:"GET"})}());$("#logInModal").click(function(){if($(this).hasClass("opened")){$(this).removeClass("opened");$(this).addClass("closed");$(this).html("<i class='fa fa-times'></i>");$(this).parent().addClass("loginMove");$(this).parent().parent().next("div").removeClass("hidden")}else{if($(this).hasClass("closed")){$(this).removeClass("closed");$(this).addClass("opened");$(this).parent().addClass("loginMove");$(this).text("Log In");$(this).parent().parent().next("div").addClass("hidden")}}});$("#onClickSelectAll").click(function(){$(this).select()});$("select").selectric();$(".modal").on("shown.bs.modal",function(){$(this).before($(".modal-backdrop"));$(this).css("z-index",parseInt($(".modal-backdrop").css("z-index"))+1)});$(".hiddenOutCome").click(function(){$(this).next(".eventsOutcomeWrap").slideToggle();console.log($(this));if($(this).children().children().children(".expandSelection").html()=='<i class="fa fa-plus"></i>'){$(this).children().children().children(".expandSelection").html('<i class="fa fa-minus"></i>')}else{$(this).children().children().children(".expandSelection").html('<i class="fa fa-plus"></i>')}});$("#multibetStake").click(function(){var j=window.location.pathname;var k="betslip_money_entered";var l={path:j};callSegmentTrack(k,l)});$(".selectric-scroll ul li").click(function(){var j=window.location.pathname;var k=$(this).html().toLowerCase()+"_selected";var l={path:j};callSegmentTrack(k,l)});$(".viewWallets").click(function(){var j=window.location.pathname;var k="manage_wallets_clicked";var l={path:j};callSegmentTrack(k,l);$(".providerList").toggle()});$(".leaderboardFilter ul li").click(function(){var j=window.location.pathname;var k=$(this).attr("dayamount")+"_filter_selected";var l={path:j};callSegmentTrack(k,l)});$("#post_form_title").click(function(){var j=window.location.pathname;var k="ask_question_clicked";var l={path:j};callSegmentTrack(k,l)});$(".selectric-scroll ul li").click(function(){var j=window.location.pathname;var l=$(this).html().toLowerCase().replace(/ /g,"_");var k=l+"_selected";var m={path:j};callSegmentTrack(k,m)});initChangePriceFormat();$("input, textarea").placeholder();function d(l){var m=l.attr("id").split("-")[1];var k="commentChars-"+m;var j=$("#"+k);l.limiter(140,j)}initCommentBox();function f(){var j=Routing.generate("close_ladbrokes_connect_popup");$.ajax({url:j,type:"POST"})}$(document).on("click",".followDetails",function(){var l=$(this);l.prop("disabled",true);l.children("span.fa.fa-spinner.fa-spin").show();var m=$(this).attr("id");if(!m){return}var n=m.split("-");var k=n[0];var o=n[1];var j=n[2];if(!$(this).hasClass("active")){l.children("span.fa.fa-spinner.fa-spin");$.ajax({type:"POST",url:Routing.generate("add_follower"),cache:false,data:{userId:k,followerId:o,page_location:j},beforeSend:function(){if(j!=="popup"){}},success:function(p){l.children(".follow-text").hide();l.children(".following-text").show();l.children(".following-text").text("Following");l.addClass("active")},error:function(){}}).always(function(){l.children("span.fa.fa-spinner.fa-spin").hide();l.prop("disabled",false)})}else{$.ajax({type:"POST",url:Routing.generate("remove_follower"),cache:false,data:{userId:k,followerId:o,page_location:j},beforeSend:function(){if(j!=="popup"){}},success:function(p){l.children(".following-text").hide();l.children(".follow-text").show();l.removeClass("active")},error:function(){}}).always(function(){l.children("span.fa.fa-spinner.fa-spin").hide();l.prop("disabled",false)})}if(j==="popup"){$(".black_overlay").show()}});$(document).on("mouseenter",".followBtn button",function(){if($(this).hasClass("active")){$(this).children(".following-text").text("Unfollow")}else{$(this).addClass("followingActive")}});$(document).on("mouseleave",".followBtn button",function(){if($(this).hasClass("active")){$(this).children(".following-text").text("Following")}else{$(this).removeClass("followingActive")}});$(".newPickTabsFilter li a").click(function(q){q.preventDefault();var n=$(this);var k=window.location.pathname;var p=n.attr("href").substring(1);if(p=="homePageFilterTab1"){p="all_bets_home"}else{if(p=="homePageFilterTab2"){p="all_bets_discover"}}var l=p+"_clicked";var m=p.split("_");k=m[2];var o={path:k};callSegmentTrack(l,o);$(".homePageFilter li").removeClass("active");$(this).parent().addClass("active");var j=$(this).attr("href");$(".homePageTabs").hide();$(j).show();callMasonry()});$("#settings_picture").change(function(){h(this)});$("#user_stepthree_register_avatar").change(function(){h(this)});function h(k){if(k.files&&k.files[0]){var j=new FileReader();j.onload=function(l){$("#uploadImage").css({display:"block"});$("#uploadImage").attr({src:l.target.result,height:"100",width:"100"})};j.readAsDataURL(k.files[0])}}$(".globeWrap").click(function(){if($(".toggleGlobe").css("display")!="none"){$(".toggleGlobe").css("display","none")}else{$(".toggleGlobe").css("display","block")}});$("#multibetStake").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"");var j=$(".other_prov_icon").attr("data-odd");if($("#betslip-list > div").children().length!=0){var m=$("#multibetOdd").text().replace("@","");if(m){var k=m*this.value;var n=j*this.value;var l=false;$("#betslip-list .activeBetslipContent").each(function(o){if($(this).children("div:first").find(".selectionOddValue").text().trim()=="SP"){l=true}});if(l){$("#estimatedPayout span").text(k.toFixed(2)+" + SP");$("#estimated-payout-provider").html("Est. payout: &pound"+n.toFixed(2)+" + SP");$("#estimated-payout-provider2").html("Est. payout: &pound"+n.toFixed(2)+" + SP")}else{$("#estimatedPayout span").text(k.toFixed(2));$("#estimated-payout-provider").html("Est. payout: &pound"+n.toFixed(2));$("#estimated-payout-provider2").html("Est. payout: &pound"+n.toFixed(2))}}}else{$("#estimatedPayout span").text(0);$("#estimated-payout-provider").text("@ "+j);$("#estimated-payout-provider2").text("@ "+j)}if(this.value==""){$("#totalStake span").text(0);$("#estimated-payout-provider").text("@ "+j);$("#estimated-payout-provider2").text("@ "+j)}else{$("#totalStake span").text(this.value)}});$(".adminArrowBg").click(function(){var j=window.location.pathname;var k="profile_dropdown_clicked";var l={path:j};callSegmentTrack(k,l);$(".profileToggleMenu").slideToggle("fast")});$(".show_notification_betslip").click(function(){if($("div.notif_drop").css("display")=="none"){var j=window.location.pathname;var l="open_notifications";var m={path:j};callSegmentTrack(l,m)}if($(this).find("div.blue_dot_2").hasClass("blue_dot_2")){var k=Routing.generate("hide_notifications");$.ajax({type:"POST",url:k}).done()}var k=Routing.generate("set_notifications");$.ajax({type:"GET",url:k}).done();$(".show_notification_betslip").next(".notif_drop").toggle();$(".notif_drop ul").scrollTop(0);if($(".notif_drop").css("display")=="block"){document.body.style.overflow="hidden"}else{document.body.style.overflow=""}});$(".show_notification_messages").click(function(){if($(this).find("div.blue_dot_2").hasClass("blue_dot_2")){$(this).find("div.blue_dot_2").hide()}window.location=Routing.generate("messages")});$(".notification_unread").click(function(){$(this).attr("class","notification_read")});$(".poppy .close").click(function(){$(".poppy").hide()});$(".pop_success .close").click(function(){$(".pop_success").hide()});$(".pop_success .closeBtn").click(function(){$(".pop_success").hide()});$(".ladbrokesButton_new2").click(function(){window.location=Routing.generate("people",true)});$(".ladbrokesButton_new3").click(function(){window.location=Routing.generate("post_index",true)});$("#editProfileButton").click(function(){window.location=Routing.generate("settings",true)});var c=$(".eventTxt");c.each(function(){var j=$(this).text().length;if((j<10)){$(this).css("font-size","14px")}else{$(this).css("font-size","12px")}});initViewEventButtons();$(".search_box").click(function(){$(this).css({background:"#fff",color:"#333","padding-left":"10px"});$(this).parent().find(".searchIcon").removeClass("searchIcon").addClass("searchIconFocus");$(this).parent().find(".searchIcon").hide();$("#searchLoadingIcon").hide()});$("html").click(function(s){var j=$(".search_box");if(!j.is(s.target)){if($(j).parent().find("span").hasClass("searchIconFocus")){$(j).parent().find("span").removeClass("searchIconFocus");$(j).parent().find("span").addClass("searchIcon");$(".search_box").css({background:"#4f4f4f",color:"#fff","padding-left":"30px"});$(".search_box").val("");$(".search_box").parent().find(".searchIcon").show();$("#searchLoadingIcon").hide();$(".search_dropdown").html("").hide()}}var p=$(".profile-arrow");if(!p.is(s.target)){if($(".profileToggleMenu").is(":visible")){$(".profileToggleMenu").hide()}}var k=$(".show_notification_betslip");if(!k.is(s.target)){if(k.next(".notif_drop").is(":visible")){k.next(".notif_drop").hide()}if($(".notif_drop").css("display")=="block"){document.body.style.overflow="hidden"}else{document.body.style.overflow=""}}var m=$(".show_notification_messages");if(!m.is(s.target)){if(m.next(".notif_drop").is(":visible")){m.next(".notif_drop").hide()}}var r=$(".globeWrap");if(!r.is(s.target)){if($(".toggleGlobe").css("display")=="block"){$(".toggleGlobe").css("display","none")}}var q=$(".black_overlay");var t=$(".openPopup");var l=$(".referralPopup");var o=$(".ladBrokesConnectPopup");if(q.is(":visible")&&(t.is(":visible")||l.is(":visible")||o.is(":visible"))&&q.is(s.target)){t.hide();l.hide();if($(".ladBrokesConnectPopup").is(":visible")){f()}o.hide();q.fadeOut();$("body").css({"overflow-y":"scroll"})}var n=$(".providerList");if(!n.is(s.target)&&!$("p.viewWallets.cursor-pointer").is(s.target)&&!$("div.providerWallets div.login").is(s.target)&&!$("div.providerWallets div.walletListButton").is(s.target)&&!$.magnificPopup.instance.isOpen){if(n.is(":visible")){n.toggle()}}});$(function(){var l=$(".progress-pie-chart"),k=parseInt(l.data("percent")),j=360*k/100;if(k>50){l.addClass("gt-50")}$(".ppc-progress-fill").css("transform","rotate("+j+"deg)");$(".ppc-percents span").html(k+"%")});$(".search_box").keyup(function(l){if(l.which<=90&&l.which>=48||l.which>=96&&l.which<=105||l.which===8){var k=$(this).val();if(k.length===0){$(".search_dropdown").html("");return false}if(xhr&&xhr.readyState!==4){xhr.abort()}var j=Routing.generate("search_betfect_new");delay(function(){$("#searchLoadingIcon").show();$(".searchIconFocus").css({right:"26px"});xhr=$.ajax({type:"POST",url:j,cache:false,data:{keyword:k},success:function(r){$(".search_dropdown").html("");if($(".search_dropdown").html().length>0){return false}r=JSON.parse(r);var p="";if(r.people){p+='<div class="search_people">';p+="<h3><span>People</span></h3>";p+='<ul class="scrollbox">';for(var o=0;o<r.people.length;o++){var q=Routing.generate("profile",{nickname:r.people[o].nickname});p+="<li>";p+='<a href="'+q+'">';p+='<i class="search_cntdimg"><img src="'+r.people[o].picture+'" alt=""></i>';p+='<span class="search_cntdtitle">'+r.people[o].nickname+'<span class="sub_txt"><sub>'+r.people[o].followers+"</sub> Followers</span></span>";p+="</a>";p+="</li>"}p+="</ul>";p+="</div>"}if(r.sports){p+='<div class="search_sports">';p+="<h3><span>Sports</span></h3>";p+='<ul class="scrollbox">';for(var o=0;o<r.sports.length;o++){var n=Routing.generate("sport",{param:r.sports[o].slug});p+="<li>";p+='<a href="'+n+'">';p+='<i class="search_event_img"><img src="'+r.sports[o].picture+'" alt=""></i>';p+='<span class="search_cntdtitle">'+r.sports[o].name+'<span class="sub_txt"><sub>'+r.sports[o].events+"</sub> Events</span></span>";p+="</a>";p+="</li>"}p+="</ul>";p+="</div>"}if(r.leagues){p+='<div class="search_league">';p+="<h3><span>Leagues</span></h3>";p+='<ul class="scrollbox">';for(var o=0;o<r.leagues.length;o++){var m="";if(r.leagues[o].parent_league_slug==null){m=Routing.generate("sport_league",{sport:r.leagues[o].sport_slug,league:r.leagues[o].slug})}else{m=Routing.generate("league_subleague",{sport:r.leagues[o].sport_slug,league:r.leagues[o].slug,country:r.leagues[o].parent_league_slug==null?"-":r.leagues[o].parent_league_slug})}p+="<li>";p+='<a href="'+m+'">';p+='<i class="search_event_img"><img src="'+r.leagues[o].picture+'" alt=""></i>';p+='<span class="search_cntdtitle">'+r.leagues[o].name+'<span class="sub_txt"><sub>'+r.leagues[o].events+"</sub> Events</span></span>";p+="</a>";p+="</li>"}p+="</ul>";p+="</div>"}if(r.events){p+='<div class="search_events">';p+="<h3><span>Events</span></h3>";p+='<ul class="scrollbox">';for(var o=0;o<r.events.length;o++){var s=Routing.generate("event",{sport:r.events[o].sport_slug,event:r.events[o].encId,event_name:r.events[o].slug});p+="<li>";p+='<a href="'+s+'">';p+='<i class="search_event_img"><img src="'+r.events[o].picture+'" alt=""></i>';p+='<span class="search_cntdtitle">'+r.events[o].name+'<span class="sub_txt date-wrap">';p+='<span class="date">'+r.events[o].date+"</span>";p+='<span class="month">'+r.events[o].month+"</span> | ";p+='<span class="time">'+r.events[o].time+"</span></span></span>";p+="</a>";p+="</li>"}p+="</ul>";p+="</div>"}p+='<div class="search_hint">';p+="</div>";$(".search_dropdown").show();$(".search_dropdown").append(p);callScrollPlugin();$("ul.scrollbox li").click(function(){var t=window.location.pathname;var w=$(this).children().attr("href");var u="user_searched";var v={button_clicked:w,path:t};callSegmentTrack(u,v)});$(".searchIconFocus").css({right:""});$("#searchLoadingIcon").hide()}})},200)}});callScrollPlugin();$(document).on("click",".like",function(){var n=$(this);var l=n.attr("id").split("-");var m=l[1];var j=l[2];var k=Routing.generate("like_betslip");$.ajax({type:"POST",url:k,cache:false,data:{betslipId:m,page_location:j},beforeSend:function(){callPreloader()},success:function(p){hidePreloader();if(p.output==="success"){n.attr("disabled","disabled");var o=parseInt(n.parent().parent().find("#likeButtonNumber").text());o++;n.parent().parent().find("#likeCount").text(o);n.find("#likeButtonText").text(" Liked");n.find("#likeButtonNumber").text(o);n.addClass("active")}},error:function(){hidePreloader();hideBetslipPopup();$("#registrationModal").modal({keyboard:false})}})});$(document).on("click",".copy",function(){var m=$(this);var q=m.attr("id").split("-");var l=q[1];var n=q[2];var r=q[3];var k=q[4];var p=m.html();var j="copy_betslip";var o={betslip_id:l,betslip_user_id:r,betslip_user_nickname:k,page_location:n};callSegmentTrack(j,o);m.html('<i class="fa fa-spinner fa-spin"></i>');$.ajax({type:"POST",url:Routing.generate("copy_betslip"),cache:false,data:{betslipId:l,page_location:n},success:function(s){$("#betslip-list").html("");$("#betslip-list").html(s.view);setMultibet(s.count,s.totalOdd);m.html(p);$("button.copy").removeClass("active");m.addClass("active");changeBetProviderIconInBetslipContainer(s.betProviderCode);flashBorder(".activeBetslipContent");hideBetslipPopup()},error:function(){m.html(p);hideBetslipPopup();$("#registrationModal").modal({keyboard:false})}})});$(document).on("click",".share",function(){var r=$(this);var k=r.attr("id").split("-");var u=k[1];var p=k[2];var s=k[3];var v=k[4];var m=k[5];var o=k[6];var q=k[7];var n=k[8];var j="share_betslip";var t={betslip_id:p,betslip_user_id:v,betslip_user_nickname:m,social:o,page_location:q};callSegmentTrack(j,t);sumShareBetfectPlus();if(typeof n!="undefined"){var l=Routing.generate("betslip_show_betslip_with_nickname",{betCode:u,nickname:m,betProviderCode:s,r:n},true)+"?utm_campaign=betslip_share%26utm_medium=post%26utm_source=facebook"}else{var l=Routing.generate("betslip_show_betslip_with_nickname",{betCode:u,nickname:m,betProviderCode:s},true)+"?utm_campaign=betslip_share%26utm_medium=post%26utm_source=facebook"}console.log(l);window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(l),"sharer","toolbar=0,status=0,width=548,height=325")});$(document).on("keyup",".commentBox",function(o){if(o.keyCode!==13||(o.keyCode===13&&o.shiftKey)){return}if(blockNextEnter){blockNextEnter=false;return}var p=$(this).val();$(this).val(p.substring(0,p.length-1));var n=$(this);var l=n.attr("id").split("-");var m=l[1];var j=l[2];var p=n.val().trim();if(p.length===0){return false}var k=Routing.generate("comment_betslip");$.ajax({type:"POST",url:k,cache:false,data:{betslipId:m,comment:p,page_location:j},beforeSend:function(){$(".openPopup").focus();$(".openPopup").hide();callPreloader()},success:function(r){hidePreloader();r=JSON.parse(r);if(r.output==="success"){n.val("");n.parent().parent().parent().find(".commentSection").append(r.comment);if(!n.hasClass("noMasonry")){callMasonry()}d(n);var q=window.location.href.split("/");if(q[3]=="betslip"){hideBetslipPopup();window.history.pushState(null,null,"/");location.reload()}}},error:function(){hidePreloader();hideBetslipPopup();$("#registrationModal").modal({keyboard:false})}})});showOnlyThreeSelectionsInsideBetslip();showAllMatchesClick();$(".commentSection").each(function(){$(this).find("div.comments").slice(-3).show()});showAllComments();$("#newsInputBox").focus(function(){$("#shareTwitterTick").fadeIn("fast");$("#charAmountLeft").fadeIn();$(".newsComment").css("padding-bottom","5px")});$(".howToTabs ul.tabs li").click(function(){var j=$(this).attr("data-tab");$(".howToTabs ul.tabs li").removeClass("current");$(".howToTabs .tab-content").removeClass("current");$(this).addClass("current");$("#"+j).addClass("current");$(".tab-in-video").attr("src","");if(j=="tab-1"){$("#tab-1-video").attr("src","https://www.youtube.com/embed/PmwBAkaBy08?rel=0&autoplay=1")}if(j=="tab-2"){$("#tab-2-video").attr("src","https://www.youtube.com/embed/v6wRaoIK_eY?rel=0&autoplay=1")}if(j=="tab-3"){$("#tab-3-video").attr("src","https://www.youtube.com/embed/AzG0v-T9eMM?rel=0&autoplay=1")}});$(".removeTutorials").click(function(){$(".howToTabs").slideUp().remove();$.ajax({url:Routing.generate("hide_video_tutorial"),type:"POST"})});$(".poppy .okBtn").click(function(){$(".poppy").hide()});$(".moreFilters").click(function(){var m=$(this);var j=window.location.pathname;var k="";var l={path:j};m.text("- Filters");m.toggleClass("SeeMore2");if(m.hasClass("SeeMore2")){m.text("+ Filters");k="filter_close_clicked";$(".feedWonMenuFilter").slideUp()}else{m.text("- Filters");k="filter_open_clicked";$(".feedWonMenuFilter").slideDown()}callSegmentTrack(k,l)});if($("#edit-profile").length>0){var e=$("#bioChars");$("#settings_bio").limiter(150,e)}if($(".betslip").length>0){$(".homePageBteslips textarea").each(function(){d($(this))});$(".feedWonBg textarea").each(function(){d($(this))});$(".betslip").each(function(){if($(this).find("p.betslipActivity").length>0){$(this).find(".greenTriangle").css("top","40px");$(this).find(".redTriangle").css("top","40px")}})}var e=$("#aboutBetChar");$("#aboutBet").limiter(150,e);$(".bettingHistorytab li a").click(function(){$(".bettingHistorytab li a").removeClass("active");$(this).addClass("active");$(".historyDropMenu").removeClass("active");$(this).next("ul").addClass("active");$(this).next("ul").find("li").removeClass("active");$(this).next("ul").find("li:last").addClass("active")});$(".historyDropMenu li").click(function(){$(".historyDropMenu li").removeClass("active");$(this).addClass("active");var j=$(this).text().toLowerCase();if(j!=="all"){$(".bettingHistoryContent").find(".active > div").css("display","none").filter("."+j).css("display","block")}else{$(".bettingHistoryContent").find(".active > div").css("display","block")}});$(".bettingHistorytab li").click(function(){var k=$(this).attr("class");var j=k.replace("historyTab","");$(".bettingHistoryContent").find(".betslipHistory").removeClass("active");$(".bettingHistoryContent").find(".betslipContent"+j).addClass("active")});$(".completeProfileBar i").click(function(){$(this).parent().parent().fadeOut()});$(".newBetfectPlusBar i").click(function(){$.ajax({url:Routing.generate("close_betfect_plus_popup")});$(this).parent().parent().fadeOut()});$(".resendConfirmationEmail").click(function(){$(".resendConfirmationEmail").html('Resend Confirmation... <i class="fa fa-spinner fa-spin"></i>');$.ajax({url:Routing.generate("resent_confirmation_email"),success:function(){$(".resendConfirmationEmail").text("Resend Confirmation Link");$(".confirmation_resent").text("Check your email now!");console.log("Email sent")}})});$(".successHome").click(function(){window.location.replace(Routing.generate("home"))});$(".agreementLink").click(function(){$(".theAgreement").slideToggle()});$(".closeBtn").click(function(){if($(".pop_success .closeBtn").parent().children(".betslipInside").children(".betslipContent").children(".payoutStake").children(".payOutVal").children("#totalStake").text()!=" "){location.reload()}$(".black_overlay").fadeOut();$(".openPopup").hide();$(".openPopup").removeClass("active");$(".referralPopup").hide();if($(".ladBrokesConnectPopup").is(":visible")){f()}$(".ladBrokesConnectPopup").hide();$("body").css({"overflow-y":"scroll"})});$(".referralButton").click(function(k){k.preventDefault();var j=$(this).parent().attr("href");$(".referralPopup span").html(j);$(".referralPopup").show();$(".black_overlay").show()});$(".signupFormError").click(function(){$(this).parent().hide()});if($(".homePageTabs").length>0){$(window).scroll(function(){if($(window).scrollTop()==$(document).height()-$(window).height()){if($("#homePageFilterTab1").css("display")=="block"&&$("#homePageFilterTab1").length>0){var k="#homePageFilterTab1"}else{if($("#homePageFilterTab2").css("display")=="block"&&$("#homePageFilterTab2").length>0){var k="#homePageFilterTab2"}else{if($("#open_bets_discover").css("display")=="block"&&$("#open_bets_discover").length>0){var k="#open_bets_discover"}else{if($("#settled_bets_discover").css("display")=="block"&&$("#settled_bets_discover").length>0){var k="#settled_bets_discover"}else{if($("#hot_bets_discover").css("display")=="block"&&$("#hot_bets_discover").length>0){var k="#hot_bets_discover"}else{if($("#open_bets_home").css("display")=="block"&&$("#open_bets_home").length>0){var k="#open_bets_home"}else{if($("#settled_bets_home").css("display")=="block"&&$("#settled_bets_home").length>0){var k="#settled_bets_home"}else{if($("#hot_bets_home").css("display")=="block"&&$("#hot_bets_home").length>0){var k="#hot_bets_home"}}}}}}}}var j=$(k).children(".betslip").length;if(xhr&&xhr.readyState!==4){xhr.abort()}if(j>0){loadMoreBetslipsAjax(k,j)}}})}if($(".dp").length>0){$(".notif_drop ul").scroll(function(){if($(".notif_drop ul").data("ajax_in_progress")===true){return}hasLoaded=true;if($(".notif_drop ul").scrollTop()+$(".notif_drop ul").innerHeight()>=$(".notif_drop ul")[0].scrollHeight&&!(/End/i.test($(".notif_drop ul li a center").text()))&&hasLoaded){$(".notif_drop ul").data("ajax_in_progress",true);hasLoaded=false;$(document).bind("mousewheel DOMMouseScroll",function(){b()});loadMoreNotificationsAjax($(".dp").length);$(document).unbind("mousewheel DOMMouseScroll");hasLoaded=true}})}function b(j){if(!j){j=window.event}if(j.preventDefault){j.preventDefault()}j.returnValue=false}$(window).on("beforeunload",function(){$(".notif_drop ul").scrollTop(0)});if(window.location.href.split("/")[3]=="top-tipsters"){if($(".homePageTabs").length>0){$(window).scroll(function(){if($(window).scrollTop()==$(document).height()-$(window).height()){var k=".homePageTabs";var j=$(".homePageTabs").children(".betslip").length;if(xhr&&xhr.readyState!==4){xhr.abort()}if(j>0){loadMoreTipstersAjax(k,j)}}})}}if(window.location.href.split("/")[3]=="leaderboard"){if($(".leaderboardSection").length>0){$(window).scroll(function(){if($(window).scrollTop()==$(document).height()-$(window).height()){var k=$(".profit_ranking:visible").children().length;$("div#loadmoreajaxloader").fadeIn();var j=Routing.generate("load_more_people");if(xhr&&xhr.readyState!==4){xhr.abort()}xhr=$.ajax({url:j,data:{peopleCount:k,type_of_ranking:$(".profit_ranking:visible").attr("id")},type:"POST",success:function(l){if(l){$(".profit_ranking:visible").append($(l));$("div#loadmoreajaxloader").hide();fireFollowingAndFollowersPopup()}}})}})}}$(window).load(function(){$(".homePageTabs").masonry({itemSelector:".betslip"});$(".innerScroll").mCustomScrollbar({theme:"minimal"})});initAtWho();$(window).load(function(){var j=$(".sportsEventTop, .oddsEventPage").find("select[name=priceFormat]").val();setPriceFormat(j)});$(document).on("click",".leaderboardArrow",function(l){var n=$(this);var k=$(this).data("userId");var j=Routing.generate("load_user_statistic");var m=n.parent().children(".leaderboardProfile").children(".leaderboardUsername").children("a").attr("href");if(n.hasClass("active")){n.parent().children(".leaderboardMore").slideUp("fast");n.removeClass("active")}else{if(n.parent().children(".leaderboardMore").length){n.parent().children(".leaderboardMore").slideDown("fast");n.addClass("active")}else{$.ajax({method:"GET",dataType:"json",url:j+"/"+k,success:function(q){var s=q.last_five_betslips;var t='<div class="leaderboardForm">';$.each(s,function(w,u){if(u=="won"){t+='<div class="profileWinMore">W</div>'}else{t+='<div class="profileLossMore">L</div>'}});t+="</div>";var p="<p>";for(i=1;i<=3;i++){if(i<=q.average_odd_level){p+='<i class="fa fa-bolt"></i>'}else{p+='<i class="fa fa-bolt" style="opacity: 0.2;"></i>'}}p+="</p>";var r="<p>";for(i=1;i<=3;i++){if(i<=q.risk_level_number){r+='<i class="fa fa-heartbeat"></i>'}else{r+='<i class="fa fa-heartbeat" style="opacity: 0.2;"></i>'}}r+="</p>";var o='<div class="leaderboardMore"><a href="'+m+'"><div class="leaderboardViewProfile">view profile</div></a>'+t+'<div class="leaderboardUserStats"><div class="leaderboardCount">'+q.win_rate+'%</div><div class="leaderboardName">win rate</div></div><div class="leaderboardUserStats"><div class="leaderboardCount">'+p+'</div><div class="leaderboardName">average odd</div></div><div class="leaderboardUserStats"><div class="leaderboardCount">'+r+'</div><div class="leaderboardName">risk level</div></div></div>';n.parent().after().append(o)}});n.addClass("active")}}});if(window.location.pathname=="/settings"){$tab=window.location.hash;switch($tab){case"#account-settings":$("div.tabpanel ul").children("li").removeClass("active");$("#li-account-settings").addClass("active");$(".tab-content").children(".tab-pane").removeClass("active");$("#account-settings").addClass("active");break;case"#connected":$("div.tabpanel ul").children("li").removeClass("active");$("#li-connected").addClass("active");$(".tab-content").children(".tab-pane").removeClass("active");$("#connected").addClass("active");break;case"#refer-a-friend":$("div.tabpanel ul").children("li").removeClass("active");$("#li-refer-a-friend").addClass("active");$(".tab-content").children(".tab-pane").removeClass("active");$("#refer-a-friend").addClass("active");break;default:$("div.tabpanel ul").children("li").removeClass("active");$("#li-edit-profile").addClass("active");$(".tab-content").children(".tab-pane").removeClass("active");$("#edit-profile").addClass("active")}$("div.tabpanel > ul > li > a").click(function(){var j=$(this).attr("href");$tab=window.location.hash;if(typeof(history.pushState)!="undefined"){history.pushState(null,null,j)}else{alert("Your browser does not support HTML5, please udate it.")}console.log("hash: "+window.location.hash)})}});function initAtWho(){initAtWhoForElement($("textarea.commentBox"));initAtWhoForElement($("textarea#aboutBet"))}function initAtWhoForElement(a){var b=a.atwho({at:"@",startWithSpace:true,callbacks:{remoteFilter:function(d,c){$.ajax({url:Routing.generate("mentions",{coincidence:d}),type:"GET",dataType:"json"}).done(function(e){c(e)})}},limit:10,displayTpl:"<li><img src='${avatar}' style='border-radius: 50%;' height='20' width='20'/> ${name} </li>"});a.on("inserted.atwho",function(c){blockNextEnter=true});return b}function showAllMatchesClick(){$(".showallMatch").click(function(){$(this).parent().find(".betslipMatch").show();$(this).hide();if(!$(this).hasClass("noMasonry")){callMasonry()}})}function showOnlyThreeSelectionsInsideBetslip(){$(".betslipContent").each(function(){$(this).find("div.betslipMatch:gt(2)").hide()})}function showOnlyTwoSelectionsInsideBetslip(){$(".betslipContent").each(function(){$(this).find("div.betslipMatch:gt(1)").hide()})}function socialSharePopup(b){var d=window.location.pathname;var f=location.protocol+"//"+window.location.hostname;var g="";if(b=="facebook"){g="facebook_share_left_bar"}else{if(b=="twitter"){g="twitter_share_left_bar"}}var a=g+"_clicked";var e=d;var h={path:e};callSegmentTrack(a,h);var c=d.split("/");var j=c[1];switch(b){case"facebook":url="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(f+d);break;case"twitter":if(j=="profile"){var k="Follow this #tipster on @Betfect and copy their #betting #tips with one click!"}else{if(j=="leaderboard"){var k="Check out the @Betfect user rankings - its the best way to find the top #tipsters on the #social #betting #network!"}else{if(j=="weekly-100-competition"){var k="Have you seen the @Betfect weekly #competition? #Win 100 #free #bet from 1 #betslip!"}else{if(j=="competition"){var k="Have you seen the #BetfectCompetition? #Win 100 #free #bet from 1 #betslip on @Betfect!"}else{if(j=="discover"){var k="Have you seen these #bets? Some great #tipsters to follow! #Copy an #acca on @Betfect now! https://betfect.com/discover"}else{var k="Join the @Betfect community and #copy these #tips from the the best #punters! #social #betting #network"}}}}}url="http://twitter.com/share?text="+encodeURIComponent(k)+"&url="+encodeURIComponent(f+d);break;default:console.log("There was an error")}newwindow=window.open(url,"name","height=500,width=600");if(window.focus){newwindow.focus()}}function SharePopup(a){sumShareBetfectPlus();newwindow=window.open(a,"name","height=500,width=600");if(window.focus){newwindow.focus()}return false}function SharePopupReferrer(a){newwindow=window.open(a,"name","height=500,width=600");if(window.focus){newwindow.focus()}return false}function shareEmailPopup(a){setTimeout(function(){$.magnificPopup.open({items:{src:a},type:"ajax",tLoading:'<i class="fa fa-spinner fa-pulse"></i>'})},50)}function showAjaxPopup(a){$.magnificPopup.open({items:{src:a},callbacks:{close:function(){}},type:"ajax",tLoading:'<i class="fa fa-spinner fa-pulse"></i>'})}function showLiveScoresPopup(c){var e=window.location.pathname;var f="";var b="live_scores_clicked";var a=e;var d={path:a};callSegmentTrack(b,d);$.magnificPopup.open({items:{src:c},callbacks:{close:function(){stopTimer();removeClick()}},type:"ajax",tLoading:'<i class="fa fa-spinner fa-pulse"></i>'})}$(".blogLink").click(function(){var a=window.location.pathname;var b="blog_button_clicked";var c={path:a};callSegmentTrack(b,c)});$(".postUpvote").click(function(){if(!$(this).hasClass("q_buttonActive")){var a=window.location.pathname;var c=$(this).attr("data-post-id");var b="upvote_clicked";var d={path:a,post_id:c};callSegmentTrack(b,d)}});$(".share.social").hover(function(){var b=$(this).find("img").attr("src");var a=$(this).find("img").attr("src2");$(this).find("img").attr("src",a);$(this).find("img").attr("src2",b)},function(){var b=$(this).find("img").attr("src");var a=$(this).find("img").attr("src2");$(this).find("img").attr("src",a);$(this).find("img").attr("src2",b)});function showConnectedAccountsPopup(){showAjaxPopup(Routing.generate("ajax_connected_accounts"))}function showLivePopup(){showLiveScoresPopup(Routing.generate("ajax_competitions"))}function showScoresPopup(){showLiveScoresPopup(Routing.generate("ajax_live_scores_refresh"))}function showBetslipPopup(b,a){showAjaxPopup(Routing.generate("load_betslip_ajax",{betslipCode:b,betProviderCode:a}))}function showBetslipPopupAndSetNotification(c,b,d){$.ajax({url:Routing.generate("load_betslip_notification"),data:{notification:d},method:"GET",success:function(e){showBetslipPopup(c,b)}});$(this).removeClass("notification_unread");var a=$(".blue_dot_2").html();if(a>1){a-=1;$(".blue_dot_2").text(a)}else{$(".blue_dot_2").hide()}}function loadMoreNotificationsAjax(a){$("div#ajaxLoader_notif").show();xhr=$.ajax({url:Routing.generate("load_more_notifications"),data:{offset:a,betslipCount:5},type:"GET",success:function(c){if(c){var b=$(c);$(".notif_drop ul li:last").remove();$(".notif_drop ul").append(b);$("div#ajaxLoader_notif").hide();$(".notif_drop ul").data("ajax_in_progress",false)}}})}function hideBetslipPopup(){$(".openPopup").hide();$.magnificPopup.close();$(".black_overlay").fadeOut()}function showAllComments(){$(".showallComments").click(function(){$(this).parent().find(".comments").show();$(this).hide();if(!$(this).hasClass("noMasonry")){callMasonry()}})}$(window).resize(function(){callMasonry()});function betSlipToggle(){$(".rightbarContainerWrap").toggle();$(".leftMenu").hide();if($(".activeBetslipWrap").children(".mobileInMenuTitle").length!==1){$(".activeBetslipWrap").prepend('<div onclick="betSlipToggle()" class="mobileInMenuTitle">Betslip<span>X</span></div>')}}function betEventToggle(){$(".leftMenu").toggle();$(".rightbarContainerWrap").hide();if($(".topnav").children(".mobileInMenuTitle").length!==1){$(".topnav").prepend('<div onclick="betEventToggle()" class="mobileInMenuTitle">Events<span>X</span></div>')}}function searchToggle(){$("nav ul.leftHeaderMenu").fadeToggle();$("nav ul.rightHeaderMenu").fadeOut()}function callMasonry(){return $(".homePageTabs:visible, .feedWonSection:visible, .peopleSection.marginTopNews.betslip_content:visible").masonry({itemSelector:".betslip",columnWidth:340})}function callMasonry2(){$(".homePageTabs").masonry({itemSelector:".betslip"})}$(".mark_all_as_read").click(function(b){var a=$(".mark_all_as_read");console.log(b.target);$(".notif_drop ul li").each(function(c,d){if($(d).hasClass("notification_unread")){$(d).removeClass("notification_unread")}$.ajax({url:Routing.generate("mark_notifications_as_read"),method:"GET"})});$(".blue_dot_2").hide();$(".notif_drop").show()});function slugify(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function step1AfterFirstLogin(){var a=Routing.generate("load_leaderboard_ajax");$.ajax({type:"GET",url:a,cache:false,success:function(b){$.magnificPopup.open({items:{src:$(b.view),type:"inline"},modal:true,callbacks:{open:function(){},change:function(){}}});$(".step1_buttons .nextPart:last").click(function(){$("#follow_all").hide();step2AfterFirstLogin()});$("#follow_all").mouseover(function(){$(this).addClass("active")}).mouseout(function(){$(this).removeClass("active")});$("#follow_all").click(function(){button=$(this);button.unbind("mouseover");button.prop("disabled",true);button.children("span.fa.fa-spinner.fa-spin").show();var c=[];$(".peopleSuggestion .followDetails").each(function(d){c.push($(this).attr("id").split("-")[0])});$.ajax({url:Routing.generate("follow_all_first_step_ajax"),data:{users:c},type:"POST",success:function(d){button.fadeOut("slow",function(){button.children("#follow-all-text").text("Ready!");button.fadeIn("slow")});for(i=0;i<d.users_id.length;i++){$(".peopleSuggestion .followDetails[id="+d.users_id[i]+"-"+d.follower_id+"-profile]").addClass("active").text("Following")}}}).always(function(){button.children("span.fa.fa-spinner.fa-spin").hide()})})},error:function(){}})}function step2AfterFirstLogin(){$("html, body").scrollTop(0);$(".white-popup-block > h1").text("Connect Account");var a=Routing.generate("load_step2_after_login");$.ajax({type:"GET",url:a,cache:false,success:function(b){$(".step1_ranking_users_content").empty();$(".step1_title").empty();$(".step1_title").html('Step 2 of 2 <span><i class="fa fa-angle-right"></i> Connect your account with our partners.</span> ');$(".step1_ranking_users_content").hide();$(".step1_ranking_users_content").html(b.view);$(".step1_ranking_users_content").fadeIn();$(".step1_buttons .nextPart:last").text("Finish");$(".step1_buttons .nextPart:last").unbind("click");$(".step1_buttons .nextPart:last").click(function(){$.magnificPopup.close();$.ajax({url:Routing.generate("remove_first_step_from_session"),type:"GET",success:function(c){if(typeof c.redirectTo!=="undefined"){window.location=c.redirectTo}}})})},error:function(){}})}function sumShareBetfectPlus(){$.ajax({url:Routing.generate("sum_share_betfect_plus_value")})}function callPreloader(){$(".black_overlay").show();$(".preloader").show()}function hidePreloader(){if($(".openPopup.betslipPopup").is(":visible")){$(".preloader").hide()}else{$(".black_overlay").hide();$(".preloader").hide()}}function callCustomAlert(a){$.magnificPopup.open({items:{src:'<div class="white-popup-block" style="max-width: 450px"><h1>Message</h1><div id="customAlertPopUp"><p><i class="fa fa-exclamation-circle"></i></p><div class="popUpInfoError">'+a+"</div></div></div>"},type:"inline"})}function callScrollPlugin(){$(".scrollbox").enscroll({showOnHover:false,verticalTrackClass:"track3",verticalHandleClass:"handle3"})}function getBaseUrl(){pathArray=window.location.href.split("/");protocol=pathArray[0];host=pathArray[2];return protocol+"//"+host}function loadMoreBetslipsAjax(e,b,a){$("div#loadmoreajaxloader").show();if(window.location.href.indexOf("/group")>-1){var d=Routing.generate("load_more_betslips_group")}else{var d=Routing.generate("load_more_betslips")}var c=$("div#groupName").text();xhr=$.ajax({url:d,data:{keyword:c,tab:e,betslipCount:b},type:"GET",success:function(g){if(g){var f=$(g);$(e).append(f).masonry("appended",f);initCommentBox();callMasonry();if(typeof a!="undefined"){if(a==true){resizeSbSiteDiv($(e).height())}}$("div#loadmoreajaxloader").hide()}}})}function loadMoreTipstersAjax(d,b,a){var c=Routing.generate("load_more_tipsters");$("div#loadmoreajaxloader").show();xhr=$.ajax({url:c,data:{tab:d,betslipCount:b},type:"GET",success:function(f){if(f){var e=$(f);$(d).append(e).masonry("appended",e);initCommentBox();callMasonry2();if(typeof a!="undefined"){if(a==true){resizeSbSiteDiv($(d).height())}}$("div#loadmoreajaxloader").hide()}}})}function resizeSbSiteDiv(a){$("#sb-site").css("min-height",a)}$("#competitionBanner i").click(function(){var a=$(this);$.ajax({url:Routing.generate("close_competition_bar"),type:"POST",data:{competition_slug:a.attr("competition_slug")},success:function(b){a.parent().parent().fadeOut()}})});function initViewEventButtons(){$(".viewAllEvent").click(function(){window.location=$(this).parent().parent().find("a:last").attr("href")})}function initChangePriceFormat(){$(".sportsEventTop, .oddsEventPage").find("select[name=priceFormat]").change(function(){var a=$(this).val();$.post(Routing.generate("edit-settings"),{oddFormat:a});setPriceFormat(a)})}function setPriceFormat(a){switch(a){case"decimal":$("button.eventValueBg").each(function(){var b=$(this).data("decimalprice");$(this).text(b)});$("#betslip-list .selectionOddValue").each(function(){$(this).text($(this).attr("data-decimal-value"))});$("#fractional_acumulator_den_number").hide();break;case"fractional":$("button.eventValueBg").each(function(){var b=$(this).data("numprice");var c=$(this).data("denprice");$(this).text(b+"/"+c)});$("#betslip-list .selectionOddValue").each(function(){$(this).text($(this).attr("data-fractional-value"))});if($("#betslip-list").children().length>0){$("#fractional_acumulator_den_number").show()}break}}function initCommentBox(){$(".commentBox").focus(function(){$(this).css("height","60px");$(this).css("overflow-y","scroll");$(this).css("resize","none");$(this).css("border-color","#00c4dc");callMasonry()}).blur(function(){$(this).removeAttr("style");callMasonry()})}function loadTwitterPopup(a){window.open(Routing.generate("user_social_connect_twitter",{redirectTo:0}),"Connect your account with Twitter","status=1,width=675,heigth=718")}function loadTwitterPopupWithReload(){window.open(Routing.generate("user_social_connect_twitter",{reload:1}),"Connect your account with Twitter","status=1,width=675,heigth=718")}function loadTwitterPopup(){window.open(Routing.generate("user_social_connect_twitter"),"Connect your account with Twitter","status=1,width=675,heigth=718")}function flashBorder(a){$("#betslipIsCopy").remove();$('<div id="betslipIsCopy" class="betslipCopyInfo"><i class="fa fa-files-o"></i> Betslip copied</div>').insertAfter(".activeBetslipMenu");$(a).addClass("easeInCss");$(a).css({backgroundColor:"#ffffc3",borderColor:"#ffffc3"});$(a+":nth-child(1)").css({marginBottom:"10px",marginTop:"200px",opacity:"0.97"});$(a+":nth-child(2)").css({marginBottom:"10px",opacity:"0.87"});$(a+":nth-child(3)").css({marginBottom:"10px",opacity:"0.77"});$(a+":nth-child(4)").css({opacity:"0.67"});setTimeout(function(){$(a+":nth-child(1)").css({marginTop:"0",opacity:"1.0"});inTimeOut(a,1,100);inTimeOut(a,2,200);inTimeOut(a,3,300);inTimeOut(a,4,400);setTimeout(function(){$(a).css({backgroundColor:"#fff",borderColor:"#e3e3e3",marginBottom:"0",marginTop:"0",opacity:"1.0"})},400)},50)}function setDontClosePageRestriction(){$(window).bind("beforeunload",function(){return"We are currently in the process of updating your betslips, please wait while we finish."})}function removeDontClosePageRestriction(){$(window).unbind("beforeunload")}function showSpinner(){$(".headerSpinner").fadeIn()}function hideSpinner(){$(".headerSpinner").fadeOut()}function showUnderHeaderNotification(b,a){$(".underHeaderNotification").show().html(b).animate({marginTop:"60px"},500);$(".container.content").animate({paddingTop:"60px"},500);$(".rightbarContainerWrap").animate({paddingTop:"40px"},500);setTimeout(function(){$(".underHeaderNotification").animate({marginTop:"0"},500);setTimeout(function(){$(".underHeaderNotification").hide()},500);$(".container.content").animate({paddingTop:"20px"},500);$(".rightbarContainerWrap").animate({paddingTop:"0px"},500)},a)}function inTimeOut(c,a,b){setTimeout(function(){$(c+":nth-child("+a+")").css({backgroundColor:"#fff",borderColor:"#e3e3e3",marginBottom:"0",marginTop:"0",opacity:"1.0"})},b)};
var facebookAppId="423595687782882";window.fbAsyncInit=function(){FB.init({appId:facebookAppId,status:true,cookie:true,xfbml:true})};function facebookLogin(a){FB.login(function(b){if(b.authResponse){var c={channel:"facebook",location_page:"landing_page"};callSegmentTrack("social_login",c);getUserInfoFacebook(a)}else{console.log("User cancelled login or did not fully authorize.")}},{scope:"email"})}function getUserInfoFacebook(a){FB.api("/me",function(b){var c=$.param(b);window.location.href=Routing.generate("facebook_login_check")+"?caller="+a+"&"+c})}function facebookLogout(){FB.logout(function(){document.location.reload()})}(function(c){var b,e="facebook-jssdk",a=c.getElementsByTagName("script")[0];if(c.getElementById(e)){return}b=c.createElement("script");b.id=e;b.async=true;b.src="//connect.facebook.net/en_US/all.js";a.parentNode.insertBefore(b,a)}(document));var ladbrokesWindowReference=null;function ladbrokesForm(a){var h="";var g="";var i={channel:"Ladbrokes",location_page:"homepage"};switch(a){case"assoc":g="authorise-client";h="assoc";break;case"register":g="register-customer";h="assoc";break;default:g="authorise-client";h="assoc";break}var k="https://api.ladbrokes.com/forms/"+g+"?locale="+ladbrokes.locale+"&client_id="+ladbrokes.apiKey+"&response_type=code&redirect_uri="+ladbrokes.redirectURI+"&state="+h;var b=500;var j=659;var e=screen.width/2-b/2;var f=screen.height/2-j/2;if(ladbrokesWindowReference==null||ladbrokesWindowReference.closed){$(".black_overlay").show();ladbrokesWindowReference=window.open(k,"Ladbrokes login","width="+b+",height="+j+",top="+f+",left="+e+",scrollbars");var d=false;var c=setInterval(function(){if(ladbrokesWindowReference.closed&&!d){$(".black_overlay").hide();d=true;clearInterval(c)}},100)}else{ladbrokesWindowReference.focus()}}function ladbrokesRegistration(){var b="https://api.ladbrokes.com/forms/register-customer?locale="+ladbrokes.locale+"&client_id="+ladbrokes.apiKey+"&response_type=code&redirect_uri="+ladbrokes.redirectURI+"&state=assoc";var d=500;var a=659;var f=screen.width/2-d/2;var e=screen.height/2-a/2;if(ladbrokesWindowReference==null||ladbrokesWindowReference.closed){$(".black_overlay").show();ladbrokesWindowReference=window.open(b,"Ladbrokes login","width="+d+",height="+a+",top="+e+",left="+f+",scrollbars");var g=false;var c=setInterval(function(){if(ladbrokesWindowReference.closed&&!g){$(".black_overlay").hide();g=true;clearInterval(c)}},100)}else{ladbrokesWindowReference.focus()}}function ladbrokesTransaction(){var c="https://api.ladbrokes.com/forms/banking?locale="+ladbrokes.locale+"&client_id="+ladbrokes.apiKey+"&response_type=code&redirect_uri="+ladbrokes.redirectURI+"&access-token="+ladbrokes.accessToken+"&state=transaction&tab=deposit";var d=500;var a=501;var f=screen.width/2-d/2;var e=screen.height/2-a/2;if(ladbrokesWindowReference==null||ladbrokesWindowReference.closed){$(".black_overlay").show();ladbrokesWindowReference=window.open(c,"Ladbrokes transaction","width="+d+",height="+a+",top="+e+",left="+f+",scrollbars");var g=false;var b=setInterval(function(){if(ladbrokesWindowReference.closed&&!g){$(".black_overlay").hide();g=true;clearInterval(b)}},100)}else{ladbrokesWindowReference.focus()}}function twitterLoginLanding(){window.open(Routing.generate("user_social_connect_twitter"),"Connect your account with Twitter","status=1,width=675,heigth=718")}(function(a){a.fn.extend({limiter:function(b,c){a(this).on("keyup focus",function(){d(this,c)});function d(g,f){if(typeof g!=="undefined"){var e=g.value.length;if(e>b){g.value=g.value.substr(0,b);e=b}f.html(b-e)}}d(a(this)[0],c)}})})(jQuery);
$(document).ready(function(){(function(){var g=$("#registrationModal"),c=g.find("#modal-register-body"),d=g.find("#modal-login-body"),b=g.find("#modal-register-footer"),f=g.find("#modal-login-footer");function a(){c.addClass("hidden");b.addClass("hidden");d.removeClass("hidden");f.removeClass("hidden")}function e(){d.addClass("hidden");f.addClass("hidden");c.removeClass("hidden");b.removeClass("hidden")}b.on("click","a",a);f.on("click","a",e);g.on("hidden.bs.modal",e);$(".action").click(function(i){var h=$(this).data("req");if(!h){i.preventDefault();return}if(h.userAuth&&!$(document).data("isUserAuth")){g.modal({keyboard:false})}})}())});
trackSegment=1;$(".activeBetslipBtn div button#placeBet").click(function(){var a=$(this);enableLoadingIconInPlaceBetButton(a);placeBet(a)});function removeOdd(a){a.unbind("click");a.click(function(){var b=$(this);$("div#betslip-list div[data-bet-provider-code="+b.data("bet-provider-code")+"][data-selection-id="+b.data("selection-id")+"]").children(".remove-betslip").trigger("click")})}function triggerLoginActionByBetProviderCode(a){if($(".black_overlay").css("display")!="block"){if($.magnificPopup.instance.isOpen==undefined||$.magnificPopup.instance.isOpen==false){showConnectedAccountsPopup()}}}function enableLoadingIconInPlaceBetButton(a){a.children("span.fa.fa-spinner.fa-spin").show()}function disableLoadingIconInPlaceBetButton(a){a.children("span.fa.fa-spinner.fa-spin").hide()}function escapeHTML(a){var b=document.createElement("pre");var c=document.createTextNode(a);b.appendChild(c);return b.innerHTML}function updateBalance(b,a){var c=$("div.providerWallets[data-bet-provider-code="+a+"]");c.children("div.walletListAmount").text(b);if(a=="WH"){console.log("new balance: "+b);$("p.balance-wh").text(b)}}function clearBetslip(a){a.find("#betslip-list").find(".remove-betslip").click();a.find("#multibetStake").val("");a.find("#aboutBet").val("");a.find("#estimatedPayout").find("span").html("0");a.find("#totalStake").find("span").html("0");a.find("#aboutBetChar").html("150")}function loadChangedPriceBetslip(a){$.ajax({url:Routing.generate("user_ladbrokes_changed_price_betslip"),type:"POST",data:{changed_prices_selections:a},success:function(b){$.magnificPopup.open({items:{src:$(b.view),type:"inline"},callbacks:{change:function(){disableLoadingIconInPlaceBetButton($(".activeBetslipBtn div button#placeBet"));$(".activeBetslipBtn div button#placeBet").removeClass("placing").removeAttr("disabled");this.content.children(".betslipContent").children(".poppy_btn_group").children("button").click(function(){$(this).attr("disabled","disabled");$(this).addClass("placing");enableLoadingIconInPlaceBetButton($(this));$(".activeBetslipBtn div button#placeBet").trigger("click")})}},closeOnBgClick:false})}})}function placeBet(l){var c=$("#betslip-list").children("div").first();if(c.attr("data-bet-provider-code")=="LAD"){var j=ladbrokesCheckTokenAndBalance();respStatus="empty";j.success(function(p){respStatus=p.status;console.log("LAD access token is valid or has been extended")});j.fail(function(p){respStatus=p.status;callCustomAlert("Your Ladbrokes access token has expired. Please log-in again to Ladbrokes");return false})}var m=l.closest(".activeBetslipWrap");var e=m.find("textarea#aboutBet").val();var h=0;var n=m.find("#estimatedPayout span").html();var g=m.find("#totalStake span").html();var d=$(".globe i:last").attr("class");var i=$("#multibetCount").html();var f=0;var a="Public";var b=parseFloat(m.find("#multibetStake").val());var o=m.find("#multibetStake");if(d==="fa fa-lock"){f=1;a="Private"}if(isNaN(b)){o.addClass("warning");window.setTimeout(function(){o.removeClass("warning")},1000);disableLoadingIconInPlaceBetButton(l);return false}else{if(b<0.1){disableLoadingIconInPlaceBetButton(l);callCustomAlert("The stake must be at least 0.1");return false}else{if(m.children(".rightBarDetails").children("#tabBetslip").children("#betslip-list").children().length==0){callCustomAlert("Put at least one odd inside your betslip");disableLoadingIconInPlaceBetButton(l);return false}else{m.find(".activeBetslipBtn").find("button").addClass("placing").attr("disabled","disabled");var k={};k.stake=b;if(typeof applyFreebet==="boolean"){if(applyFreebet===true){k.applyFreebet="true"}else{k.applyFreebet="false"}}k.about=e;k.isPrivate=f;console.log("stake: "+k.stake);console.log("about: "+k.about);console.log("about: "+k.isPrivate);$.ajax({url:Routing.generate("place_bet"),type:"POST",data:k}).done(function(q){updateBalance(q.balance,q.betProviderCode);$.magnificPopup.open({items:{src:$(q.view),type:"inline"},closeOnBgClick:false,callbacks:{open:function(){},change:function(){},close:function(){if($("div.homePageTabs:visible").children(".betslip").length>0){$("div.homePageTabs:visible").prepend(q.betslipView);$("div.homePageTabs:visible").masonry("destroy");callMasonry()}}}});clearBetslip($(".activeBetslipBtn div button#placeBet").closest(".activeBetslipWrap"));var p="place_bet_completed";callSegmentTrack(p,$trackDetails);p="bets_count";callSegmentTrack(p)}).always(function(){l.removeClass("placing").removeAttr("disabled","disabled");disableLoadingIconInPlaceBetButton(l)}).fail(function(u){console.log("bet failed!");var r=JSON.parse(u.responseText);if(typeof r.errorCode!="undefined"&&r.errorCode=="no-linked-account"){triggerLoginActionByBetProviderCode(r.betProviderCode)}else{var t=[];var q=false;var p=false;if(!Array.isArray(r.errors)){disableLoadingIconInPlaceBetButton(l);return}r.errors.forEach(function(v){if(!v.hasOwnProperty("errorCode")||!v.hasOwnProperty("errorDescription")){}else{console.log(v);console.log("_____");t.push(v.errorDescription);if((v.errorCode=="23010"&&v.errorDescription=="Insufficient funds")||(v.errorCode=="INSUFFICIENT-FUNDS")){p=true;callCustomAlert("You have insufficient funds, please check your wallet.");console.log("insufficient founds")}if(v.errorCode==="BETTING-PRICE-CHANGED"){q=true;console.log("price changed")}}});if(p===false&&q===true){r.errors.forEach(function(v){if(v.hasOwnProperty("errorCode")||v.hasOwnProperty("errorDescription")){if(v.errorCode==="BETTING-PRICE-CHANGED"){updateSessionOdds(v);changeSelectionOdds(v);console.log("update odds")}}})}if(p===false&&q===true&&r.errors.length===1){loadChangedPriceBetslip(r.errors);trackSegment=0;var s="place_bet_quote_change";callSegmentTrack(s,$trackDetails)}else{if(p===false&&q===true&&r.errors.length>1){loadChangedPriceBetslip(r.errors)}}return}}).error(function(p){console.log("betslip error!");if(p.responseText=='{"errors":["BETTING-OVERRIDE-FOUND"]}'){callCustomAlert("Error while placing bet: Betting override found.")}if(p.responseText.indexOf("INSUFFICIENT-FUNDS")>=0){callCustomAlert("You have insufficient funds, please check your wallet.")}if(p.responseText.indexOf("Unexpected")>=0){callCustomAlert("The selection you have chosen can't be put in the same bet: please review your betslip.")}})}}}}function updateSessionOdds(a){$.post(Routing.generate("update_session_odds"),{selectionId:a.selectionId,denPrice:a.denPrice,numPrice:a.numPrice,decimalPrice:a.decimalPrice})}function changeSelectionOdds(a){$("[id*='"+a.selectionId+"']").each(function(){if($(this).is(":button")){$(this).text(a.decimalPrice)}if($(this).is("div")){$(this).find(".selectionOddValue").text(a.decimalPrice)}})}function changeBetProviderIconInBetslipContainer(a){if(a=="LAD"){$(".payout-ico > img").attr("src","/img/icons/partners/ladbrokes60x60.png")}else{if(a=="WH"){$(".payout-ico > img").attr("src","/img/icons/partners/williamHill60x60.png");$("#place-bet-bet-provider-conditions").show();$(".rightTrending").hide()}else{$(".payout-ico > img").attr("src","/img/icons/partners/betfect60x60.png")}}}function disableOtherWhSelections(a){if(a.data("bet-provider-code")=="WH"){if(location.pathname=="/betting"){a.siblings("button").attr("disabled",true);a.siblings("button").fadeTo("slow",0.4)}else{$(".williamHillProvider > div > div > button").attr("disabled","true");$(".williamHillProvider > div > div > button").fadeTo("slow",0.4);a.removeAttr("disabled");a.fadeTo("fast",1)}}}function showComparisonRelatedStuffs(){$(".payout-ico > i").show();$("#oddsChanger").show();$("#oddsChanger2").show();$("#oddsChanger2 > div").show();$(".connect-providers-buttons").show()}function hideComparisonRelatedStuffs(){$(".payout-ico > i").hide();$("#oddsChanger").hide();$("#oddsChanger2").hide();$(".connect-providers-buttons").hide()}function checkMoreSelectionsForWhEvent(a){var b=true;$("#betslip-list").children().each(function(){if($(this).find("h5").text()==a){b=false}});return b}function initOddsButtons(a){a.click(function(){var b=$(this);var c=b.html().trim();b.prop("disabled",true);b.html('<span class="fa fa-spinner fa-spin"></span>');if($("#betslip-list").children().length>=25){callCustomAlert("You can't place more than 25 odds per betslip.")}if(!checkMoreSelectionsForWhEvent(b.data("event-name"))){b.prop("disabled",false);b.html(c);callCustomAlert("You can't have two or more selections from the same Event.");return false}if(!checkProvidersBetslip(b.data("bet-provider-code"))){b.prop("disabled",false);b.html(c);callCustomAlert("You can't have two or more selections from different betting providers. Continue with the same.");return false}else{$.ajax({url:Routing.generate("add_to_betslip"),type:"POST",data:{betProviderCode:b.data("bet-provider-code"),eventName:b.data("event-name"),marketName:b.data("market-name"),selectionName:b.data("selection-name"),selectionId:b.data("selection-id"),decimalPrice:b.data("decimalprice"),numPrice:b.data("numprice"),denPrice:b.data("denprice"),handicapValue:b.data("handicap-value"),isSpPriceType:(b.data("is-sp-price-type")=="true")},success:function(h){b.tooltip("hide");disableOtherWhSelections(b,h.betProviderCode);if(h.status=="success"){b.addClass("active");if(h.showComparison==true){$(".other_prov_icon").attr("data-odd",h.otherTotalOdd);if(h.otherTotalOdd>h.totalOdd){var g='<i class="fa fa-arrow-up" aria-hidden="true"></i>'}else{var g='<i class="fa fa-arrow-down" aria-hidden="true"></i>'}var d=$("#multibetStake").val();if(d!=""){var f=(d*h.otherTotalOdd).toFixed(2);$("#estimated-payout-provider").html("Est. playout: &pound"+f);$("#estimated-payout-provider2").html("Est. playout: &pound"+f+" "+g)}else{$("#estimated-payout-provider").text("@"+h.otherTotalOdd);$("#estimated-payout-provider2").html("@"+h.otherTotalOdd+" "+g)}showComparisonRelatedStuffs()}else{hideComparisonRelatedStuffs()}if(h.oddFormat==1){if($("#betslip-list").children().length==0){$("#fractional_acumulator_den_number").show()}odd=h.denPrice+"/"+h.numPrice}else{odd=h.decimalPrice}var e=fillSelectionRow(h);$("#betslip-list").prepend(e);setMultibet(h.count,h.totalOdd);setMobileBetCount(h.count);$event="bet_click";$trackDetails={bet_id:h.oddId,bet_name:h.selection,bet_value:h.odd};callSegmentTrack($event,$trackDetails);b.html(c);b.prop("disabled",false);removeOdd(b);if($("#betslip-list").children().length==1){changeBetProviderIconInBetslipContainer(h.betProviderCode);changeProviderIconInBetslipSelectionChanger(h.betProviderCode);if(h.showComparison==true){showComparisonRelatedStuffs()}else{hideComparisonRelatedStuffs()}}$("#multibetStake").trigger("keyup");return true}else{if(h.output==="betslip-exists"){callCustomAlert("This odd is already inside your betslip.")}else{if(h.output==="not-found"){callCustomAlert("Sorry, but we could not find this odd in our system. This is weird. Please reload this page and try again.")}else{if(h.output=="max_number_of_odds"){callCustomAlert("You can't place more than 25 odds per betslip.")}else{callCustomAlert("Oop! Something went wrong, try to reload this page.")}}}}}}).error(function(){b.html(c);b.prop("disabled",false);b.html(c);b.tooltip("hide");b.removeClass("non-active").addClass("active")})}})}$("#betslip-list").on("click",".remove-betslip",function(){var a=$(this);a.unbind("click");a.children("i").removeClass("fa-times-circle");a.children("i").addClass("fa-spinner fa-spin");var b=a.parent().data("selection-id");var d=a.parent().data("bet-provider-code");var c=$(".addToBetslip[data-bet-provider-code="+d+"][data-selection-id="+b+"]");if(c.length!=0){var e=c.html().trim();c.prop("disabled",true);c.html('<span class="fa fa-spinner fa-spin"></span>');c.tooltip("hide")}$.ajax({type:"POST",url:Routing.generate("remove_from_betslip"),cache:false,data:{selectionId:b,betProviderCode:d},success:function(i){if(i.status=="success"){$("#betslipIsCopy").slideUp();a.parent().remove();if(c.length!=0){c.removeClass("active");c.removeAttr("disabled");if(i.betProviderCode=="WH"){if(location.pathname=="/betting"){c.siblings("button").attr("disabled",false);c.siblings("button").fadeTo("slow",1)}else{$(".williamHillProvider > div > div > button").removeAttr("disabled");$(".williamHillProvider > div > div > button").fadeTo("slow",1)}}}if(i.showComparison==true){$(".other_prov_icon").attr("data-odd",i.otherTotalOdd);$("#estimated-payout-provider").text("@ "+i.otherTotalOdd);if(i.otherTotalOdd>i.totalOdd){var h='<i class="fa fa-arrow-up" aria-hidden="true"></i>'}else{var h='<i class="fa fa-arrow-down" aria-hidden="true"></i>'}var f=$("#multibetStake").val();if(f!=""){var g=(f*i.otherTotalOdd).toFixed(2);$("#estimated-payout-provider").html("Est. playout: &pound"+g);$("#estimated-payout-provider2").html("Est. playout: &pound"+g+" "+h)}else{$("#estimated-payout-provider").text("@"+i.otherTotalOdd);$("#estimated-payout-provider2").html("@"+i.otherTotalOdd+" "+h)}showComparisonRelatedStuffs()}else{hideComparisonRelatedStuffs()}setMultibet(i.count,i.totalOdd);setMobileBetCount(i.count);if(c.length!=0){initOddsButtons(c)}if($("#betslip-list").children().length==0){$(".other_prov_icon").attr("data-odd",0);$(".payout-ico > img").attr("src","/img/icons/partners/betfect60x60.png");hideComparisonRelatedStuffs();$("#place-bet-bet-provider-conditions").hide();$(".rightTrending").show()}$("#multibetStake").trigger("keyup")}else{if(i.output==="error"){callCustomAlert("Oops! Something went wrong. Try refreshing this page.")}}},error:function(){callCustomAlert("Oops! Something went wrong. Try refreshing this page.")}}).always(function(){if($("#betslip-list").children().length==0){$("#fractional_acumulator_den_number").hide()}if(c.length!=0){c.prop("disabled",false);c.html(e);c.tooltip("hide")}})});function placeBetFromChangedPricesBetslip(a){$(a).click(function(){$(this).attr("disabled","disabled");enableLoadingIconInPlaceBetButton($(this));$("button#placeBet").trigger("click")})}initOddsButtons($(".addToBetslip.non-active"));removeOdd($(".addToBetslip.active"));function changeProviderIconInBetslipSelectionChanger(a){if(a=="LAD"){$(".change-provider > div > img").attr("src","/img/icons/partners/williamHill60x60.png")}else{if(a=="WH"){$(".change-provider > div > img").attr("src","/img/icons/partners/ladbrokes60x60.png")}else{$(".change-provider > div > img").attr("src","/img/icons/partners/betfect60x60.png")}}};
function fillSelectionRow(b){var a='<div data-bet-provider-code="'+b.betProviderCode+'" data-selection-id="'+b.selectionId+'" class="activeBetslipContent clearfix">';a+='<div class="pull-left">';a+="<h5>"+b.eventName+"</h5>";a+="<p>"+b.marketName+":</p>";if(b.handicapValue==null||b.handicapValue==""){a+="<p>"+b.selectionName+' @ <span data-decimal-value="'+b.decimalPrice+'" data-fractional-value="'+b.numPrice+"/"+b.denPrice+'" class="selectionOddValue">'+b.decimalPrice+"</span></p>"}else{a+="<p>"+b.selectionName+" ("+b.handicapValue+') @ <span data-decimal-value="'+b.decimalPrice+'" data-fractional-value="'+b.numPrice+"/"+b.denPrice+'" class="selectionOddValue">'+$(".sportsEventTop, .oddsEventPage").find("select[name=priceFormat]").val()=="decimal"?b.decimalPrice:b.numPrice+"/"+b.denPrice+"</span></p>"}a+="</div>";a+='<div class="pull-right remove-betslip"><i class="fa fa-times-circle"></i></div>';a+="</div>";return a}function refreshRightBarAjax(){var a=$("div#betslip-list");$.ajax({url:Routing.generate("betslip_betslip_refresh_right_bar"),type:"GET",cache:false,success:function(b){if(a.children(".activeBetslipContent").length!=b.betslipContainer.length&&typeof b.betslipContainer!="undefined"&&b.betslipContainer!=null){a.children(".activeBetslipContent").remove();$("button.eventValueBg.addToBetslip.active").removeClass("active").addClass("non-active").unbind("click");$.each(b.betslipContainer,function(c,e){var d=fillSelectionRow(e);var f=$("button.eventValueBg.addToBetslip[data-bet-provider-code="+e.betProviderCode+"][data-selection-id="+e.selectionId+"]");f.removeClass("non-active");f.removeClass("active");f.addClass("active");f.removeClass("non-active");removeOdd(f);a.prepend(d)})}setMultibet(b.count,b.totalOdd)}})}function checkProvidersBetslip(d){var a=0;var c="";var b=[];$("#betslip-list").children().each(function(){b.push($(this).data("bet-provider-code"))});b.push(d);if(b.length==1){return true}$.each(b,function(e,f){if(a==0){c=f;a++}else{if(c==f){a++}}});return b.length==a}function setMultibet(a,b){$("#multibetCount").text(a);if(b!==0){$("#multibetOdd").text("@"+b)}else{$("#multibetOdd").text("")}switch(a){case 0:$(".multiSingleBet").text("Single");break;case 1:$(".multiSingleBet").text("Single");break;case 2:$(".multiSingleBet").text("Double");break;case 3:$(".multiSingleBet").text("Treble");break;default:$(".multiSingleBet").text("Accumulator");break}}function setMobileBetCount(a){$(".betSlipButton > span").fadeIn(100).fadeOut(100).fadeIn(100);$(".betSlipButton > span").text(a)}$(".activeBetslipMenu ul li").click(function(g){g.preventDefault();var b=window.location.pathname;var d=$(this).children().attr("opentarget").slice(1)+"_clicked";var f={path:b};callSegmentTrack(d,f);var c=$(this).data("req");if(c&&c.userAuth&&!$(document).data("isUserAuth")){return}var a=$(this).children("div").attr("openTarget");$(".activeBetslipMenu ul li").removeClass("active");$(this).addClass("active");$(".rightbarContents").hide();$(a).show()});$(".recentBetslipHeading").click(function(){$(this).parent().find(".recentBetslipContent").slideToggle(function(){if($(this).next().hasClass("open")){$(this).next().removeClass("open");$(this).next().addClass("close")}else{$(this).next().addClass("open");$(this).next().removeClass("close")}})});$(".placeBetPublic").click(function(){var a=window.location.pathname;var b="public_bet_selected";var c={path:a};callSegmentTrack(b,c);var d=$(this).parent().parent().find("button i:last").attr("class");$(this).parent().parent().css("background-image","url("+getBaseUrl()+"/img/icons/social/512px-Globe_font_awesome.svg.png)")});$(".placeBetPrivate").click(function(){var a=window.location.pathname;var b="private_bet_selected";var c={path:a};callSegmentTrack(b,c);var d=$(this).parent().parent().find("button i:last").attr("class");$(this).parent().parent().css("background-image","url("+getBaseUrl()+"/img/icons/social/512px-Lock_font_awesome.svg.png)")});refreshRightBarAjax();$(function(){$(".payout-ico").click(function(){if($("#betslip-list").children().length!=0){if($(".payout-ico>i").is(":visible")){if($(".payout-ico > img.prov_icon").attr("src").indexOf("ladbrokes")>-1){$("a#oddsChanger > div > img").attr("src","/img/icons/partners/williamHill60x60.png")}if($(".payout-ico > img.prov_icon").attr("src").indexOf("william")>-1){$("a#oddsChanger > div > img").attr("src","/img/icons/partners/ladbrokes60x60.png")}if($("#oddsChanger").is(":visible")&&$("#oddsChanger > div").is(":visible")){$("#oddsChanger").hide();$("#oddsChanger > div").hide();$(this).removeClass("payoutActive");$(this).children("i").removeClass("rotateMenu")}else{$("#oddsChanger").show();$("#oddsChanger > div").show();$(this).addClass("payoutActive");$(this).children("i").addClass("rotateMenu")}}}});$("#oddsChanger2").click(function(a){a.preventDefault();$("#oddsChanger").trigger("click")});$(".connect-providers-buttons").click(function(a){a.preventDefault();showConnectedAccountsPopup()});$("#oddsChanger").click(function(a){a.preventDefault();removeOdd($(".addToBetslip.active"));$.ajax({method:"POST",url:Routing.generate("betslip_odd_changer")}).fail(function(b){callCustomAlert("Sorry. This feature is temporarily unavailable.");console.log(b)}).done(function(f){$(".other_prov_icon").attr("data-odd",f.totalOddOther);if($("#oddsChanger").is(":visible")==true){$("#oddsChanger").hide();$(".payout-ico").removeClass("payoutActive");$(".payout-ico").children("i").removeClass("rotateMenu")}var d=$("#multibetStake").val();$("#betslip-list").empty();$("#multibetOdd").empty();var h=f.totalOdd*d;$("#estimatedPayout > span").text(h.toFixed(2));if(f.totalOddOther>f.totalOdd){var g='<i class="fa fa-arrow-up" aria-hidden="true"></i>';var e="alert-success"}else{var g='<i class="fa fa-arrow-down" aria-hidden="true"></i>';var e="alert-info"}var d=$("#multibetStake").val();if(d!=""){var i=(d*f.totalOddOther).toFixed(2);$("#estimated-payout-provider").html("Est. playout: <b>&pound"+i+"</b>");$("#estimated-payout-provider2").html("Est. playout: <b>&pound"+i+" "+g+"</b>");$(".betslipGreenOdds").removeClass("alert-success alert-info");$(".betslipGreenOdds").addClass(e)}else{$("#estimated-payout-provider").text("Odds @"+f.totalOddOther);$("#estimated-payout-provider2").html("Odds @"+f.totalOddOther+" "+g);$(".betslipGreenOdds").removeClass("alert-success alert-info");$(".betslipGreenOdds").addClass(e)}$("#multibetOdd").text("@"+f.totalOdd);$(".addToBetslip.active").addClass("non-active");$(".addToBetslip.active").removeClass("active");$.each(f.betslip_container,function(k,n){var m=$("[data-selection-id="+n.selectionId+"]").addClass("active");if(m!=null){m.removeClass("non-active");m.addClass("active")}var l=fillSelectionRow(n);$("#betslip-list").prepend(l)});if($("img.prov_icon").attr("src").indexOf("ladbrokes")>-1){var b="accaChangedToWH";var j={changed_from_provider:"ladbrokes",changed_to_provider:"william_hill",changed_from_odd:f.totalOddOther,changed_to_odd:f.totalOdd,stake:d};callSegmentTrack(b,j);var c="WH"}if($("img.prov_icon").attr("src").indexOf("william")>-1){var b="accaChangedToLadbrokes";var j={changed_from_provider:"william_hill",changed_to_provider:"ladbrokes",changed_from_odd:f.totalOddOther,changed_to_odd:f.totalOdd,stake:d};callSegmentTrack(b,j);var c="LAD"}changeBetProviderIconInBetslipContainer(c);changeProviderIconInBetslipSelectionChanger(c)})})});
(function(a){a.fn.extend({accordion:function(b){var e={accordion:"true",speed:300,closedSign:"",openedSign:""};var c=a.extend(e,b);var d=a(this);d.find("li").each(function(){if(a(this).find("ul").size()!=0){a(this).find("i:first").addClass(c.closedSign);if(a(this).find("a:first").attr("href")=="#"){a(this).find("a:first").click(function(){return false})}}});d.find("li.active").each(function(){a(this).parents("ul").slideDown(c.speed);a(this).parents("ul").parent("li").find("span:first").html(c.openedSign)});d.find("li i").click(function(){if(a(this).parent().find("ul").size()!=0){if(c.accordion){if(!a(this).parent().find("ul").is(":visible")){parents=a(this).parent().parents("ul");visible=d.find("ul:visible");visible.each(function(f){var g=true;parents.each(function(h){if(parents[h]==visible[f]){g=false;return false}});if(g){if(a(this).parent().find("ul")!=visible[f]){a(visible[f]).slideUp(c.speed,function(){a(this).parent("li").find("span:first").html(c.closedSign)})}}})}}if(a(this).parent().find("ul:first").is(":visible")){a(this).parent().find("ul:first").slideUp(c.speed,function(){a(this).parent("li").find("span:first").delay(c.speed).html(c.closedSign);a(this).parent().find("i:first").removeClass(c.openedSign);a(this).parent().find("a:first").removeClass("active")})}else{a(this).parent().parent().find("li").not(a(this).parent()).find("ul:first").slideUp();a(this).parent().find("a:first").addClass("active");a(this).parent().parent().find("li").not(a(this).parent()).find("a:first").removeClass("active");a(this).parent().find("i:first").addClass(c.openedSign);a(this).parent().parent().find("li").not(a(this).parent()).find("i:first").removeClass(c.openedSign);a(this).parent().find("ul:first").slideDown(c.speed,function(){a(this).parent("li").find("span:first").delay(c.speed).html(c.openedSign)})}}})}})})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(':input[form="'+z+'"]').get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
/*!
 * Masonry PACKAGED v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
;!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(b,f){function a(k,m,e){function l(i,q,u){var s,p="$()."+k+'("'+q+'")';return i.each(function(o,r){var n=e.data(r,k);if(!n){return void c(k+" not initialized. Cannot call methods, i.e. "+p)}var v=n[q];if(!v||"_"==q.charAt(0)){return void c(p+" is not a valid method")}var w=v.apply(n,u);s=void 0===s?w:s}),void 0!==s?s:i}function j(i,n){i.each(function(p,r){var q=e.data(r,k);q?(q.option(n),q._init()):(q=new m(r,n),e.data(r,k,q))})}e=e||f||b.jQuery,e&&(m.prototype.option||(m.prototype.option=function(i){e.isPlainObject(i)&&(this.options=e.extend(!0,this.options,i))}),e.fn[k]=function(i){if("string"==typeof i){var n=g.call(arguments,1);return l(this,i,n)}return j(this,i),this},h(e))}function h(e){!e||e&&e.bridget||(e.bridget=a)}var g=Array.prototype.slice,d=b.console,c="undefined"==typeof d?function(){}:function(e){d.error(e)};return h(f||b.jQuery),a}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}(this,function(){function a(){}var b=a.prototype;return b.on=function(d,f){if(d&&f){var c=this._events=this._events||{},g=c[d]=c[d]||[];return -1==g.indexOf(f)&&g.push(f),this}},b.once=function(d,f){if(d&&f){this.on(d,f);var c=this._onceEvents=this._onceEvents||{},g=c[d]=c[d]||[];return g[f]=!0,this}},b.off=function(d,f){var c=this._events&&this._events[d];if(c&&c.length){var g=c.indexOf(f);return -1!=g&&c.splice(g,1),this}},b.emitEvent=function(d,h){var c=this._events&&this._events[d];if(c&&c.length){var k=0,j=c[k];h=h||[];for(var g=this._onceEvents&&this._onceEvents[d];j;){var f=g&&g[j];f&&(this.off(d,j),delete g[j]),j.apply(this,h),k+=f?0:1,j=c[k]}return this}},a}),function(a,b){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){function q(d){var h=parseFloat(d),a=-1==d.indexOf("%")&&!isNaN(h);return a&&h}function k(){}function g(){for(var d={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},h=0;p>h;h++){var a=j[h];d[a]=0}return d}function f(a){var d=getComputedStyle(a);return d||m("Style returned "+d+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),d}function c(){if(!l){l=!0;var d=document.createElement("div");d.style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box";var a=document.body||document.documentElement;a.appendChild(d);var h=f(d);b.isBoxSizeOuter=v=200==q(h.width),a.removeChild(d)}}function b(u){if(c(),"string"==typeof u&&(u=document.querySelector(u)),u&&"object"==typeof u&&u.nodeType){var h=f(u);if("none"==h.display){return g()}var G={};G.width=u.offsetWidth,G.height=u.offsetHeight;for(var w=G.isBorderBox="border-box"==h.boxSizing,B=0;p>B;B++){var o=j[B],t=h[o],n=parseFloat(t);G[o]=isNaN(n)?0:n}var i=G.paddingLeft+G.paddingRight,s=G.paddingTop+G.paddingBottom,D=G.marginLeft+G.marginRight,I=G.marginTop+G.marginBottom,H=G.borderLeftWidth+G.borderRightWidth,J=G.borderTopWidth+G.borderBottomWidth,A=w&&v,C=q(h.width);C!==!1&&(G.width=C+(A?0:i+H));var F=q(h.height);return F!==!1&&(G.height=F+(A?0:s+J)),G.innerWidth=G.width-(i+H),G.innerHeight=G.height-(s+J),G.outerWidth=G.width+D,G.outerHeight=G.height+I,G}}var v,m="undefined"==typeof console?k:function(a){console.error(a)},j=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],p=j.length,l=!1;return b}),function(a,b){"function"==typeof define&&define.amd?define("matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){var a=function(){var c=Element.prototype;if(c.matches){return"matches"}if(c.matchesSelector){return"matchesSelector"}for(var d=["webkit","moz","ms","o"],b=0;b<d.length;b++){var g=d[b],f=g+"MatchesSelector";if(c[f]){return f}}}();return function(c,b){return c[a](b)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(b,c){var a={};a.extend=function(g,h){for(var f in h){g[f]=h[f]}return g},a.modulo=function(f,g){return(f%g+g)%g},a.makeArray=function(g){var h=[];if(Array.isArray(g)){h=g}else{if(g&&"number"==typeof g.length){for(var f=0;f<g.length;f++){h.push(g[f])}}else{h.push(g)}}return h},a.removeFrom=function(g,h){var f=g.indexOf(h);-1!=f&&g.splice(f,1)},a.getParent=function(f,e){for(;f!=document.body;){if(f=f.parentNode,c(f,e)){return f}}},a.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},a.handleEvent=function(f){var g="on"+f.type;this[g]&&this[g](f)},a.filterFindElements=function(e,g){e=a.makeArray(e);var f=[];return e.forEach(function(j){if(j instanceof HTMLElement){if(!g){return void f.push(j)}c(j,g)&&f.push(j);for(var h=j.querySelectorAll(g),k=0;k<h.length;k++){f.push(h[k])}}}),f},a.debounceMethod=function(g,h,f){var k=g.prototype[h],j=h+"Timeout";g.prototype[h]=function(){var i=this[j];i&&clearTimeout(i);var m=arguments,l=this;this[j]=setTimeout(function(){k.apply(l,m),delete l[j]},f||100)}},a.docReady=function(e){"complete"==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},a.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(g,h,f){return h+"-"+f}).toLowerCase()};var d=b.console;return a.htmlInit=function(f,g){a.docReady(function(){var l=a.toDashed(g),k="data-"+l,e=document.querySelectorAll("["+k+"]"),j=document.querySelectorAll(".js-"+l),i=a.makeArray(e).concat(a.makeArray(j)),m=k+"-options",n=b.jQuery;i.forEach(function(q){var p,u=q.getAttribute(k)||q.getAttribute(m);try{p=u&&JSON.parse(u)}catch(o){return void (d&&d.error("Error parsing "+k+" on "+q.className+": "+o))}var s=new f(q,p);n&&n.data(q,g,s)})})},a}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EvEmitter,a.getSize))}(window,function(C,x,q){function j(a){for(var c in a){return !1}return c=null,!0}function g(a,c){a&&(this.element=a,this.layout=c,this.position={x:0,y:0},this._create())}function b(a){return a.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}var D=document.documentElement.style,A="string"==typeof D.transition?"transition":"WebkitTransition",v="string"==typeof D.transform?"transform":"WebkitTransform",B={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[A],y=[v,A,A+"Duration",A+"Property"],z=g.prototype=Object.create(x.prototype);z.constructor=g,z._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},z.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},z.getSize=function(){this.size=q(this.element)},z.css=function(c){var d=this.element.style;for(var a in c){var f=y[a]||a;d[f]=c[a]}},z.getPosition=function(){var f=getComputedStyle(this.element),m=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),E=f[m?"left":"right"],u=f[d?"top":"bottom"],l=this.layout.size,h=-1!=E.indexOf("%")?parseFloat(E)/100*l.width:parseInt(E,10),c=-1!=u.indexOf("%")?parseFloat(u)/100*l.height:parseInt(u,10);h=isNaN(h)?0:h,c=isNaN(c)?0:c,h-=m?l.paddingLeft:l.paddingRight,c-=d?l.paddingTop:l.paddingBottom,this.position.x=h,this.position.y=c},z.layoutPosition=function(){var L=this.layout.size,G={},E=this.layout._getOption("originLeft"),m=this.layout._getOption("originTop"),l=E?"paddingLeft":"paddingRight",f=E?"left":"right",M=E?"right":"left",J=this.position.x+L[l];G[f]=this.getXValue(J),G[M]="";var F=m?"paddingTop":"paddingBottom",K=m?"top":"bottom",H=m?"bottom":"top",I=this.position.y+L[F];G[K]=this.getYValue(I),G[H]="",this.css(G),this.emitEvent("layout",[this])},z.getXValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!c?a/this.layout.size.width*100+"%":a+"px"},z.getYValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&c?a/this.layout.size.height*100+"%":a+"px"},z._transitionTo=function(H,E){this.getPosition();var l=this.position.x,f=this.position.y,d=parseInt(H,10),c=parseInt(E,10),I=d===this.position.x&&c===this.position.y;if(this.setPosition(H,E),I&&!this.isTransitioning){return void this.layoutPosition()}var F=H-l,m=E-f,G={};G.transform=this.getTranslate(F,m),this.transition({to:G,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},z.getTranslate=function(c,d){var a=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop");return c=a?c:-c,d=f?d:-d,"translate3d("+c+"px, "+d+"px, 0)"},z.goTo=function(a,c){this.setPosition(a,c),this.layoutPosition()},z.moveTo=z._transitionTo,z.setPosition=function(a,c){this.position.x=parseInt(a,10),this.position.y=parseInt(c,10)},z._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var c in a.onTransitionEnd){a.onTransitionEnd[c].call(this)}},z._transition=function(c){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(c)}var d=this._transn;for(var a in c.onTransitionEnd){d.onEnd[a]=c.onTransitionEnd[a]}for(a in c.to){d.ingProperties[a]=!0,c.isCleaning&&(d.clean[a]=!0)}if(c.from){this.css(c.from);var f=this.element.offsetHeight;f=null}this.enableTransition(c.to),this.css(c.to),this.isTransitioning=!0};var p="opacity,"+b(y.transform||"transform");z.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:p,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(B,this,!1))},z.transition=g.prototype[A?"_transition":"_nonTransition"],z.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},z.onotransitionend=function(a){this.ontransitionend(a)};var w={"-webkit-transform":"transform"};z.ontransitionend=function(c){if(c.target===this.element){var d=this._transn,a=w[c.propertyName]||c.propertyName;if(delete d.ingProperties[a],j(d.ingProperties)&&this.disableTransition(),a in d.clean&&(this.element.style[c.propertyName]="",delete d.clean[a]),a in d.onEnd){var f=d.onEnd[a];f.call(this),delete d.onEnd[a]}this.emitEvent("transitionEnd",[this])}},z.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(B,this,!1),this.isTransitioning=!1},z._removeStyles=function(c){var d={};for(var a in c){d[a]=""}this.css(d)};var k={transitionProperty:"",transitionDuration:""};return z.removeTransitionStyles=function(){this.css(k)},z.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},z.remove=function(){return A&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},z.reveal=function(){delete this.isHidden,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("visibleStyle");d[a]=this.onRevealTransitionEnd,this.transition({from:c.hiddenStyle,to:c.visibleStyle,isCleaning:!0,onTransitionEnd:d})},z.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},z.getHideRevealTransitionEndProperty=function(c){var d=this.layout.options[c];if(d.opacity){return"opacity"}for(var a in d){return a}},z.hide=function(){this.isHidden=!0,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("hiddenStyle");d[a]=this.onHideTransitionEnd,this.transition({from:c.visibleStyle,to:c.hiddenStyle,isCleaning:!0,onTransitionEnd:d})},z.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},z.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,f,e,d){return b(a,c,f,e,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(y,p,k,g,f){function b(c,h){var a=g.getQueryElement(c);if(!a){return void (w&&w.error("Bad element for "+this.constructor.namespace+": "+(a||c)))}this.element=a,m&&(this.$element=m(this.element)),this.options=g.extend({},this.constructor.defaults),this.option(h);var l=++q;this.element.outlayerGUID=l,v[l]=this,this._create();var d=this._getOption("initLayout");d&&this.layout()}function z(a){function c(){a.apply(this,arguments)}return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c}var w=y.console,m=y.jQuery,x=function(){},q=0,v={};b.namespace="outlayer",b.Item=f,b.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var j=b.prototype;return g.extend(j,p.prototype),j.option=function(a){g.extend(this.options,a)},j._getOption=function(a){var c=this.constructor.compatOptions[a];return c&&void 0!==this.options[c]?this.options[c]:this.options[a]},b.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},j._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),g.extend(this.element.style,this.options.containerStyle);var a=this._getOption("resize");a&&this.bindResize()},j.reloadItems=function(){this.items=this._itemize(this.element.children)},j._itemize=function(c){for(var l=this._filterFindItemElements(c),a=this.constructor.Item,A=[],u=0;u<l.length;u++){var h=l[u],d=new a(h,this);A.push(d)}return A},j._filterFindItemElements=function(a){return g.filterFindElements(a,this.options.itemSelector)},j.getItemElements=function(){return this.items.map(function(a){return a.element})},j.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),c=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,c),this._isLayoutInited=!0},j._init=j.layout,j._resetLayout=function(){this.getSize()},j.getSize=function(){this.size=k(this.element)},j._getMeasurement=function(a,c){var h,d=this.options[a];d?("string"==typeof d?h=this.element.querySelector(d):d instanceof HTMLElement&&(h=d),this[a]=h?k(h)[c]:d):this[a]=0},j.layoutItems=function(a,c){a=this._getItemsForLayout(a),this._layoutItems(a,c),this._postLayout()},j._getItemsForLayout=function(a){return a.filter(function(c){return !c.isIgnored})},j._layoutItems=function(c,d){if(this._emitCompleteOnItems("layout",c),c&&c.length){var a=[];c.forEach(function(e){var h=this._getItemLayoutPosition(e);h.item=e,h.isInstant=d||e.isLayoutInstant,a.push(h)},this),this._processLayoutQueue(a)}},j._getItemLayoutPosition=function(){return{x:0,y:0}},j._processLayoutQueue=function(a){a.forEach(function(c){this._positionItem(c.item,c.x,c.y,c.isInstant)},this)},j._positionItem=function(c,d,a,h){h?c.goTo(d,a):c.moveTo(d,a)},j._postLayout=function(){this.resizeContainer()},j.resizeContainer=function(){var a=this._getOption("resizeContainer");if(a){var c=this._getContainerSize();c&&(this._setContainerMeasure(c.width,!0),this._setContainerMeasure(c.height,!1))}},j._getContainerSize=x,j._setContainerMeasure=function(c,d){if(void 0!==c){var a=this.size;a.isBorderBox&&(c+=d?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),c=Math.max(c,0),this.element.style[d?"width":"height"]=c+"px"}},j._emitCompleteOnItems=function(c,l){function a(){u.dispatchEvent(c+"Complete",null,[l])}function A(){d++,d==h&&a()}var u=this,h=l.length;if(!l||!h){return void a()}var d=0;l.forEach(function(i){i.once(c,A)})},j.dispatchEvent=function(c,d,a){var l=d?[d].concat(a):a;if(this.emitEvent(c,l),m){if(this.$element=this.$element||m(this.element),d){var h=m.Event(d);h.type=c,this.$element.trigger(h,a)}else{this.$element.trigger(c,a)}}},j.ignore=function(a){var c=this.getItem(a);c&&(c.isIgnored=!0)},j.unignore=function(a){var c=this.getItem(a);c&&delete c.isIgnored},j.stamp=function(a){a=this._find(a),a&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},j.unstamp=function(a){a=this._find(a),a&&a.forEach(function(c){g.removeFrom(this.stamps,c),this.unignore(c)},this)},j._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=g.makeArray(a)):void 0},j._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},j._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),c=this.size;this._boundingRect={left:a.left+c.paddingLeft+c.borderLeftWidth,top:a.top+c.paddingTop+c.borderTopWidth,right:a.right-(c.paddingRight+c.borderRightWidth),bottom:a.bottom-(c.paddingBottom+c.borderBottomWidth)}},j._manageStamp=x,j._getElementOffset=function(a){var d=a.getBoundingClientRect(),i=this._boundingRect,h=k(a),c={left:d.left-i.left-h.marginLeft,top:d.top-i.top-h.marginTop,right:i.right-d.right-h.marginRight,bottom:i.bottom-d.bottom-h.marginBottom};return c},j.handleEvent=g.handleEvent,j.bindResize=function(){y.addEventListener("resize",this),this.isResizeBound=!0},j.unbindResize=function(){y.removeEventListener("resize",this),this.isResizeBound=!1},j.onresize=function(){this.resize()},g.debounceMethod(b,"onresize",100),j.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},j.needsResizeLayout=function(){var a=k(this.element),c=this.size&&a;return c&&a.innerWidth!==this.size.innerWidth},j.addItems=function(a){var c=this._itemize(a);return c.length&&(this.items=this.items.concat(c)),c},j.appended=function(a){var c=this.addItems(a);c.length&&(this.layoutItems(c,!0),this.reveal(c))},j.prepended=function(c){var d=this._itemize(c);if(d.length){var a=this.items.slice(0);this.items=d.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(d,!0),this.reveal(d),this.layoutItems(a)}},j.reveal=function(a){this._emitCompleteOnItems("reveal",a),a&&a.length&&a.forEach(function(c){c.reveal()})},j.hide=function(a){this._emitCompleteOnItems("hide",a),a&&a.length&&a.forEach(function(c){c.hide()})},j.revealItemElements=function(a){var c=this.getItems(a);this.reveal(c)},j.hideItemElements=function(a){var c=this.getItems(a);this.hide(c)},j.getItem=function(c){for(var d=0;d<this.items.length;d++){var a=this.items[d];if(a.element==c){return a}}},j.getItems=function(a){a=g.makeArray(a);var c=[];return a.forEach(function(e){var d=this.getItem(e);d&&c.push(d)},this),c},j.remove=function(a){var c=this.getItems(a);this._emitCompleteOnItems("remove",c),c&&c.length&&c.forEach(function(d){d.remove(),g.removeFrom(this.items,d)},this)},j.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(d){d.destroy()}),this.unbindResize();var c=this.element.outlayerGUID;delete v[c],delete this.element.outlayerGUID,m&&m.removeData(this.element,this.constructor.namespace)},b.data=function(a){a=g.getQueryElement(a);var c=a&&a.outlayerGUID;return c&&v[c]},b.create=function(c,d){var a=z(b);return a.defaults=g.extend({},b.defaults),g.extend(a.defaults,d),a.compatOptions=g.extend({},b.compatOptions),a.namespace=c,a.data=b.data,a.Item=z(f),g.htmlInit(a,c),m&&m.bridget&&m.bridget(c,a),a},b.Item=f,b}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(b,c){var a=b.create("masonry");return a.compatOptions.fitWidth="isFitWidth",a.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var d=0;d<this.cols;d++){this.colYs.push(0)}this.maxY=0},a.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var f=this.items[0],e=f&&f.element;this.columnWidth=e&&c(e).outerWidth||this.containerWidth}var k=this.columnWidth+=this.gutter,j=this.containerWidth+this.gutter,h=j/k,g=k-j%k,d=g&&1>g?"round":"floor";h=Math[d](h),this.cols=Math.max(h,1)},a.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth"),d=e?this.element.parentNode:this.element,f=c(d);this.containerWidth=f&&f.innerWidth},a.prototype._getItemLayoutPosition=function(w){w.getSize();var m=w.size.outerWidth%this.columnWidth,k=m&&1>m?"round":"ceil",j=Math[k](w.size.outerWidth/this.columnWidth);j=Math.min(j,this.cols);for(var g=this._getColGroup(j),f=Math.min.apply(Math,g),x=g.indexOf(f),q={x:this.columnWidth*x,y:f},l=f+w.size.outerHeight,v=this.cols+1-g.length,p=0;v>p;p++){this.colYs[x+p]=l}return q},a.prototype._getColGroup=function(f){if(2>f){return this.colYs}for(var g=[],d=this.cols+1-f,j=0;d>j;j++){var h=this.colYs.slice(j,j+f);g[j]=Math.max.apply(Math,h)}return g},a.prototype._manageStamp=function(v){var j=c(v),g=this._getElementOffset(v),f=this._getOption("originLeft"),e=f?g.left:g.right,w=e+j.outerWidth,p=Math.floor(e/this.columnWidth);p=Math.max(0,p);var k=Math.floor(w/this.columnWidth);k-=w%this.columnWidth?0:1,k=Math.min(this.cols-1,k);for(var q=this._getOption("originTop"),l=(q?g.top:g.bottom)+j.outerHeight,m=p;k>=m;m++){this.colYs[m]=Math.max(l,this.colYs[m])}},a.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var d={height:this.maxY};return this._getOption("fitWidth")&&(d.width=this._getContainerFitWidth()),d},a.prototype._getContainerFitWidth=function(){for(var d=0,f=this.cols;--f&&0===this.colYs[f];){d++}return(this.cols-d)*this.columnWidth-this.gutter},a.prototype.needsResizeLayout=function(){var d=this.containerWidth;return this.getContainerWidth(),d!=this.containerWidth},a});
/*! enscroll - v0.6.0 - 2014-02-27
 * Copyright (c) 2014 ; Licensed  */
;!function(ad,ac,ab,aa){var Z={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},Y=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},X=ac.requestAnimationFrame||ac.mozRequestAnimationFrame||ac.webkitRequestAnimationFrame||ac.oRequestAnimationFrame||ac.msRequestAnimationFrame||function(b){setTimeout(b,17)},W=function(a,h){var g=ad(a).css(h),f=/^-?\d+/.exec(g);return f?+f[0]:0},V=function(h){var g,l,k={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},j=document.createElement(h),i=document.createTextNode("a\na");for(l in k){j.style[l]=k[l]}return j.appendChild(i),document.body.appendChild(j),g=j.scrollHeight<28,document.body.removeChild(j),g},U=0.5*Math.PI,T=10*Math.log(2),S=function(g,f,j){var i=U/f,h=g*i;return Math.round(h*Math.cos(i*j))},R=function(e,d,f){return Math.round(e*T*Math.pow(2,-10*f/d+1)/d)},Q=function(f,e,h,g){return 2*h/Math.PI*Math.asin((g-f)/e)},P=function(a){var j=ad(this).data("enscroll"),i=this,h=j.settings,g=function(){var d=ad(this).data("enscroll");var e=d.settings;d&&e.showOnHover&&(e.verticalScrolling&&ad(d.verticalTrackWrapper).is(":visible")&&ad(d.verticalTrackWrapper).stop().fadeTo(275,0),e.horizontalScrolling&&ad(d.horizontalTrackWrapper).is(":visible")&&ad(d.horizontalTrackWrapper).stop().fadeTo(275,0),d._fadeTimer=null)};j&&h.showOnHover&&(j._fadeTimer?clearTimeout(j._fadeTimer):(h.verticalScrolling&&ad(j.verticalTrackWrapper).is(":visible")&&ad(j.verticalTrackWrapper).stop().fadeTo(275,1),h.horizontalScrolling&&ad(j.horizontalTrackWrapper).is(":visible")&&ad(j.horizontalTrackWrapper).stop().fadeTo(275,1)),a!==!1&&(j._fadeTimer=setTimeout(function(){g.call(i)},1750)))},O=function(a,j){var i=ad(a),h=i.data("enscroll"),g=i.scrollTop();h&&h.settings.verticalScrolling&&(i.scrollTop(g+j),h.settings.showOnHover&&P.call(a))},M=function(a,j){var i=ad(a),h=i.data("enscroll"),g=i.scrollLeft();h&&h.settings.horizontalScrolling&&(i.scrollLeft(g+j),h.settings.showOnHover&&P.call(a))},K=function(ag){if(1===ag.which){var af,ae,B,A,z,y,x,w,t,o=ag.data.pane,g=ad(o),c=g.data("enscroll"),a=!0,aj=function(){a&&(B!==A&&(c._scrollingY||(c._scrollingY=!0,c._startY=g.scrollTop(),X(function(){I(g)})),ae.style.top=B+"px",c._endY=B*t/w,A=B),X(aj),c.settings.showOnHover&&P.call(o))},ai=function(b){return a&&(B=b.clientY-y-z,B=Math.min(0>B?0:B,w)),!1},ah=function(){return a=!1,ab.body.style.cursor=x,this.style.cursor="",af.removeClass("dragging"),ad(ab.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),ad(ab).off("mouseout.enscroll.vertical"),g.on("scroll.enscroll.pane",function(b){E.call(this,b)}),!1};return af=ad(c.verticalTrackWrapper).find(".enscroll-track"),ae=af.children().first()[0],B=parseInt(ae.style.top,10),t=o.scrollHeight-(c._scrollHeightNoPadding?ad(o).height():ad(o).innerHeight()),z=ag.clientY-ad(ae).offset().top,w=af.height()-ad(ae).outerHeight(),y=af.offset().top,g.off("scroll.enscroll.pane"),ad(ab.body).on({"mousemove.enscroll.vertical":ai,"mouseup.enscroll.vertical":function(b){ah.call(ae,b)}}),ad(ab).on("mouseout.enscroll.vertical",function(b){b.target.nodeName&&"HTML"===b.target.nodeName.toUpperCase()&&ah.call(ae,b)}),af.hasClass("dragging")||(af.addClass("dragging"),x=ad(ab.body).css("cursor"),this.style.cursor=ab.body.style.cursor="ns-resize"),X(aj),!1}},J=function(ag){if(1===ag.which){var af,ae,B,A,z,y,x,w,t,o=ag.data.pane,g=ad(o),c=ad(o).data("enscroll"),a=!0,aj=function(){a&&(B!==A&&(c._scrollingX||(c._scrollingX=!0,c._startX=g.scrollLeft(),X(function(){I(g)})),ae.style.left=B+"px",c._endX=B*z/t,A=B),X(aj),c.settings.showOnHover&&P.call(o))},ai=function(b){return a&&(B=b.clientX-x-y,B=Math.min(0>B?0:B,t)),!1},ah=function(){return a=!1,af.removeClass("dragging"),ab.body.style.cursor=w,this.style.cursor="",af.removeClass("dragging"),ad(ab.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),ad(ab).off("mouseout.enscroll.horizontal"),g.on("scroll.enscroll.pane",function(b){E.call(this,b)}),!1};return af=ad(c.horizontalTrackWrapper).find(".enscroll-track"),ae=af.children().first()[0],B=parseInt(ae.style.left,10),z=o.scrollWidth-ad(o).innerWidth(),y=ag.clientX-ad(ae).offset().left,t=af.width()-ad(ae).outerWidth(),x=af.offset().left,g.off("scroll.enscroll.pane"),ad(ab.body).on({"mousemove.enscroll.horizontal":ai,"mouseup.enscroll.horizontal":function(b){ah.call(ae,b)}}),ad(ab).on("mouseout.enscroll.horizontal",function(b){b.target.nodeName&&"HTML"===b.target.nodeName.toUpperCase()&&ah.call(ae,b)}),af.hasClass("dragging")||(af.addClass("dragging"),w=ad("body").css("cursor"),this.style.cursor=ab.body.style.cursor="ew-resize"),X(aj),!1}},I=function(h){var g,l,k,j=h.data("enscroll"),i=j._duration;j._scrollingX===!0&&(g=j._endX-j._startX,0===g?j._scrollingX=!1:(l=h.scrollLeft(),k=Q(j._startX,g,i,l),g>0?l>=j._endX||l<j._startX?j._scrollingX=!1:(M(h,Math.max(1,S(g,i,k))),X(function(){I(h)})):l<=j._endX||l>j._startX?j._scrollingX=!1:(M(h,Math.min(-1,S(g,i,k))),X(function(){I(h)})))),j._scrollingY===!0&&(g=j._endY-j._startY,0===g?j._scrollingY=!1:(l=h.scrollTop(),k=Q(j._startY,g,i,l),g>0?l>=j._endY||l<j._startY?j._scrollingY=!1:(O(h,Math.max(1,S(g,i,k))),X(function(){I(h)})):l<=j._endY||l>j._startY?j._scrollingY=!1:(O(h,Math.min(-1,S(g,i,k))),X(function(){I(h)}))))},H=function(g,f){var j=g.data("enscroll"),i=g.scrollLeft(),h=g[0].scrollWidth-g.innerWidth();return !j.settings.horizontalScrolling||j._scrollingY?!1:(j._scrollingX||(j._scrollingX=!0,j._startX=i,j._endX=j._startX,X(function(){I(g)})),j._endX=f>0?Math.min(i+f,h):Math.max(0,i+f),0>f&&i>0||f>0&&h>i)},G=function(g,f){var j=g.data("enscroll"),i=g.scrollTop(),h=g[0].scrollHeight-(j._scrollHeightNoPadding?g.height():g.innerHeight());return !j.settings.verticalScrolling||j._scrollingX?!1:(j._scrollingY||(j._scrollingY=!0,j._startY=i,j._endY=j._startY,X(function(){I(g)})),j._endY=f>0?Math.min(i+f,h):Math.max(0,i+f),0>f&&i>0||f>0&&h>i)},F=function(a){var n,m=ad(this),l=m.data("enscroll"),k=l.settings.scrollIncrement,j="deltaX" in a?-a.deltaX:"wheelDeltaX" in a?a.wheelDeltaX:0,f="deltaY" in a?-a.deltaY:"wheelDeltaY" in a?a.wheelDeltaY:"wheelDelta" in a?a.wheelDelta:0;Math.abs(j)>Math.abs(f)?(n=(j>0?-k:k)<<2,(H(m,n)||!l.settings.propagateWheelEvent)&&Y(a)):(n=(f>0?-k:k)<<2,(G(m,n)||!l.settings.propagateWheelEvent)&&Y(a))},E=function(){var a,j,i,h=ad(this),g=h.data("enscroll");g&&(g.settings.verticalScrolling&&(j=ad(g.verticalTrackWrapper).find(".enscroll-track")[0],a=j.firstChild,i=h.scrollTop()/(this.scrollHeight-(g._scrollHeightNoPadding?h.height():h.innerHeight())),i=isNaN(i)?0:i,a.style.top=i*(ad(j).height()-ad(a).outerHeight())+"px"),g.settings.horizontalScrolling&&(j=ad(g.horizontalTrackWrapper).find(".enscroll-track")[0],a=j.firstChild,i=h.scrollLeft()/(this.scrollWidth-h.innerWidth()),i=isNaN(i)?0:i,a.style.left=i*(ad(j).width()-ad(a).innerWidth())+"px"))},D=function(a){var h,g=ad(this),f=g.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&a.target===this&&f){switch(h=f.settings.scrollIncrement,a.keyCode){case 32:case 34:return G(g,g.height()),!1;case 33:return G(g,-g.height()),!1;case 35:return G(g,this.scrollHeight),!1;case 36:return G(g,-this.scrollHeight),!1;case 37:return H(g,-h),!1;case 38:return G(g,-h),!1;case 39:return H(g,h),!1;case 40:return G(g,h),!1}return !0}},C=function(){var x=this,w=ad(x).data("enscroll").settings,v=!0,u=0,t=0,s=ad(x).offset().top,r=s+ad(x).outerHeight(),q=ad(x).offset().left,p=q+ad(x).outerWidth(),g=function(e){var d=e.pageX,f=e.pageY;u=q>d?d-q:d>p?d-p:0,t=s>f?f-s:f>r?f-r:0},c=function(){w.horizontalScrolling&&u&&M(x,parseInt(u/4,10)),w.verticalScrolling&&t&&O(x,parseInt(t/4,10)),v&&X(c)},a=function(){v=!1,ad(ab).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};X(c),ad(ab).on({"mousemove.enscroll.pane":g,"mouseup.enscroll.pane":a})},N=function(x){var w,v,u,t,s,q,p,m=this,g=function(b){w=b.touches[0].clientX,v=b.touches[0].clientY,u||(u=v===s&&w===t?aa:Math.abs(s-v)>Math.abs(t-w)?"y":"x"),Y(b)},f=function(){q&&("y"===u?(O(m,s-v),p=s-v,s=v):"x"===u&&(M(m,t-w),p=t-w,t=w),X(f))},d=function(){var h=0,e=Math.abs(1.5*p);this.removeEventListener("touchmove",g,!1),this.removeEventListener("touchend",d,!1),q=!1,X(function i(){var a;h===e||q||(a=R(p,e,h),isNaN(a)||0===a||(h+=1,"y"===u?O(m,a):M(m,a),X(i)))})};1===x.touches.length&&(t=x.touches[0].clientX,s=x.touches[0].clientY,q=!0,this.addEventListener("touchmove",g,!1),this.addEventListener("touchend",d,!1),X(f))},L={reposition:function(){return this.each(function(){var a,l,k,j=ad(this),i=j.data("enscroll"),h=function(e,d,f){e.style.left=d+"px",e.style.top=f+"px"};i&&(k=j.position(),a=i.corner,i.settings.verticalScrolling&&(l=i.verticalTrackWrapper,h(l,"right"===i.settings.verticalScrollerSide?k.left+j.outerWidth()-ad(l).width()-W(this,"border-right-width"):k.left+W(this,"border-left-width"),k.top+W(this,"border-top-width"))),i.settings.horizontalScrolling&&(l=i.horizontalTrackWrapper,h(l,k.left+W(this,"border-left-width"),k.top+j.outerHeight()-ad(l).height()-W(this,"border-bottom-width"))),a&&h(a,k.left+j.outerWidth()-ad(a).outerWidth()-W(this,"border-right-width"),k.top+j.outerHeight()-ad(a).outerHeight()-W(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var al,ak,aj,ai,ah,ag,af,ae,B,A,z,y,x,w,v,u,t=ad(this),a=t.data("enscroll");return a?(al=a.settings,t.is(":visible")?(al.verticalScrolling&&(ai=a.verticalTrackWrapper,ak=t.innerHeight(),ah=ak/this.scrollHeight,ag=ad(ai).find(".enscroll-track")[0],B=ad(ai).find("."+al.scrollUpButtonClass),A=ad(ai).find("."+al.scrollDownButtonClass),ae=al.horizontalScrolling?ak-ad(a.horizontalTrackWrapper).find(".enscroll-track").outerHeight():ak,ae-=ad(ag).outerHeight()-ad(ag).height()+B.outerHeight()+A.outerHeight(),x=ag.firstChild,v=Math.max(ah*ae,al.minScrollbarLength),v-=ad(x).outerHeight()-ad(x).height(),ai.style.display="none",ag.style.height=ae+"px",x.style.height=v+"px",1>ah&&(ah=t.scrollTop()/(this.scrollHeight-t.height()),x.style.top=ah*(ae-v)+"px",ai.style.display="block")),al.horizontalScrolling&&(ai=a.horizontalTrackWrapper,aj=t.innerWidth(),ah=aj/this.scrollWidth,ag=ad(ai).find(".enscroll-track")[0],z=ad(ai).find("."+al.scrollLeftButtonClass),y=ad(ai).find("."+al.scrollRightButtonClass),af=al.verticalScrolling?aj-ad(a.verticalTrackWrapper).find(".enscroll-track").outerWidth():aj,af-=ad(ag).outerWidth()-ad(ag).width()+z.outerWidth()+y.outerWidth(),x=ag.firstChild,w=Math.max(ah*af,al.minScrollbarLength),w-=ad(x).outerWidth()-ad(x).width(),ai.style.display="none",ag.style.width=af+"px",x.style.width=w+"px",1>ah&&(ah=t.scrollLeft()/(this.scrollWidth-t.width()),x.style.left=ah*(af-w)+"px",ai.style.display="block"),a._prybar&&(u=a._prybar,this.removeChild(u),al.verticalScrolling&&(u.style.width=this.scrollWidth+ad(a.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(u)))),a.corner&&(a.corner.style.display=a.verticalTrackWrapper&&a.horizontalTrackWrapper&&ad(a.verticalTrackWrapper).is(":visible")&&ad(a.horizontalTrackWrapper).is(":visible")?"":"none")):(al.verticalScrolling&&(a.verticalTrackWrapper.style.display="none"),al.horizontalScrolling&&(a.horizontalTrackWrapper.style.display="none"),a.corner&&(a.corner.style.display="none")),void 0):!0})},startPolling:function(){return this.each(function(){var r,q=ad(this).data("enscroll"),p=this,o=ad(p),n=-1,m=-1,l=-1,k=-1,a=function(){if(q.settings.pollChanges){var d=p.scrollWidth,e=p.scrollHeight,c=o.width(),b=o.height(),f=o.offset();(q.settings.verticalScrolling&&(b!==m||e!==k)||q.settings.horizontalScrolling&&(c!==n||d!==l))&&(l=d,k=e,L.resize.call(o)),(r.left!==f.left||r.top!==f.top||c!==n||b!==m)&&(r=f,n=c,m=b,L.reposition.call(o)),setTimeout(a,350)}};q&&(q.settings.pollChanges=!0,k=p.scrollHeight,l=p.scrollWidth,r=o.offset(),a())})},stopPolling:function(){return this.each(function(){var a=ad(this).data("enscroll");a&&(a.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var h,g,b=ad(this),a=b.data("enscroll");a&&(L.stopPolling.call(b),g=a._mouseScrollHandler,a.settings.verticalScrolling&&(h=a.verticalTrackWrapper,ad(h).remove(),h=null),a.settings.horizontalScrolling&&(h=a.horizontalTrackWrapper,ad(h).remove(),h=null),a._fadeTimer&&clearTimeout(a._fadeTimer),a.corner&&ad(a.corner).remove(),a._prybar&&a._prybar.parentNode&&a._prybar.parentNode===this&&ad(a._prybar).remove(),this.setAttribute("style",a._style||""),a._hadTabIndex||b.removeAttr("tabindex"),b.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",g,!1),this.removeEventListener("mousewheel",g,!1),this.removeEventListener("touchstart",N,!1)):this.detachEvent&&this.detachEvent("onmousewheel",g),ad(ac).off("resize.enscroll.window"))})}};ad.fn.enscroll=function(b){var a;return L[b]?L[b].call(this):(a=ad.extend({},Z,b),this.each(function(){if(a.verticalScrolling||a.horizontalScrolling){var am,al,ak,aj,ai,ah,ag,af,A,ae,B,z,y,x,w,v,u,s,r=ad(this),q=this,p=r.attr("style"),o=!0,i={position:"absolute","z-index":a.zIndex,margin:0,padding:0},h=function(d){F.call(q,d)},f=function(d,e){"string"==typeof e?ad(d).html(e):d.appendChild(e)};if(a.verticalScrolling){al=ab.createElement("div"),aj=ab.createElement("div"),ah=ab.createElement("a"),ad(aj).css("position","relative").addClass("enscroll-track").addClass(a.verticalTrackClass).appendTo(al),a.drawScrollButtons&&(ag=ab.createElement("a"),af=ab.createElement("a"),ad(ag).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(a.scrollUpButtonClass).on("click",function(){return O(q,-a.scrollIncrement),!1}).insertBefore(aj),ad(af).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return O(q,a.scrollIncrement),!1}).addClass(a.scrollDownButtonClass).appendTo(al)),a.clickTrackToScroll&&ad(aj).on("click",function(d){d.target===this&&G(r,d.pageY>ad(ah).offset().top?r.height():-r.height())}),ad(ah).css({position:"absolute","z-index":1}).attr("href","").addClass(a.verticalHandleClass).mousedown({pane:this},K).click(function(){return !1}).appendTo(aj),f(ah,a.verticalHandleHTML),ad(al).css(i).insertAfter(this),a.showOnHover&&ad(al).css("opacity",0).on("mouseover.enscroll.vertical",function(){P.call(q,!1)}).on("mouseout.enscroll.vertical",function(){P.call(q)}),z=ad(aj).outerWidth(),a.addPaddingToPane&&(s="right"===a.verticalScrollerSide?{"padding-right":W(this,"padding-right")+z+"px"}:{"padding-left":W(this,"padding-left")+z+"px"},r.css(ad.extend({width:r.width()-z+"px"},s)));try{v=parseInt(r.css("outline-width"),10),0!==v&&!isNaN(v)||"none"!==r.css("outline-style")||r.css("outline","none")}catch(c){r.css("outline","none")}}a.horizontalScrolling&&(am=ab.createElement("div"),ak=ab.createElement("div"),ai=ab.createElement("a"),ad(ak).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(a.horizontalTrackClass).appendTo(am),a.drawScrollButtons&&(A=ab.createElement("a"),ae=ab.createElement("a"),ad(A).css("display","block").attr("href","").on("click",function(){return M(q,-a.scrollIncrement),!1}).addClass(a.scrollLeftButtonClass).insertBefore(ak),ad(ae).css("display","block").attr("href","").on("click",function(){return M(q,a.scrollIncrement),!1}).addClass(a.scrollRightButtonClass).appendTo(am)),a.clickTrackToScroll&&ad(ak).on("click",function(d){d.target===this&&H(r,d.pageX>ad(ai).offset().left?r.width():-r.width())}),ad(ai).css({position:"absolute","z-index":1}).attr("href","").addClass(a.horizontalHandleClass).click(function(){return !1}).mousedown({pane:this},J).appendTo(ak),f(ai,a.horizontalHandleHTML),ad(am).css(i).insertAfter(this),a.showOnHover&&ad(am).css("opacity",0).on("mouseover.enscroll.horizontal",function(){P.call(q,!1)}).on("mouseout.enscroll.horizontal",function(){P.call(q)}),B=ad(ak).outerHeight(),a.addPaddingToPane&&r.css({height:r.height()-B+"px","padding-bottom":parseInt(r.css("padding-bottom"),10)+B+"px"}),u=document.createElement("div"),ad(u).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this)),a.verticalScrolling&&a.horizontalScrolling&&a.drawCorner&&(y=ab.createElement("div"),ad(y).addClass(a.cornerClass).css(i).insertAfter(this)),w=r.attr("tabindex"),w||(r.attr("tabindex",0),o=!1);try{x=r.css("outline"),(!x||x.length<1)&&r.css("outline","none")}catch(c){r.css("outline","none")}r.on({"scroll.enscroll.pane":function(d){E.call(this,d)},"keydown.enscroll.pane":D,"mousedown.enscroll.pane":C}).css("overflow","hidden").data("enscroll",{settings:a,horizontalTrackWrapper:am,verticalTrackWrapper:al,corner:y,_prybar:u,_mouseScrollHandler:h,_hadTabIndex:o,_style:p,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(a.easingDuration/16.66666,10),_scrollHeightNoPadding:V(this.nodeName)}),ad(ac).on("resize.enscroll.window",function(){L.reposition.call(r)}),a.showOnHover&&r.on("mouseenter.enscroll.pane",function(){P.call(this)}),this.addEventListener?("onwheel" in this||"WheelEvent" in ac&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",h,!1):"onmousewheel" in this&&this.addEventListener("mousewheel",h,!1),this.addEventListener("touchstart",N,!1)):this.attachEvent&&this.attachEvent("onmousewheel",h),a.pollChanges&&L.startPolling.call(r),L.resize.call(r),L.reposition.call(r)}}))}}(jQuery,window,document);
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b:b(jQuery)}(function(v){function u(z){var y=z||window.event,x=n.call(arguments,1),w=0,k=0,i=0,f=0,e=0,d=0;if(z=v.event.fix(y),z.type="mousewheel","detail" in y&&(i=-1*y.detail),"wheelDelta" in y&&(i=y.wheelDelta),"wheelDeltaY" in y&&(i=y.wheelDeltaY),"wheelDeltaX" in y&&(k=-1*y.wheelDeltaX),"axis" in y&&y.axis===y.HORIZONTAL_AXIS&&(k=-1*i,i=0),w=0===i?k:i,"deltaY" in y&&(i=-1*y.deltaY,w=i),"deltaX" in y&&(k=y.deltaX,0===i&&(w=-1*k)),0!==i||0!==k){if(1===y.deltaMode){var c=v.data(this,"mousewheel-line-height");w*=c,i*=c,k*=c}else{if(2===y.deltaMode){var a=v.data(this,"mousewheel-page-height");w*=a,i*=a,k*=a}}if(f=Math.max(Math.abs(i),Math.abs(k)),(!q||q>f)&&(q=f,s(y,f)&&(q/=40)),s(y,f)&&(w/=40,k/=40,i/=40),w=Math[w>=1?"floor":"ceil"](w/q),k=Math[k>=1?"floor":"ceil"](k/q),i=Math[i>=1?"floor":"ceil"](i/q),l.settings.normalizeOffset&&this.getBoundingClientRect){var A=this.getBoundingClientRect();e=z.clientX-A.left,d=z.clientY-A.top}return z.deltaX=k,z.deltaY=i,z.deltaFactor=q,z.offsetX=e,z.offsetY=d,z.deltaMode=0,x.unshift(z,w,k,i),r&&clearTimeout(r),r=setTimeout(t,200),(v.event.dispatch||v.event.handle).apply(this,x)}}function t(){q=null}function s(d,c){return l.settings.adjustOldDeltas&&"mousewheel"===d.type&&c%120===0}var r,q,p=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],n=Array.prototype.slice;if(v.event.fixHooks){for(var m=p.length;m;){v.event.fixHooks[p[--m]]=v.event.mouseHooks}}var l=v.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener){for(var a=o.length;a;){this.addEventListener(o[--a],u,!1)}}else{this.onmousewheel=u}v.data(this,"mousewheel-line-height",l.getLineHeight(this)),v.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var a=o.length;a;){this.removeEventListener(o[--a],u,!1)}}else{this.onmousewheel=null}v.removeData(this,"mousewheel-line-height"),v.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var d=v(a)["offsetParent" in v.fn?"offsetParent":"parent"]();return d.length||(d=v("body")),parseInt(d.css("fontSize"),10)},getPageHeight:function(a){return v(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};v.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})});(function(w,s,r,A){var z="mCustomScrollbar",D="mCS",t=".mCustomScrollbar",y={setWidth:false,setHeight:false,setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,autoHideScrollbar:false,autoExpandScrollbar:false,alwaysShowScrollbar:0,snapAmount:null,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false,disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{enable:false,scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:true,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoExpandHorizontalScroll:false,autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:true,updateOnImageLoad:true,updateOnSelectorChange:false},theme:"light",callbacks:{onScrollStart:false,onScroll:false,onTotalScroll:false,onTotalScrollBack:false,whileScrolling:false,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true},live:false,liveSelector:null},u=0,p={},B=function(a){if(p[a]){clearTimeout(p[a]);x._delete.call(null,p[a])}},v=(s.attachEvent&&!s.addEventListener)?1:0,q=false,C={init:function(c){var c=w.extend(true,{},y,c),d=x._selector.call(this);if(c.live){var a=c.liveSelector||this.selector||t,b=w(a);if(c.live==="off"){B(a);return}p[a]=setTimeout(function(){b.mCustomScrollbar(c);if(c.live==="once"&&b.length){B(a)}},500)}else{B(a)}c.setWidth=(c.set_width)?c.set_width:c.setWidth;c.setHeight=(c.set_height)?c.set_height:c.setHeight;c.axis=(c.horizontalScroll)?"x":x._findAxis.call(null,c.axis);c.scrollInertia=c.scrollInertia<17?17:c.scrollInertia;if(typeof c.mouseWheel!=="object"&&c.mouseWheel==true){c.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}}c.mouseWheel.scrollAmount=!c.mouseWheelPixels?c.mouseWheel.scrollAmount:c.mouseWheelPixels;c.mouseWheel.normalizeDelta=!c.advanced.normalizeMouseWheelDelta?c.mouseWheel.normalizeDelta:c.advanced.normalizeMouseWheelDelta;c.scrollButtons.scrollType=x._findScrollButtonsType.call(null,c.scrollButtons.scrollType);x._theme.call(null,c);return w(d).each(function(){var h=w(this);if(!h.data(D)){h.data(D,{idx:++u,opt:c,scrollRatio:{y:null,x:null},overflowed:null,bindEvents:false,tweenRunning:false,sequential:{},langDir:h.css("direction"),cbOffsets:null,trigger:null});var f=h.data(D).opt,g=h.data("mcs-axis"),i=h.data("mcs-scrollbar-position"),e=h.data("mcs-theme");if(g){f.axis=g}if(i){f.scrollbarPosition=i}if(e){f.theme=e;x._theme.call(null,f)}x._pluginMarkup.call(this);C.update.call(null,h)}})},update:function(a){var b=a||x._selector.call(this);return w(b).each(function(){var f=w(this);if(f.data(D)){var d=f.data(D),e=d.opt,h=w("#mCSB_"+d.idx+"_container"),g=[w("#mCSB_"+d.idx+"_dragger_vertical"),w("#mCSB_"+d.idx+"_dragger_horizontal")];if(!h.length){return}if(d.tweenRunning){x._stop.call(null,f)}if(f.hasClass("mCS_disabled")){f.removeClass("mCS_disabled")}if(f.hasClass("mCS_destroyed")){f.removeClass("mCS_destroyed")}x._maxHeight.call(this);x._expandContentHorizontally.call(this);if(e.axis!=="y"&&!e.advanced.autoExpandHorizontalScroll){h.css("width",x._contentWidth(h.children()))}d.overflowed=x._overflowed.call(this);x._scrollbarVisibility.call(this);if(e.autoDraggerLength){x._setDraggerLength.call(this)}x._scrollRatio.call(this);x._bindEvents.call(this);var c=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)];if(e.axis!=="x"){if(!d.overflowed[0]){x._resetContentPosition.call(this);if(e.axis==="y"){x._unbindEvents.call(this)}else{if(e.axis==="yx"&&d.overflowed[1]){x._scrollTo.call(this,f,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}}else{if(g[0].height()>g[0].parent().height()){x._resetContentPosition.call(this)}else{x._scrollTo.call(this,f,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}}if(e.axis!=="y"){if(!d.overflowed[1]){x._resetContentPosition.call(this);if(e.axis==="x"){x._unbindEvents.call(this)}else{if(e.axis==="yx"&&d.overflowed[0]){x._scrollTo.call(this,f,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}}else{if(g[1].width()>g[1].parent().width()){x._resetContentPosition.call(this)}else{x._scrollTo.call(this,f,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}}x._autoUpdate.call(this)}})},scrollTo:function(a,b){if(typeof a=="undefined"||a==null){return}var c=x._selector.call(this);return w(c).each(function(){var g=w(this);if(g.data(D)){var d=g.data(D),e=d.opt,f={trigger:"external",scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:false,callbacks:true,onStart:true,onUpdate:true,onComplete:true},i=w.extend(true,{},f,b),j=x._arr.call(this,a),h=i.scrollInertia<17?17:i.scrollInertia;j[0]=x._to.call(this,j[0],"y");j[1]=x._to.call(this,j[1],"x");if(i.moveDragger){j[0]*=d.scrollRatio.y;j[1]*=d.scrollRatio.x}i.dur=h;setTimeout(function(){if(j[0]!==null&&typeof j[0]!=="undefined"&&e.axis!=="x"&&d.overflowed[0]){i.dir="y";i.overwrite="all";x._scrollTo.call(this,g,j[0].toString(),i)}if(j[1]!==null&&typeof j[1]!=="undefined"&&e.axis!=="y"&&d.overflowed[1]){i.dir="x";i.overwrite="none";x._scrollTo.call(this,g,j[1].toString(),i)}},60)}})},stop:function(){var a=x._selector.call(this);return w(a).each(function(){var b=w(this);if(b.data(D)){x._stop.call(null,b)}})},disable:function(a){var b=x._selector.call(this);return w(b).each(function(){var e=w(this);if(e.data(D)){var c=e.data(D),d=c.opt;x._autoUpdate.call(this,"remove");x._unbindEvents.call(this);if(a){x._resetContentPosition.call(this)}x._scrollbarVisibility.call(this,true);e.addClass("mCS_disabled")}})},destroy:function(){var a=x._selector.call(this);return w(a).each(function(){var e=w(this);if(e.data(D)){var c=e.data(D),d=c.opt,g=w("#mCSB_"+c.idx),f=w("#mCSB_"+c.idx+"_container"),b=w(".mCSB_"+c.idx+"_scrollbar");if(d.live){B(a)}x._autoUpdate.call(this,"remove");x._unbindEvents.call(this);x._resetContentPosition.call(this);e.removeData(D);x._delete.call(null,this.mcs);b.remove();g.replaceWith(f.contents());e.removeClass(z+" _"+D+"_"+c.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")}})}},x={_selector:function(){return(typeof w(this)!=="object"||w(this).length<1)?t:this},_theme:function(c){var d=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],e=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],f=["minimal","minimal-dark"],a=["minimal","minimal-dark"],b=["minimal","minimal-dark"];c.autoDraggerLength=w.inArray(c.theme,d)>-1?false:c.autoDraggerLength;c.autoExpandScrollbar=w.inArray(c.theme,e)>-1?false:c.autoExpandScrollbar;c.scrollButtons.enable=w.inArray(c.theme,f)>-1?false:c.scrollButtons.enable;c.autoHideScrollbar=w.inArray(c.theme,a)>-1?true:c.autoHideScrollbar;c.scrollbarPosition=w.inArray(c.theme,b)>-1?"outside":c.scrollbarPosition},_findAxis:function(a){return(a==="yx"||a==="xy"||a==="auto")?"yx":(a==="x"||a==="horizontal")?"x":"y"},_findScrollButtonsType:function(a){return(a==="stepped"||a==="pixels"||a==="step"||a==="click")?"stepped":"stepless"},_pluginMarkup:function(){var g=w(this),h=g.data(D),a=h.opt,l=a.autoExpandScrollbar?" mCSB_scrollTools_onDrag_expand":"",d=["<div id='mCSB_"+h.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+h.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+l+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+h.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+h.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+h.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+h.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],k=a.axis==="yx"?"mCSB_vertical_horizontal":a.axis==="x"?"mCSB_horizontal":"mCSB_vertical",i=a.axis==="yx"?d[0]+d[1]:a.axis==="x"?d[1]:d[0],j=a.axis==="yx"?"<div id='mCSB_"+h.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",m=a.autoHideScrollbar?" mCS-autoHide":"",c=(a.axis!=="x"&&h.langDir==="rtl")?" mCS-dir-rtl":"";if(a.setWidth){g.css("width",a.setWidth)}if(a.setHeight){g.css("height",a.setHeight)}a.setLeft=(a.axis!=="y"&&h.langDir==="rtl")?"989999px":a.setLeft;g.addClass(z+" _"+D+"_"+h.idx+m+c).wrapInner("<div id='mCSB_"+h.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+k+"'><div id='mCSB_"+h.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir="+h.langDir+" /></div>");var b=w("#mCSB_"+h.idx),f=w("#mCSB_"+h.idx+"_container");if(a.axis!=="y"&&!a.advanced.autoExpandHorizontalScroll){f.css("width",x._contentWidth(f.children()))}if(a.scrollbarPosition==="outside"){if(g.css("position")==="static"){g.css("position","relative")}g.css("overflow","visible");b.addClass("mCSB_outside").after(i)}else{b.addClass("mCSB_inside").append(i);f.wrap(j)}x._scrollButtons.call(this);var e=[w("#mCSB_"+h.idx+"_dragger_vertical"),w("#mCSB_"+h.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},_contentWidth:function(a){return Math.max.apply(Math,a.map(function(){return w(this).outerWidth(true)}).get())},_expandContentHorizontally:function(){var c=w(this),a=c.data(D),b=a.opt,d=w("#mCSB_"+a.idx+"_container");if(b.advanced.autoExpandHorizontalScroll&&b.axis!=="y"){d.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:(Math.ceil(d[0].getBoundingClientRect().right+0.4)-Math.floor(d[0].getBoundingClientRect().left)),position:"relative"}).unwrap()}},_scrollButtons:function(){var c=w(this),a=c.data(D),b=a.opt,e=w(".mCSB_"+a.idx+"_scrollbar:first"),d=["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],f=[(b.axis==="x"?d[2]:d[0]),(b.axis==="x"?d[3]:d[1]),d[2],d[3]];if(b.scrollButtons.enable){e.prepend(f[0]).append(f[1]).next(".mCSB_scrollTools").prepend(f[2]).append(f[3])}},_maxHeight:function(){var d=w(this),a=d.data(D),b=a.opt,f=w("#mCSB_"+a.idx),g=d.css("max-height"),e=g.indexOf("%")!==-1,h=d.css("box-sizing");if(g!=="none"){var c=e?d.parent().height()*parseInt(g)/100:parseInt(g);if(h==="border-box"){c-=((d.innerHeight()-d.height())+(d.outerHeight()-d.innerHeight()))}f.css("max-height",Math.round(c))}},_setDraggerLength:function(){var g=w(this),i=g.data(D),c=w("#mCSB_"+i.idx),f=w("#mCSB_"+i.idx+"_container"),d=[w("#mCSB_"+i.idx+"_dragger_vertical"),w("#mCSB_"+i.idx+"_dragger_horizontal")],h=[c.height()/f.outerHeight(false),c.width()/f.outerWidth(false)],b=[parseInt(d[0].css("min-height")),Math.round(h[0]*d[0].parent().height()),parseInt(d[1].css("min-width")),Math.round(h[1]*d[1].parent().width())],a=v&&(b[1]<b[0])?b[0]:b[1],e=v&&(b[3]<b[2])?b[2]:b[3];d[0].css({height:a,"max-height":(d[0].parent().height()-10)}).find(".mCSB_dragger_bar").css({"line-height":b[0]+"px"});d[1].css({width:e,"max-width":(d[1].parent().width()-10)})},_scrollRatio:function(){var c=w(this),a=c.data(D),f=w("#mCSB_"+a.idx),e=w("#mCSB_"+a.idx+"_container"),d=[w("#mCSB_"+a.idx+"_dragger_vertical"),w("#mCSB_"+a.idx+"_dragger_horizontal")],b=[e.outerHeight(false)-f.height(),e.outerWidth(false)-f.width()],g=[b[0]/(d[0].parent().height()-d[0].height()),b[1]/(d[1].parent().width()-d[1].width())];a.scrollRatio={y:g[0],x:g[1]}},_onDragClasses:function(d,b,e){var c=e?"mCSB_dragger_onDrag_expanded":"",f=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],a=d.closest(".mCSB_scrollTools");if(b==="active"){d.toggleClass(f[0]+" "+c);a.toggleClass(f[1]);d[0]._draggable=d[0]._draggable?0:1}else{if(!d[0]._draggable){if(b==="hide"){d.removeClass(f[0]);a.removeClass(f[1])}else{d.addClass(f[0]);a.addClass(f[1])}}}},_overflowed:function(){var b=w(this),a=b.data(D),e=w("#mCSB_"+a.idx),c=w("#mCSB_"+a.idx+"_container"),d=a.overflowed==null?c.height():c.outerHeight(false),f=a.overflowed==null?c.width():c.outerWidth(false);return[d>e.height(),f>e.width()]},_resetContentPosition:function(){var c=w(this),a=c.data(D),b=a.opt,f=w("#mCSB_"+a.idx),e=w("#mCSB_"+a.idx+"_container"),d=[w("#mCSB_"+a.idx+"_dragger_vertical"),w("#mCSB_"+a.idx+"_dragger_horizontal")];x._stop(c);if((b.axis!=="x"&&!a.overflowed[0])||(b.axis==="y"&&a.overflowed[0])){d[0].add(e).css("top",0)}if((b.axis!=="y"&&!a.overflowed[1])||(b.axis==="x"&&a.overflowed[1])){var g=dx=0;if(a.langDir==="rtl"){g=f.width()-e.outerWidth(false);dx=Math.abs(g/a.scrollRatio.x)}e.css("left",g);d[1].css("left",dx)}},_bindEvents:function(){var c=w(this),a=c.data(D),b=a.opt;if(!a.bindEvents){x._draggable.call(this);if(b.contentTouchScroll){x._contentDraggable.call(this)}if(b.mouseWheel.enable){function d(){e=setTimeout(function(){if(!w.event.special.mousewheel){d()}else{clearTimeout(e);x._mousewheel.call(c[0])}},1000)}var e;d()}x._draggerRail.call(this);x._wrapperScroll.call(this);if(b.advanced.autoScrollOnFocus){x._focus.call(this)}if(b.scrollButtons.enable){x._buttons.call(this)}if(b.keyboard.enable){x._keyboard.call(this)}a.bindEvents=true}},_unbindEvents:function(){var c=w(this),b=c.data(D),f=D+"_"+b.idx,a=".mCSB_"+b.idx+"_scrollbar",d=w("#mCSB_"+b.idx+",#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,"+a+" .mCSB_draggerContainer,#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal,"+a+">a"),e=w("#mCSB_"+b.idx+"_container");if(b.bindEvents){w(r).unbind("."+f);d.each(function(){w(this).unbind("."+f)});clearTimeout(c[0]._focusTimeout);x._delete.call(null,c[0]._focusTimeout);clearTimeout(b.sequential.step);x._delete.call(null,b.sequential.step);clearTimeout(e[0].onCompleteTimeout);x._delete.call(null,e[0].onCompleteTimeout);b.bindEvents=false}},_scrollbarVisibility:function(g){var d=w(this),b=d.data(D),c=b.opt,h=w("#mCSB_"+b.idx+"_container_wrapper"),f=h.length?h:w("#mCSB_"+b.idx+"_container"),a=[w("#mCSB_"+b.idx+"_scrollbar_vertical"),w("#mCSB_"+b.idx+"_scrollbar_horizontal")],e=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];if(c.axis!=="x"){if(b.overflowed[0]&&!g){a[0].add(e[0]).add(a[0].children("a")).css("display","block");f.removeClass("mCS_no_scrollbar_y mCS_y_hidden")}else{if(c.alwaysShowScrollbar){if(c.alwaysShowScrollbar!==2){e[0].add(a[0].children("a")).css("display","none")}f.removeClass("mCS_y_hidden")}else{a[0].css("display","none");f.addClass("mCS_y_hidden")}f.addClass("mCS_no_scrollbar_y")}}if(c.axis!=="y"){if(b.overflowed[1]&&!g){a[1].add(e[1]).add(a[1].children("a")).css("display","block");f.removeClass("mCS_no_scrollbar_x mCS_x_hidden")}else{if(c.alwaysShowScrollbar){if(c.alwaysShowScrollbar!==2){e[1].add(a[1].children("a")).css("display","none")}f.removeClass("mCS_x_hidden")}else{a[1].css("display","none");f.addClass("mCS_x_hidden")}f.addClass("mCS_no_scrollbar_x")}}if(!b.overflowed[0]&&!b.overflowed[1]){d.addClass("mCS_no_scrollbar")}else{d.removeClass("mCS_no_scrollbar")}},_coordinates:function(b){var c=b.type;switch(c){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[b.originalEvent.pageY,b.originalEvent.pageX];break;case"touchstart":case"touchmove":case"touchend":var a=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];return[a.pageY,a.pageX];break;default:return[b.pageY,b.pageX]}},_draggable:function(){var j=w(this),l=j.data(D),c=l.opt,a=D+"_"+l.idx,k=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],i=w("#mCSB_"+l.idx+"_container"),h=w("#"+k[0]+",#"+k[1]),d,f,e;h.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(o){o.stopImmediatePropagation();o.preventDefault();if(!x._mouseBtnLeft(o)){return}q=true;if(v){r.onselectstart=function(){return false}}g(false);x._stop(j);d=w(this);var n=d.offset(),m=x._coordinates(o)[0]-n.top,J=x._coordinates(o)[1]-n.left,H=d.height()+n.top,I=d.width()+n.left;if(m<H&&m>0&&J<I&&J>0){f=m;e=J}x._onDragClasses(d,"active",c.autoExpandScrollbar)}).bind("touchmove."+a,function(o){o.stopImmediatePropagation();o.preventDefault();var n=d.offset(),m=x._coordinates(o)[0]-n.top,F=x._coordinates(o)[1]-n.left;b(f,e,m,F)});w(r).bind("mousemove."+a+" pointermove."+a+" MSPointerMove."+a,function(o){if(d){var n=d.offset(),m=x._coordinates(o)[0]-n.top,F=x._coordinates(o)[1]-n.left;if(f===m){return}b(f,e,m,F)}}).add(h).bind("mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(m){if(d){x._onDragClasses(d,"active",c.autoExpandScrollbar);d=null}q=false;if(v){r.onselectstart=null}g(true)});function g(o){var n=i.find("iframe");if(!n.length){return}var m=!o?"none":"auto";n.css("pointer-events",m)}function b(H,o,m,J){i[0].idleTimer=c.scrollInertia<233?250:0;if(d.attr("id")===k[1]){var I="x",n=((d[0].offsetLeft-o)+J)*l.scrollRatio.x}else{var I="y",n=((d[0].offsetTop-H)+m)*l.scrollRatio.y}x._scrollTo(j,n.toString(),{dir:I,drag:true})}},_contentDraggable:function(){var f=w(this),c=f.data(D),h=c.opt,m=D+"_"+c.idx,l=w("#mCSB_"+c.idx),d=w("#mCSB_"+c.idx+"_container"),j=[w("#mCSB_"+c.idx+"_dragger_vertical"),w("#mCSB_"+c.idx+"_dragger_horizontal")],o,k,b,a,R=[],P=[],i,V,n,N,e,g,Q=0,T,O=h.axis==="yx"?"none":"all";d.bind("touchstart."+m+" pointerdown."+m+" MSPointerDown."+m,function(F){if(!x._pointerTouch(F)||q){return}var E=d.offset();o=x._coordinates(F)[0]-E.top;k=x._coordinates(F)[1]-E.left}).bind("touchmove."+m+" pointermove."+m+" MSPointerMove."+m,function(J){if(!x._pointerTouch(J)||q){return}J.stopImmediatePropagation();V=x._getTime();var K=l.offset(),H=x._coordinates(J)[0]-K.top,F=x._coordinates(J)[1]-K.left,I="mcsLinearOut";R.push(H);P.push(F);if(c.overflowed[0]){var L=j[0].parent().height()-j[0].height(),G=((o-H)>0&&(H-o)>-(L*c.scrollRatio.y))}if(c.overflowed[1]){var M=j[1].parent().width()-j[1].width(),E=((k-F)>0&&(F-k)>-(M*c.scrollRatio.x))}if(G||E){J.preventDefault()}g=h.axis==="yx"?[(o-H),(k-F)]:h.axis==="x"?[null,(k-F)]:[(o-H),null];d[0].idleTimer=250;if(c.overflowed[0]){S(g[0],Q,I,"y","all",true)}if(c.overflowed[1]){S(g[1],Q,I,"x",O,true)}});l.bind("touchstart."+m+" pointerdown."+m+" MSPointerDown."+m,function(F){if(!x._pointerTouch(F)||q){return}F.stopImmediatePropagation();x._stop(f);i=x._getTime();var E=l.offset();b=x._coordinates(F)[0]-E.top;a=x._coordinates(F)[1]-E.left;R=[];P=[]}).bind("touchend."+m+" pointerup."+m+" MSPointerUp."+m,function(L){if(!x._pointerTouch(L)||q){return}L.stopImmediatePropagation();n=x._getTime();var X=l.offset(),H=x._coordinates(L)[0]-X.top,F=x._coordinates(L)[1]-X.left;if((n-V)>30){return}e=1000/(n-i);var K="mcsEaseOut",J=e<2.5,E=J?[R[R.length-2],P[P.length-2]]:[0,0];N=J?[(H-E[0]),(F-E[1])]:[H-b,F-a];var M=[Math.abs(N[0]),Math.abs(N[1])];e=J?[Math.abs(N[0]/4),Math.abs(N[1]/4)]:[e,e];var G=[Math.abs(d[0].offsetTop)-(N[0]*U((M[0]/e[0]),e[0])),Math.abs(d[0].offsetLeft)-(N[1]*U((M[1]/e[1]),e[1]))];g=h.axis==="yx"?[G[0],G[1]]:h.axis==="x"?[null,G[1]]:[G[0],null];T=[(M[0]*4)+h.scrollInertia,(M[1]*4)+h.scrollInertia];var I=parseInt(h.contentTouchScroll)||0;g[0]=M[0]>I?g[0]:0;g[1]=M[1]>I?g[1]:0;if(c.overflowed[0]){S(g[0],T[0],K,"y",O,false)}if(c.overflowed[1]){S(g[1],T[1],K,"x",O,false)}});function U(E,G){var F=[G*1.5,G*2,G/1.5,G/2];if(E>90){return G>4?F[0]:F[3]}else{if(E>60){return G>3?F[3]:F[2]}else{if(E>30){return G>8?F[1]:G>6?F[0]:G>4?G:F[2]}else{return G>8?G:F[3]}}}}function S(H,F,E,I,J,G){if(!H){return}x._scrollTo(f,H.toString(),{dur:F,scrollEasing:E,dir:I,overwrite:J,drag:G})}},_mousewheel:function(){var c=w(this),a=c.data(D),b=a.opt,e=D+"_"+a.idx,f=w("#mCSB_"+a.idx),d=[w("#mCSB_"+a.idx+"_dragger_vertical"),w("#mCSB_"+a.idx+"_dragger_horizontal")];f.bind("mousewheel."+e,function(k,g){x._stop(c);if(x._disableMousewheel(c,k.target)){return}var i=b.mouseWheel.deltaFactor!=="auto"?parseInt(b.mouseWheel.deltaFactor):(v&&k.deltaFactor<100)?100:k.deltaFactor<40?40:k.deltaFactor||100;if(b.axis==="x"||b.mouseWheel.axis==="x"){var n="x",h=[Math.round(i*a.scrollRatio.x),parseInt(b.mouseWheel.scrollAmount)],l=b.mouseWheel.scrollAmount!=="auto"?h[1]:h[0]>=f.width()?f.width()*0.9:h[0],F=Math.abs(w("#mCSB_"+a.idx+"_container")[0].offsetLeft),j=d[1][0].offsetLeft,m=d[1].parent().width()-d[1].width(),o=k.deltaX||k.deltaY||g}else{var n="y",h=[Math.round(i*a.scrollRatio.y),parseInt(b.mouseWheel.scrollAmount)],l=b.mouseWheel.scrollAmount!=="auto"?h[1]:h[0]>=f.height()?f.height()*0.9:h[0],F=Math.abs(w("#mCSB_"+a.idx+"_container")[0].offsetTop),j=d[0][0].offsetTop,m=d[0].parent().height()-d[0].height(),o=k.deltaY||g}if((n==="y"&&!a.overflowed[0])||(n==="x"&&!a.overflowed[1])){return}if(b.mouseWheel.invert){o=-o}if(b.mouseWheel.normalizeDelta){o=o<0?-1:1}if((o>0&&j!==0)||(o<0&&j!==m)||b.mouseWheel.preventDefault){k.stopImmediatePropagation();k.preventDefault()}x._scrollTo(c,(F-(o*l)).toString(),{dir:n})})},_disableMousewheel:function(c,a){var e=a.nodeName.toLowerCase(),d=c.data(D).opt.mouseWheel.disableOver,b=["select","textarea"];return w.inArray(e,d)>-1&&!(w.inArray(e,b)>-1&&!w(a).is(":focus"))},_draggerRail:function(){var c=w(this),b=c.data(D),e=D+"_"+b.idx,d=w("#mCSB_"+b.idx+"_container"),a=d.parent(),f=w(".mCSB_"+b.idx+"_scrollbar .mCSB_draggerContainer");f.bind("touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(g){q=true}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(g){q=false}).bind("click."+e,function(k){if(w(k.target).hasClass("mCSB_draggerContainer")||w(k.target).hasClass("mCSB_draggerRail")){x._stop(c);var i=w(this),l=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!b.overflowed[1]){return}var j="x",h=k.pageX>l.offset().left?-1:1,g=Math.abs(d[0].offsetLeft)-(h*(a.width()*0.9))}else{if(!b.overflowed[0]){return}var j="y",h=k.pageY>l.offset().top?-1:1,g=Math.abs(d[0].offsetTop)-(h*(a.height()*0.9))}x._scrollTo(c,g.toString(),{dir:j,scrollEasing:"mcsEaseInOut"})}})},_focus:function(){var d=w(this),b=d.data(D),c=b.opt,f=D+"_"+b.idx,e=w("#mCSB_"+b.idx+"_container"),a=e.parent();e.bind("focusin."+f,function(g){var h=w(r.activeElement),j=e.find(".mCustomScrollBox").length,i=0;if(!h.is(c.advanced.autoScrollOnFocus)){return}x._stop(d);clearTimeout(d[0]._focusTimeout);d[0]._focusTimer=j?(i+17)*j:0;d[0]._focusTimeout=setTimeout(function(){var m=[h.offset().top-e.offset().top,h.offset().left-e.offset().left],n=[e[0].offsetTop,e[0].offsetLeft],l=[(n[0]+m[0]>=0&&n[0]+m[0]<a.height()-h.outerHeight(false)),(n[1]+m[1]>=0&&n[0]+m[1]<a.width()-h.outerWidth(false))],k=(c.axis==="yx"&&!l[0]&&!l[1])?"none":"all";if(c.axis!=="x"&&!l[0]){x._scrollTo(d,m[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:k,dur:i})}if(c.axis!=="y"&&!l[1]){x._scrollTo(d,m[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:k,dur:i})}},d[0]._focusTimer)})},_wrapperScroll:function(){var c=w(this),b=c.data(D),d=D+"_"+b.idx,a=w("#mCSB_"+b.idx+"_container").parent();a.bind("scroll."+d,function(e){a.scrollTop(0).scrollLeft(0)})},_buttons:function(){var c=w(this),a=c.data(D),b=a.opt,h=a.sequential,f=D+"_"+a.idx,d=w("#mCSB_"+a.idx+"_container"),e=".mCSB_"+a.idx+"_scrollbar",g=w(e+">a");g.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f+" mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f+" mouseout."+f+" pointerout."+f+" MSPointerOut."+f+" click."+f,function(j){j.preventDefault();if(!x._mouseBtnLeft(j)){return}var k=w(this).attr("class");h.type=b.scrollButtons.scrollType;switch(j.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(h.type==="stepped"){return}q=true;a.tweenRunning=false;i("on",k);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(h.type==="stepped"){return}q=false;if(h.dir){i("off",k)}break;case"click":if(h.type!=="stepped"||a.tweenRunning){return}i("on",k);break}function i(l,m){h.scrollAmount=b.snapAmount||b.scrollButtons.scrollAmount;x._sequentialScroll.call(this,c,l,m)}})},_keyboard:function(){var g=w(this),h=g.data(D),b=h.opt,d=h.sequential,i=D+"_"+h.idx,a=w("#mCSB_"+h.idx),e=w("#mCSB_"+h.idx+"_container"),c=e.parent(),f="input,textarea,select,datalist,keygen,[contenteditable='true']";a.attr("tabindex","0").bind("blur."+i+" keydown."+i+" keyup."+i,function(l){switch(l.type){case"blur":if(h.tweenRunning&&d.dir){o("off",null)}break;case"keydown":case"keyup":var j=l.keyCode?l.keyCode:l.which,F="on";if((b.axis!=="x"&&(j===38||j===40))||(b.axis!=="y"&&(j===37||j===39))){if(((j===38||j===40)&&!h.overflowed[0])||((j===37||j===39)&&!h.overflowed[1])){return}if(l.type==="keyup"){F="off"}if(!w(r.activeElement).is(f)){l.preventDefault();l.stopImmediatePropagation();o(F,j)}}else{if(j===33||j===34){if(h.overflowed[0]||h.overflowed[1]){l.preventDefault();l.stopImmediatePropagation()}if(l.type==="keyup"){x._stop(g);var n=j===34?-1:1;if(b.axis==="x"||(b.axis==="yx"&&h.overflowed[1]&&!h.overflowed[0])){var m="x",k=Math.abs(e[0].offsetLeft)-(n*(c.width()*0.9))}else{var m="y",k=Math.abs(e[0].offsetTop)-(n*(c.height()*0.9))}x._scrollTo(g,k.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else{if(j===35||j===36){if(!w(r.activeElement).is(f)){if(h.overflowed[0]||h.overflowed[1]){l.preventDefault();l.stopImmediatePropagation()}if(l.type==="keyup"){if(b.axis==="x"||(b.axis==="yx"&&h.overflowed[1]&&!h.overflowed[0])){var m="x",k=j===35?Math.abs(c.width()-e.outerWidth(false)):0}else{var m="y",k=j===35?Math.abs(c.height()-e.outerHeight(false)):0}x._scrollTo(g,k.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}}}}break}function o(H,E){d.type=b.keyboard.scrollType;d.scrollAmount=b.snapAmount||b.keyboard.scrollAmount;if(d.type==="stepped"&&h.tweenRunning){return}x._sequentialScroll.call(this,g,H,E)}})},_sequentialScroll:function(a,h,j){var f=a.data(D),b=f.opt,d=f.sequential,e=w("#mCSB_"+f.idx+"_container"),c=d.type==="stepped"?true:false;switch(h){case"on":d.dir=[(j==="mCSB_buttonRight"||j==="mCSB_buttonLeft"||j===39||j===37?"x":"y"),(j==="mCSB_buttonUp"||j==="mCSB_buttonLeft"||j===38||j===37?-1:1)];x._stop(a);if(x._isNumeric(j)&&d.type==="stepped"){return}i(c);break;case"off":g();if(c||(f.tweenRunning&&d.dir)){i(true)}break}function i(o){var O=d.type!=="stepped",K=!o?1000/60:O?b.scrollInertia/1.5:b.scrollInertia,m=!o?2.5:O?7.5:40,L=[Math.abs(e[0].offsetTop),Math.abs(e[0].offsetLeft)],P=[f.scrollRatio.y>10?10:f.scrollRatio.y,f.scrollRatio.x>10?10:f.scrollRatio.x],l=d.dir[0]==="x"?L[1]+(d.dir[1]*(P[1]*m)):L[0]+(d.dir[1]*(P[0]*m)),M=d.dir[0]==="x"?L[1]+(d.dir[1]*parseInt(d.scrollAmount)):L[0]+(d.dir[1]*parseInt(d.scrollAmount)),N=d.scrollAmount!=="auto"?M:l,k=!o?"mcsLinear":O?"mcsLinearOut":"mcsEaseInOut",n=!o?false:true;if(o&&K<17){N=d.dir[0]==="x"?L[1]:L[0]}x._scrollTo(a,N.toString(),{dir:d.dir[0],scrollEasing:k,dur:K,onComplete:n});if(o){d.dir=false;return}clearTimeout(d.step);d.step=setTimeout(function(){i()},K)}function g(){clearTimeout(d.step);x._stop(a)}},_arr:function(a){var b=w(this).data(D).opt,c=[];if(typeof a==="function"){a=a()}if(!(a instanceof Array)){c[0]=a.y?a.y:a.x||b.axis==="x"?null:a;c[1]=a.x?a.x:a.y||b.axis==="y"?null:a}else{c=a.length>1?[a[0],a[1]]:b.axis==="x"?[null,a[0]]:[a[0],null]}if(typeof c[0]==="function"){c[0]=c[0]()}if(typeof c[1]==="function"){c[1]=c[1]()}return c},_to:function(k,j){if(k==null||typeof k=="undefined"){return}var d=w(this),e=d.data(D),l=e.opt,a=w("#mCSB_"+e.idx+"_container"),b=a.parent(),m=typeof k;if(!j){j=l.axis==="x"?"x":"y"}var c=j==="x"?a.outerWidth(false):a.outerHeight(false),i=j==="x"?a.offset().left:a.offset().top,o=j==="x"?a[0].offsetLeft:a[0].offsetTop,g=j==="x"?"left":"top";switch(m){case"function":return k();break;case"object":if(k.nodeType){var f=j==="x"?w(k).offset().left:w(k).offset().top}else{if(k.jquery){if(!k.length){return}var f=j==="x"?k.offset().left:k.offset().top}}return f-i;break;case"string":case"number":if(x._isNumeric.call(null,k)){return Math.abs(k)}else{if(k.indexOf("%")!==-1){return Math.abs(c*parseInt(k)/100)}else{if(k.indexOf("-=")!==-1){return Math.abs(o-parseInt(k.split("-=")[1]))}else{if(k.indexOf("+=")!==-1){var n=(o+parseInt(k.split("+=")[1]));return n>=0?0:Math.abs(n)}else{if(k.indexOf("px")!==-1&&x._isNumeric.call(null,k.split("px")[0])){return Math.abs(k.split("px")[0])}else{if(k==="top"||k==="left"){return 0}else{if(k==="bottom"){return Math.abs(b.height()-a.outerHeight(false))}else{if(k==="right"){return Math.abs(b.width()-a.outerWidth(false))}else{if(k==="first"||k==="last"){var h=a.find(":"+k),f=j==="x"?w(h).offset().left:w(h).offset().top;return f-i}else{if(w(k).length){var f=j==="x"?w(k).offset().left:w(k).offset().top;return f-i}else{a.css(g,k);C.update.call(null,d[0]);return}}}}}}}}}}break}},_autoUpdate:function(J){var k=w(this),h=k.data(D),a=h.opt,g=w("#mCSB_"+h.idx+"_container");if(J){clearTimeout(g[0].autoUpdate);x._delete.call(null,g[0].autoUpdate);return}var l=g.parent(),L=[w("#mCSB_"+h.idx+"_scrollbar_vertical"),w("#mCSB_"+h.idx+"_scrollbar_horizontal")],m=function(){return[L[0].is(":visible")?L[0].outerHeight(true):0,L[1].is(":visible")?L[1].outerWidth(true):0]},j=b(),c,i=[g.outerHeight(false),g.outerWidth(false),l.height(),l.width(),m()[0],m()[1]],d,I=f(),e;o();function o(){clearTimeout(g[0].autoUpdate);g[0].autoUpdate=setTimeout(function(){if(a.advanced.updateOnSelectorChange){c=b();if(c!==j){n();j=c;return}}if(a.advanced.updateOnContentResize){d=[g.outerHeight(false),g.outerWidth(false),l.height(),l.width(),m()[0],m()[1]];if(d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3]||d[4]!==i[4]||d[5]!==i[5]){n();i=d}}if(a.advanced.updateOnImageLoad){e=f();if(e!==I){g.find("img").each(function(){K(this.src)});I=e}}if(a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad){o()}},60)}function f(){var E=0;if(a.advanced.updateOnImageLoad){E=g.find("img").length}return E}function K(E){var H=new Image();function F(P,O){return function(){return O.apply(P,arguments)}}function G(){this.onload=null;n()}H.onload=F(H,G);H.src=E}function b(){if(a.advanced.updateOnSelectorChange===true){a.advanced.updateOnSelectorChange="*"}var F=0,E=g.find(a.advanced.updateOnSelectorChange);if(a.advanced.updateOnSelectorChange&&E.length>0){E.each(function(){F+=w(this).height()+w(this).width()})}return F}function n(){clearTimeout(g[0].autoUpdate);C.update.call(null,k[0])}},_snapAmount:function(a,c,b){return(Math.round(a/c)*c-b)},_stop:function(c){var a=c.data(D),b=w("#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal");b.each(function(){x._stopTween.call(this)})},_scrollTo:function(R,M,m){var f=R.data(D),o=f.opt,N={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:false,dur:o.scrollInertia,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},m=w.extend(N,m),j=[m.dur,(m.drag?0:m.dur)],k=w("#mCSB_"+f.idx),Q=w("#mCSB_"+f.idx+"_container"),b=o.callbacks.onTotalScrollOffset?x._arr.call(R,o.callbacks.onTotalScrollOffset):[0,0],T=o.callbacks.onTotalScrollBackOffset?x._arr.call(R,o.callbacks.onTotalScrollBackOffset):[0,0];f.trigger=m.trigger;if(o.snapAmount){M=x._snapAmount(M,o.snapAmount,o.snapOffset)}switch(m.dir){case"x":var g=w("#mCSB_"+f.idx+"_dragger_horizontal"),c="left",O=Q[0].offsetLeft,i=[k.width()-Q.outerWidth(false),g.parent().width()-g.width()],P=[M,(M/f.scrollRatio.x)],a=b[1],e=T[1],S=a>0?a/f.scrollRatio.x:0,h=e>0?e/f.scrollRatio.x:0;break;case"y":var g=w("#mCSB_"+f.idx+"_dragger_vertical"),c="top",O=Q[0].offsetTop,i=[k.height()-Q.outerHeight(false),g.parent().height()-g.height()],P=[M,(M/f.scrollRatio.y)],a=b[0],e=T[0],S=a>0?a/f.scrollRatio.y:0,h=e>0?e/f.scrollRatio.y:0;break}if(P[1]<0){P=[0,0]}else{if(P[1]>=i[1]){P=[i[0],i[1]]}else{P[0]=-P[0]}}clearTimeout(Q[0].onCompleteTimeout);if(!f.tweenRunning&&((O===0&&P[0]>=0)||(O===i[0]&&P[0]<=i[0]))){return}x._tweenTo.call(null,g[0],c,Math.round(P[1]),j[1],m.scrollEasing);x._tweenTo.call(null,Q[0],c,Math.round(P[0]),j[0],m.scrollEasing,m.overwrite,{onStart:function(){if(m.callbacks&&m.onStart&&!f.tweenRunning){if(n("onScrollStart")){l();o.callbacks.onScrollStart.call(R[0])}f.tweenRunning=true;x._onDragClasses(g);f.cbOffsets=d()}},onUpdate:function(){if(m.callbacks&&m.onUpdate){if(n("whileScrolling")){l();o.callbacks.whileScrolling.call(R[0])}}},onComplete:function(){if(m.callbacks&&m.onComplete){if(o.axis==="yx"){clearTimeout(Q[0].onCompleteTimeout)}var E=Q[0].idleTimer||0;Q[0].onCompleteTimeout=setTimeout(function(){if(n("onScroll")){l();o.callbacks.onScroll.call(R[0])}if(n("onTotalScroll")&&P[1]>=i[1]-S&&f.cbOffsets[0]){l();o.callbacks.onTotalScroll.call(R[0])}if(n("onTotalScrollBack")&&P[1]<=h&&f.cbOffsets[1]){l();o.callbacks.onTotalScrollBack.call(R[0])}f.tweenRunning=false;Q[0].idleTimer=0;x._onDragClasses(g,"hide")},E)}}});function n(E){return f&&o.callbacks[E]&&typeof o.callbacks[E]==="function"}function d(){return[o.callbacks.alwaysTriggerOffsets||O>=i[0]+a,o.callbacks.alwaysTriggerOffsets||O<=-e]}function l(){var F=[Q[0].offsetTop,Q[0].offsetLeft],E=[g[0].offsetTop,g[0].offsetLeft],H=[Q.outerHeight(false),Q.outerWidth(false)],G=[k.height(),k.width()];R[0].mcs={content:Q,top:F[0],left:F[1],draggerTop:E[0],draggerLeft:E[1],topPct:Math.round((100*Math.abs(F[0]))/(Math.abs(H[0])-G[0])),leftPct:Math.round((100*Math.abs(F[1]))/(Math.abs(H[1])-G[1])),direction:m.dir}}},_tweenTo:function(L,k,n,N,P,m,b){var b=b||{},h=b.onStart||function(){},M=b.onUpdate||function(){},g=b.onComplete||function(){},a=x._getTime(),e,i=0,o=L.offsetTop,l=L.style;if(k==="left"){o=L.offsetLeft}var c=n-o;L._mcsstop=0;if(m!=="none"){K()}O();function d(){if(L._mcsstop){return}if(!i){h.call()}i=x._getTime()-a;j();if(i>=L._mcstime){L._mcstime=(i>L._mcstime)?i+e-(i-L._mcstime):i+e-1;if(L._mcstime<i+1){L._mcstime=i+1}}if(L._mcstime<N){L._mcsid=_request(d)}else{g.call()}}function j(){if(N>0){L._mcscurrVal=f(L._mcstime,o,c,N,P);l[k]=Math.round(L._mcscurrVal)+"px"}else{l[k]=n+"px"}M.call()}function O(){e=1000/60;L._mcstime=i+e;_request=(!s.requestAnimationFrame)?function(E){j();return setTimeout(E,0.01)}:s.requestAnimationFrame;L._mcsid=_request(d)}function K(){if(L._mcsid==null){return}if(!s.requestAnimationFrame){clearTimeout(L._mcsid)}else{s.cancelAnimationFrame(L._mcsid)}L._mcsid=null}function f(R,E,G,H,J){switch(J){case"linear":case"mcsLinear":return G*R/H+E;break;case"mcsLinearOut":R/=H;R--;return G*Math.sqrt(1-R*R)+E;break;case"easeInOutSmooth":R/=H/2;if(R<1){return G/2*R*R+E}R--;return -G/2*(R*(R-2)-1)+E;break;case"easeInOutStrong":R/=H/2;if(R<1){return G/2*Math.pow(2,10*(R-1))+E}R--;return G/2*(-Math.pow(2,-10*R)+2)+E;break;case"easeInOut":case"mcsEaseInOut":R/=H/2;if(R<1){return G/2*R*R*R+E}R-=2;return G/2*(R*R*R+2)+E;break;case"easeOutSmooth":R/=H;R--;return -G*(R*R*R*R-1)+E;break;case"easeOutStrong":return G*(-Math.pow(2,-10*R/H)+1)+E;break;case"easeOut":case"mcsEaseOut":default:var I=(R/=H)*R,F=I*R;return E+G*(0.499999999999997*F*I+-2.5*I*I+5.5*F+-6.5*I+4*R)}}},_getTime:function(){if(s.performance&&s.performance.now){return s.performance.now()}else{if(s.performance&&s.performance.webkitNow){return s.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}},_stopTween:function(){var a=this;if(a._mcsid==null){return}if(!s.requestAnimationFrame){clearTimeout(a._mcsid)}else{s.cancelAnimationFrame(a._mcsid)}a._mcsid=null;a._mcsstop=1},_delete:function(a){try{delete a}catch(b){a=null}},_mouseBtnLeft:function(a){return !(a.which&&a.which!==1)},_pointerTouch:function(a){var b=a.originalEvent.pointerType;return !(b&&b!=="touch"&&b!==2)},_isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)}};w.fn[z]=function(a){if(C[a]){return C[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return C.init.apply(this,arguments)}else{w.error("Method "+a+" does not exist")}}};w[z]=function(a){if(C[a]){return C[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return C.init.apply(this,arguments)}else{w.error("Method "+a+" does not exist")}}};w[z].defaults=y;s[z]=true;w(s).load(function(){w(t)[z]()})})(jQuery,window,document);
(function(){function aq(b){function a(g,h,j,d,f,k){for(;f>=0&&k>f;f+=b){var c=d?d[f]:f;j=h(j,g[c],c,g)}return j}return function(h,j,f,g){j=aD(j,g,4);var k=!au(h)&&ar.keys(h),d=(k||h).length,l=b>0?0:d-1;return arguments.length<3&&(f=h[k?k[l]:l],l+=b),a(h,j,f,k,l,d)}}function ak(a){return function(d,f,g){f=ag(f,g);for(var b=Q(d),c=a>0?0:b-1;c>=0&&b>c;c+=a){if(f(d[c],c,d)){return c}}return -1}}function am(c,a,b){return function(h,f,g){var j=0,d=Q(h);if("number"==typeof g){c>0?j=g>=0?g:Math.max(g+d,j):d=g>=0?Math.min(g+1,d):g+d+1}else{if(b&&g&&d){return g=b(h,f),h[g]===f?g:-1}}if(f!==f){return g=a(at.call(h,j,d),ar.isNaN),g>=0?g+j:-1}for(g=c>0?j:d-1;g>=0&&d>g;g+=c){if(h[g]===f){return g}}return -1}}function aA(g,c){var d=Y.length,f=g.constructor,a=ar.isFunction(f)&&f.prototype||aE,b="constructor";for(ar.has(g,b)&&!ar.contains(c,b)&&c.push(b);d--;){b=Y[d],b in g&&g[b]!==a[b]&&!ar.contains(c,b)&&c.push(b)}}var aj=this,aw=aj._,ap=Array.prototype,aE=Object.prototype,aC=Function.prototype,az=ap.push,at=ap.slice,al=aE.toString,ao=aE.hasOwnProperty,ax=Array.isArray,ai=Object.keys,ay=aC.bind,af=Object.create,aB=function(){},ar=function(a){return a instanceof ar?a:this instanceof ar?void (this._wrapped=a):new ar(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):aj._=ar,ar.VERSION="1.8.3";var aD=function(c,a,b){if(a===void 0){return c}switch(null==b?3:b){case 1:return function(d){return c.call(a,d)};case 2:return function(d,f){return c.call(a,d,f)};case 3:return function(f,g,d){return c.call(a,f,g,d)};case 4:return function(g,h,d,f){return c.call(a,g,h,d,f)}}return function(){return c.apply(a,arguments)}},ag=function(c,a,b){return null==c?ar.identity:ar.isFunction(c)?aD(c,a,b):ar.isObject(c)?ar.matcher(c):ar.property(c)};ar.iteratee=function(b,a){return ag(b,a,1/0)};var aF=function(b,a){return function(j){var l=arguments.length;if(2>l||null==j){return j}for(var g=1;l>g;g++){for(var h=arguments[g],m=b(h),d=m.length,n=0;d>n;n++){var k=m[n];a&&j[k]!==void 0||(j[k]=h[k])}}return j}},av=function(b){if(!ar.isObject(b)){return{}}if(af){return af(b)}aB.prototype=b;var a=new aB;return aB.prototype=null,a},ah=function(a){return function(b){return null==b?void 0:b[a]}},ad=Math.pow(2,53)-1,Q=ah("length"),au=function(b){var a=Q(b);return"number"==typeof a&&a>=0&&ad>=a};ar.each=ar.forEach=function(g,c,d){c=aD(c,d);var f,a;if(au(g)){for(f=0,a=g.length;a>f;f++){c(g[f],f,g)}}else{var b=ar.keys(g);for(f=0,a=b.length;a>f;f++){c(g[b[f]],b[f],g)}}return g},ar.map=ar.collect=function(k,f,g){f=ag(f,g);for(var h=!au(k)&&ar.keys(k),c=(h||k).length,d=Array(c),j=0;c>j;j++){var b=h?h[j]:j;d[j]=f(k[b],b,k)}return d},ar.reduce=ar.foldl=ar.inject=aq(1),ar.reduceRight=ar.foldr=aq(-1),ar.find=ar.detect=function(d,a,b){var c;return c=au(d)?ar.findIndex(d,a,b):ar.findKey(d,a,b),c!==void 0&&c!==-1?d[c]:void 0},ar.filter=ar.select=function(d,a,b){var c=[];return a=ag(a,b),ar.each(d,function(g,f,e){a(g,f,e)&&c.push(g)}),c},ar.reject=function(c,a,b){return ar.filter(c,ar.negate(ag(a)),b)},ar.every=ar.all=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(!c(h[g],g,h)){return !1}}return !0},ar.some=ar.any=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(c(h[g],g,h)){return !0}}return !1},ar.contains=ar.includes=ar.include=function(d,a,b,c){return au(d)||(d=ar.values(d)),("number"!=typeof b||c)&&(b=0),ar.indexOf(d,a,b)>=0},ar.invoke=function(d,a){var b=at.call(arguments,2),c=ar.isFunction(a);return ar.map(d,function(f){var e=c?a:f[a];return null==e?e:e.apply(f,b)})},ar.pluck=function(b,a){return ar.map(b,ar.property(a))},ar.where=function(b,a){return ar.filter(b,ar.matcher(a))},ar.findWhere=function(b,a){return ar.find(b,ar.matcher(a))},ar.max=function(f,m,b){var h,l,g=-1/0,d=-1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],h>g&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(l>d||l===-1/0&&g===-1/0)&&(g=i,d=l)})}return g},ar.min=function(f,m,b){var h,l,g=1/0,d=1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],g>h&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(d>l||1/0===l&&1/0===g)&&(g=i,d=l)})}return g},ar.shuffle=function(g){for(var c,d=au(g)?g:ar.values(g),f=d.length,a=Array(f),b=0;f>b;b++){c=ar.random(0,b),c!==b&&(a[b]=a[c]),a[c]=d[b]}return a},ar.sample=function(c,a,b){return null==a||b?(au(c)||(c=ar.values(c)),c[ar.random(c.length-1)]):ar.shuffle(c).slice(0,Math.max(0,a))},ar.sortBy=function(c,a,b){return a=ag(a,b),ar.pluck(ar.map(c,function(g,d,f){return{value:g,index:d,criteria:a(g,d,f)}}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1}if(g>f||g===void 0){return -1}}return h.index-d.index}),"value")};var Z=function(a){return function(c,d,f){var b={};return d=ag(d,f),ar.each(c,function(h,g){var j=d(h,g,c);a(b,h,j)}),b}};ar.groupBy=Z(function(c,a,b){ar.has(c,b)?c[b].push(a):c[b]=[a]}),ar.indexBy=Z(function(c,a,b){c[b]=a}),ar.countBy=Z(function(c,a,b){ar.has(c,b)?c[b]++:c[b]=1}),ar.toArray=function(a){return a?ar.isArray(a)?at.call(a):au(a)?ar.map(a,ar.identity):ar.values(a):[]},ar.size=function(a){return null==a?0:au(a)?a.length:ar.keys(a).length},ar.partition=function(f,b,c){b=ag(b,c);var d=[],a=[];return ar.each(f,function(h,g,e){(b(h,g,e)?d:a).push(h)}),[d,a]},ar.first=ar.head=ar.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:ar.initial(c,c.length-a)},ar.initial=function(c,a,b){return at.call(c,0,Math.max(0,c.length-(null==a||b?1:a)))},ar.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:ar.rest(c,Math.max(0,c.length-a))},ar.rest=ar.tail=ar.drop=function(c,a,b){return at.call(c,null==a||b?1:a)},ar.compact=function(a){return ar.filter(a,ar.identity)};var G=function(g,v,b,m){for(var s=[],j=0,d=m||0,q=Q(g);q>d;d++){var p=g[d];if(au(p)&&(ar.isArray(p)||ar.isArguments(p))){v||(p=G(p,v,b));var k=0,h=p.length;for(s.length+=h;h>k;){s[j++]=p[k++]}}else{b||(s[j++]=p)}}return s};ar.flatten=function(b,a){return G(b,a,!1)},ar.without=function(a){return ar.difference(a,at.call(arguments,1))},ar.uniq=ar.unique=function(g,q,b,k){ar.isBoolean(q)||(k=b,b=q,q=!1),null!=b&&(b=ag(b,k));for(var p=[],h=[],d=0,m=Q(g);m>d;d++){var l=g[d],j=b?b(l,d,g):l;q?(d&&h===j||p.push(l),h=j):b?ar.contains(h,j)||(h.push(j),p.push(l)):ar.contains(p,l)||p.push(l)}return p},ar.union=function(){return ar.uniq(G(arguments,!0,!0))},ar.intersection=function(h){for(var c=[],d=arguments.length,f=0,a=Q(h);a>f;f++){var b=h[f];if(!ar.contains(c,b)){for(var g=1;d>g&&ar.contains(arguments[g],b);g++){}g===d&&c.push(b)}}return c},ar.difference=function(b){var a=G(arguments,!0,!0,1);return ar.filter(b,function(c){return !ar.contains(a,c)})},ar.zip=function(){return ar.unzip(arguments)},ar.unzip=function(d){for(var a=d&&ar.max(d,Q).length||0,b=Array(a),c=0;a>c;c++){b[c]=ar.pluck(d,c)}return b},ar.object=function(f,b){for(var c={},d=0,a=Q(f);a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ar.findIndex=ak(1),ar.findLastIndex=ak(-1),ar.sortedIndex=function(k,f,g,h){g=ag(g,h,1);for(var c=g(f),d=0,j=Q(k);j>d;){var b=Math.floor((d+j)/2);g(k[b])<c?d=b+1:j=b}return d},ar.indexOf=am(1,ar.findIndex,ar.sortedIndex),ar.lastIndexOf=am(-1,ar.findLastIndex),ar.range=function(g,c,d){null==c&&(c=g||0,g=0),d=d||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=Array(f),b=0;f>b;b++,g+=d){a[b]=g}return a};var aa=function(h,c,d,f,a){if(!(f instanceof c)){return h.apply(d,a)}var b=av(h.prototype),g=h.apply(b,a);return ar.isObject(g)?g:b};ar.bind=function(d,a){if(ay&&d.bind===ay){return ay.apply(d,at.call(arguments,1))}if(!ar.isFunction(d)){throw new TypeError("Bind must be called on a function")}var b=at.call(arguments,2),c=function(){return aa(d,c,a,this,b.concat(at.call(arguments)))};return c},ar.partial=function(c){var a=at.call(arguments,1),b=function(){for(var g=0,d=a.length,f=Array(d),h=0;d>h;h++){f[h]=a[h]===ar?arguments[g++]:a[h]}for(;g<arguments.length;){f.push(arguments[g++])}return aa(c,b,this,this,f)};return b},ar.bindAll=function(d){var a,b,c=arguments.length;if(1>=c){throw new Error("bindAll must be passed function names")}for(a=1;c>a;a++){b=arguments[a],d[b]=ar.bind(d[b],d)}return d},ar.memoize=function(c,a){var b=function(g){var d=b.cache,f=""+(a?a.apply(this,arguments):g);return ar.has(d,f)||(d[f]=c.apply(this,arguments)),d[f]};return b.cache={},b},ar.delay=function(c,a){var b=at.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ar.defer=ar.partial(ar.delay,ar,1),ar.throttle=function(f,m,b){var h,l,g,d=null,k=0;b||(b={});var j=function(){k=b.leading===!1?0:ar.now(),d=null,g=f.apply(h,l),d||(h=l=null)};return function(){var c=ar.now();k||b.leading!==!1||(k=c);var a=m-(c-k);return h=this,l=arguments,0>=a||a>m?(d&&(clearTimeout(d),d=null),k=c,g=f.apply(h,l),d||(h=l=null)):d||b.trailing===!1||(d=setTimeout(j,a)),g}},ar.debounce=function(f,m,b){var h,l,g,d,k,j=function(){var a=ar.now()-d;m>a&&a>=0?h=setTimeout(j,m-a):(h=null,b||(k=f.apply(g,l),h||(g=l=null)))};return function(){g=this,l=arguments,d=ar.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(k=f.apply(g,l),g=l=null),k}},ar.wrap=function(b,a){return ar.partial(a,b)},ar.negate=function(a){return function(){return !a.apply(this,arguments)}},ar.compose=function(){var b=arguments,a=b.length-1;return function(){for(var c=a,d=b[a].apply(this,arguments);c--;){d=b[c].call(this,d)}return d}},ar.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ar.before=function(c,a){var b;return function(){return --c>0&&(b=a.apply(this,arguments)),1>=c&&(a=null),b}},ar.once=ar.partial(ar.before,2);var V=!{toString:null}.propertyIsEnumerable("toString"),Y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];ar.keys=function(c){if(!ar.isObject(c)){return[]}if(ai){return ai(c)}var a=[];for(var b in c){ar.has(c,b)&&a.push(b)}return V&&aA(c,a),a},ar.allKeys=function(c){if(!ar.isObject(c)){return[]}var a=[];for(var b in c){a.push(b)}return V&&aA(c,a),a},ar.values=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=f[b[a]]}return d},ar.mapObject=function(k,f,g){f=ag(f,g);for(var h,c=ar.keys(k),d=c.length,j={},b=0;d>b;b++){h=c[b],j[h]=f(k[h],h,k)}return j},ar.pairs=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]]}return d},ar.invert=function(f){for(var b={},c=ar.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d]}return b},ar.functions=ar.methods=function(c){var a=[];for(var b in c){ar.isFunction(c[b])&&a.push(b)}return a.sort()},ar.extend=aF(ar.allKeys),ar.extendOwn=ar.assign=aF(ar.keys),ar.findKey=function(h,c,d){c=ag(c,d);for(var f,a=ar.keys(h),b=0,g=a.length;g>b;b++){if(f=a[b],c(h[f],f,h)){return f}}},ar.pick=function(g,v,b){var m,s,j={},d=g;if(null==d){return j}ar.isFunction(v)?(s=ar.allKeys(d),m=aD(v,b)):(s=G(arguments,!1,!1,1),m=function(e,a,c){return a in c},d=Object(d));for(var q=0,p=s.length;p>q;q++){var k=s[q],h=d[k];m(h,k,d)&&(j[k]=h)}return j},ar.omit=function(d,a,b){if(ar.isFunction(a)){a=ar.negate(a)}else{var c=ar.map(G(arguments,!1,!1,1),String);a=function(f,e){return !ar.contains(c,e)}}return ar.pick(d,a,b)},ar.defaults=aF(ar.allKeys,!0),ar.create=function(c,a){var b=av(c);return a&&ar.extendOwn(b,a),b},ar.clone=function(a){return ar.isObject(a)?ar.isArray(a)?a.slice():ar.extend({},a):a},ar.tap=function(b,a){return a(b),b},ar.isMatch=function(h,c){var d=ar.keys(c),f=d.length;if(null==h){return !f}for(var a=Object(h),b=0;f>b;b++){var g=d[b];if(c[g]!==a[g]||!(g in a)){return !1}}return !0};var U=function(g,v,b,m){if(g===v){return 0!==g||1/g===1/v}if(null==g||null==v){return g===v}g instanceof ar&&(g=g._wrapped),v instanceof ar&&(v=v._wrapped);var s=al.call(g);if(s!==al.call(v)){return !1}switch(s){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return +g!==+g?+v!==+v:0===+g?1/+g===1/v:+g===+v;case"[object Date]":case"[object Boolean]":return +g===+v}var j="[object Array]"===s;if(!j){if("object"!=typeof g||"object"!=typeof v){return !1}var d=g.constructor,q=v.constructor;if(d!==q&&!(ar.isFunction(d)&&d instanceof d&&ar.isFunction(q)&&q instanceof q)&&"constructor" in g&&"constructor" in v){return !1}}b=b||[],m=m||[];for(var p=b.length;p--;){if(b[p]===g){return m[p]===v}}if(b.push(g),m.push(v),j){if(p=g.length,p!==v.length){return !1}for(;p--;){if(!U(g[p],v[p],b,m)){return !1}}}else{var k,h=ar.keys(g);if(p=h.length,ar.keys(v).length!==p){return !1}for(;p--;){if(k=h[p],!ar.has(v,k)||!U(g[k],v[k],b,m)){return !1}}}return b.pop(),m.pop(),!0};ar.isEqual=function(b,a){return U(b,a)},ar.isEmpty=function(a){return null==a?!0:au(a)&&(ar.isArray(a)||ar.isString(a)||ar.isArguments(a))?0===a.length:0===ar.keys(a).length},ar.isElement=function(a){return !(!a||1!==a.nodeType)},ar.isArray=ax||function(a){return"[object Array]"===al.call(a)},ar.isObject=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b},ar.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){ar["is"+a]=function(b){return al.call(b)==="[object "+a+"]"}}),ar.isArguments(arguments)||(ar.isArguments=function(a){return ar.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(ar.isFunction=function(a){return"function"==typeof a||!1}),ar.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ar.isNaN=function(a){return ar.isNumber(a)&&a!==+a},ar.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===al.call(a)},ar.isNull=function(a){return null===a},ar.isUndefined=function(a){return a===void 0},ar.has=function(b,a){return null!=b&&ao.call(b,a)},ar.noConflict=function(){return aj._=aw,this},ar.identity=function(a){return a},ar.constant=function(a){return function(){return a}},ar.noop=function(){},ar.property=ah,ar.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},ar.matcher=ar.matches=function(a){return a=ar.extendOwn({},a),function(b){return ar.isMatch(b,a)}},ar.times=function(f,b,c){var d=Array(Math.max(0,f));b=aD(b,c,1);for(var a=0;f>a;a++){d[a]=b(a)}return d},ar.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))},ar.now=Date.now||function(){return(new Date).getTime()};var ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=ar.invert(ac),H=function(f){var b=function(e){return f[e]},c="(?:"+ar.keys(f).join("|")+")",d=RegExp(c),a=RegExp(c,"g");return function(e){return e=null==e?"":""+e,d.test(e)?e.replace(a,b):e}};ar.escape=H(ac),ar.unescape=H(C),ar.result=function(d,a,b){var c=null==d?void 0:d[a];return c===void 0&&(c=b),ar.isFunction(c)?c.call(d):c};var an=0;ar.uniqueId=function(b){var a=++an+"";return b?b+a:a},ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,ae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ab=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+ae[a]};ar.template=function(g,q,b){!q&&b&&(q=b),q=ar.defaults({},q,ar.templateSettings);var k=RegExp([(q.escape||X).source,(q.interpolate||X).source,(q.evaluate||X).source].join("|")+"|$","g"),p=0,h="__p+='";g.replace(k,function(f,i,n,s,c){return h+=g.slice(p,c).replace(ab,W),p=c+f.length,i?h+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?h+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(h+="';\n"+s+"\n__p+='"),f}),h+="';\n",q.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var d=new Function(q.variable||"obj","_",h)}catch(m){throw m.source=h,m}var l=function(a){return d.call(this,a,ar)},j=q.variable||"obj";return l.source="function("+j+"){\n"+h+"}",l},ar.chain=function(b){var a=ar(b);return a._chain=!0,a};var J=function(b,a){return b._chain?ar(a).chain():a};ar.mixin=function(a){ar.each(ar.functions(a),function(b){var c=ar[b]=a[b];ar.prototype[b]=function(){var d=[this._wrapped];return az.apply(d,arguments),J(this,c.apply(ar,d))}})},ar.mixin(ar),ar.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=ap[b];ar.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!==b&&"splice"!==b||0!==c.length||delete c[0],J(this,c)}}),ar.each(["concat","join","slice"],function(b){var a=ap[b];ar.prototype[b]=function(){return J(this,a.apply(this._wrapped,arguments))}}),ar.prototype.value=function(){return this._wrapped},ar.prototype.valueOf=ar.prototype.toJSON=ar.prototype.value,ar.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return ar})}).call(this);
(function(){function fm(fu,ft){try{for(var fs in ft){Object.defineProperty(fu.prototype,fs,{value:ft[fs],enumerable:false})}}catch(fv){fu.prototype=ft}}function fj(fs){var e=-1,fu=fs.length,ft=[];while(++e<fu){ft.push(fs[e])}return ft}function aX(e){return Array.prototype.slice.call(e)}function ag(){}function d8(e){return e}function Q(){return this}function T(){return true}function I(e){return typeof e==="function"?e:function(){return e}}function cH(fs,e,ft){return function(){var fu=ft.apply(e,arguments);return arguments.length?fs:fu}}function eX(e){return e!=null&&!isNaN(e)}function dh(e){return e.length}function cX(e){return e==null}function bz(e){return e.trim().replace(/\s+/g," ")}function d7(e){var fs=1;while(e*fs%1){fs*=10}return fs}function cU(){}function dk(e){function fu(){var fx=ft,fw=-1,fy=fx.length,fv;while(++fw<fy){if(fv=fx[fw].on){fv.apply(this,arguments)}}return e}var ft=[],fs=new ag;fu.on=function(fw,fy){var fv=fs.get(fw),fx;if(arguments.length<2){return fv&&fv.on}if(fv){fv.on=null;ft=ft.slice(0,fx=ft.indexOf(fv)).concat(ft.slice(fx+1));fs.remove(fw)}if(fy){ft.push(fs.set(fw,{on:fy}))}return e};return fu}function cx(e,fs){return fs-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-fs))/Math.LN10):1)}function aH(e){return e+""}function bX(fu){var fs=fu.lastIndexOf("."),ft=fs>=0?fu.substring(fs):(fs=fu.length,""),e=[];while(fs>0){e.push(fu.substring(fs-=3,fs+3))}return e.reverse().join(",")+ft}function ce(ft,fs){var e=Math.pow(10,Math.abs(8-fs)*3);return{scale:fs>8?function(fu){return fu/e}:function(fu){return fu*e},symbol:ft}}function dA(e){return function(fs){return fs<=0?0:fs>=1?1:e(fs)}}function v(e){return function(fs){return 1-e(1-fs)}}function au(e){return function(fs){return 0.5*(fs<0.5?e(2*fs):2-e(2-2*fs))}}function bW(e){return e}function am(fs){return function(e){return Math.pow(e,fs)}}function dZ(e){return 1-Math.cos(e*Math.PI/2)}function du(e){return Math.pow(2,10*(e-1))}function ct(e){return 1-Math.sqrt(1-e*e)}function N(e,ft){var fs;if(arguments.length<2){ft=0.45}if(arguments.length<1){e=1;fs=ft/4}else{fs=ft/(2*Math.PI)*Math.asin(1/e)}return function(fu){return 1+e*Math.pow(2,10*-fu)*Math.sin((fu-fs)*2*Math.PI/ft)}}function eE(e){if(!e){e=1.70158}return function(fs){return fs*fs*((e+1)*fs-e)}}function bf(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}function fa(){d3.event.stopPropagation();d3.event.preventDefault()}function R(){var ft=d3.event,fs;while(fs=ft.sourceEvent){ft=fs}return ft}function eQ(ft){var e=new cU,fs=0,fu=arguments.length;while(++fs<fu){e[arguments[fs]]=dk(e)}e.of=function(fw,fv){return function(fx){try{var fy=fx.sourceEvent=d3.event;fx.target=ft;d3.event=fx;e[fx.type].apply(fw,fv)}finally{d3.event=fy}}};return e}function n(e){var fu=[e.a,e.b],fs=[e.c,e.d],fw=ds(fu),ft=c0(fu,fs),fv=ds(a1(fs,fu,-ft))||0;if(fu[0]*fs[1]<fs[0]*fu[1]){fu[0]*=-1;fu[1]*=-1;fw*=-1;ft*=-1}this.rotate=(fw?Math.atan2(fu[1],fu[0]):Math.atan2(-fs[0],fs[1]))*cO;this.translate=[e.e,e.f];this.scale=[fw,fv];this.skew=fv?Math.atan2(ft,fv)*cO:0}function c0(fs,e){return fs[0]*e[0]+fs[1]*e[1]}function ds(e){var fs=Math.sqrt(c0(e,e));if(fs){e[0]/=fs;e[1]/=fs}return fs}function a1(fs,e,ft){fs[0]+=ft*e[0];fs[1]+=ft*e[1];return fs}function dv(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function e0(fs,e){e=e-(fs=+fs)?1/(e-fs):0;return function(ft){return(ft-fs)*e}}function ab(fs,e){e=e-(fs=+fs)?1/(e-fs):0;return function(ft){return Math.max(0,Math.min(1,(ft-fs)*e))}}function y(){}function cB(ft,fs,e){return new db(ft,fs,e)}function db(ft,fs,e){this.r=ft;this.g=fs;this.b=e}function bp(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ao(fw,fu,fx){var e=0,ft=0,fv=0,fz,fy,fs;fz=/([a-z]+)\((.*)\)/i.exec(fw);if(fz){fy=fz[2].split(",");switch(fz[1]){case"hsl":return fx(parseFloat(fy[0]),parseFloat(fy[1])/100,parseFloat(fy[2])/100);case"rgb":return fu(cY(fy[0]),cY(fy[1]),cY(fy[2]))}}if(fs=U.get(fw)){return fu(fs.r,fs.g,fs.b)}if(fw!=null&&fw.charAt(0)==="#"){if(fw.length===4){e=fw.charAt(1);e+=e;ft=fw.charAt(2);ft+=ft;fv=fw.charAt(3);fv+=fv}else{if(fw.length===7){e=fw.substring(1,3);ft=fw.substring(3,5);fv=fw.substring(5,7)}}e=parseInt(e,16);ft=parseInt(ft,16);fv=parseInt(fv,16)}return fu(e,ft,fv)}function eg(e,fv,fx){var ft=Math.min(e/=255,fv/=255,fx/=255),fy=Math.max(e,fv,fx),fw=fy-ft,fu,fz,fs=(fy+ft)/2;if(fw){fz=fs<0.5?fw/(fy+ft):fw/(2-fy-ft);if(e==fy){fu=(fv-fx)/fw+(fv<fx?6:0)}else{if(fv==fy){fu=(fx-e)/fw+2}else{fu=(e-fv)/fw+4}}fu*=60}else{fz=fu=0}return cM(fu,fz,fs)}function co(fu,ft,fs){fu=b9(fu);ft=b9(ft);fs=b9(fs);var e=ec((0.4124564*fu+0.3575761*ft+0.1804375*fs)/aD),fw=ec((0.2126729*fu+0.7151522*ft+0.072175*fs)/az),fv=ec((0.0193339*fu+0.119192*ft+0.9503041*fs)/ay);return bi(116*fw-16,500*(e-fw),200*(fw-fv))}function b9(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function cY(fs){var e=parseFloat(fs);return fs.charAt(fs.length-1)==="%"?Math.round(e*2.55):e}function cM(ft,fs,e){return new dt(ft,fs,e)}function dt(ft,fs,e){this.h=ft;this.s=fs;this.l=e}function aE(fw,fv,e){function ft(fy){if(fy>360){fy-=360}else{if(fy<0){fy+=360}}if(fy<60){return fu+(fs-fu)*fy/60}if(fy<180){return fs}if(fy<240){return fu+(fs-fu)*(240-fy)/60}return fu}function fx(fy){return Math.round(ft(fy)*255)}var fu,fs;fw=fw%360;if(fw<0){fw+=360}fv=fv<0?0:fv>1?1:fv;e=e<0?0:e>1?1:e;fs=e<=0.5?e*(1+fv):e+fv-e*fv;fu=2*e-fs;return cB(fx(fw+120),fx(fw),fx(fw-120))}function aP(fs,ft,e){return new bn(fs,ft,e)}function bn(fs,ft,e){this.h=fs;this.c=ft;this.l=e}function aQ(fs,ft,e){return bi(e,Math.cos(fs*=Math.PI/180)*ft,Math.sin(fs)*ft)}function bi(ft,fs,e){return new bS(ft,fs,e)}function bS(ft,fs,e){this.l=ft;this.a=fs;this.b=e}function ad(fu,ft,fs){var fw=(fu+16)/116,e=fw+ft/500,fv=fw-fs/200;e=eG(e)*aD;fw=eG(fw)*az;fv=eG(fv)*ay;return cB(c(3.2404542*e-1.5371385*fw-0.4985314*fv),c(-0.969266*e+1.8760108*fw+0.041556*fv),c(0.0556434*e-0.2040259*fw+1.0572252*fv))}function er(ft,fs,e){return aP(Math.atan2(e,fs)/Math.PI*180,Math.sqrt(fs*fs+e*e),ft)}function eG(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function ec(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function c(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}function cn(e){cZ(e,cl);return e}function t(e){return function(){return b1(e,this)}}function bN(e){return function(){return dU(e,this)}}function aL(ft,fx){function fs(){this.removeAttribute(ft)}function fy(){this.removeAttributeNS(ft.space,ft.local)}function fw(){this.setAttribute(ft,fx)}function fv(){this.setAttributeNS(ft.space,ft.local,fx)}function e(){var fz=fx.apply(this,arguments);if(fz==null){this.removeAttribute(ft)}else{this.setAttribute(ft,fz)}}function fu(){var fz=fx.apply(this,arguments);if(fz==null){this.removeAttributeNS(ft.space,ft.local)}else{this.setAttributeNS(ft.space,ft.local,fz)}}ft=d3.ns.qualify(ft);return fx==null?ft.local?fy:fs:typeof fx==="function"?ft.local?fu:e:ft.local?fv:fw}function ev(e){return new RegExp("(?:^|\\s+)"+d3.requote(e)+"(?:\\s+|$)","g")}function em(fs,fu){function e(){var fw=-1;while(++fw<fv){fs[fw](this,fu)}}function ft(){var fx=-1,fw=fu.apply(this,arguments);while(++fx<fv){fs[fx](this,fw)}}fs=fs.trim().split(/\s+/).map(fk);var fv=fs.length;return typeof fu==="function"?ft:e}function fk(e){var fs=ev(e);return function(fv,fw){if(fx=fv.classList){return fw?fx.add(e):fx.remove(e)}var fx=fv.className,ft=fx.baseVal!=null,fu=ft?fx.baseVal:fx;if(fw){fs.lastIndex=0;if(!fs.test(fu)){fu=bz(fu+" "+e);if(ft){fx.baseVal=fu}else{fv.className=fu}}}else{if(fu){fu=bz(fu.replace(fs," "));if(ft){fx.baseVal=fu}else{fv.className=fu}}}}}function dI(ft,fw,fu){function fs(){this.style.removeProperty(ft)}function fv(){this.style.setProperty(ft,fw,fu)}function e(){var fx=fw.apply(this,arguments);if(fx==null){this.style.removeProperty(ft)}else{this.style.setProperty(ft,fx,fu)}}return fw==null?fs:typeof fw==="function"?e:fv}function e7(fs,fu){function e(){delete this[fs]}function ft(){this[fs]=fu}function fv(){var fw=fu.apply(this,arguments);if(fw==null){delete this[fs]}else{this[fs]=fw}}return fu==null?e:typeof fu==="function"?fv:ft}function C(e){return{__data__:e}}function aw(e){return function(){return a(this,e)}}function et(e){if(!arguments.length){e=d3.ascending}return function(ft,fs){return e(ft&&ft.__data__,fs&&fs.__data__)}}function j(fv,fw,e){function ft(){var fy=this[fs];if(fy){this.removeEventListener(fv,fy,fy.$);delete this[fs]}}function fx(){function fA(fB){var fC=d3.event;d3.event=fB;fy[0]=fz.__data__;try{fw.apply(fz,fy)}finally{d3.event=fC}}var fz=this,fy=arguments;ft.call(this);this.addEventListener(fv,this[fs]=fA,fA.$=e);fA._=fw}var fs="__on"+fv,fu=fv.indexOf(".");if(fu>0){fv=fv.substring(0,fu)}return fw?fx:ft}function bA(fs,fy){for(var ft=0,e=fs.length;ft<e;ft++){for(var fw=fs[ft],fu=0,fx=fw.length,fv;fu<fx;fu++){if(fv=fw[fu]){fy(fv,fu,ft)}}}return fs}function a2(e){cZ(e,c8);return e}function ew(e,fw,fu){cZ(e,cE);var ft=new ag,fs=d3.dispatch("start","end"),fv=aC;e.id=fw;e.time=fu;e.tween=function(fx,fy){if(arguments.length<2){return ft.get(fx)}if(fy==null){ft.remove(fx)}else{ft.set(fx,fy)}return e};e.ease=function(fx){if(!arguments.length){return fv}fv=typeof fx==="function"?fx:d3.ease.apply(d3,arguments);return e};e.each=function(fx,fy){if(arguments.length<2){return cg.call(e,fx)}fs.on(fx,fy);return e};d3.timer(function(fx){return bA(e,function(fz,fC,fB){function fy(fJ){if(fI.active>fw){return fH()}fI.active=fw;ft.forEach(function(fK,fL){if(fL=fL.call(fz,fF,fC)){fG.push(fL)}});fs.start.call(fz,fF,fC);if(!fE(fJ)){d3.timer(fE,0,fu)}return 1}function fE(fJ){if(fI.active!==fw){return fH()}var fK=(fJ-fD)/fA,fL=fv(fK),fM=fG.length;while(fM>0){fG[--fM].call(fz,fL)}if(fK>=1){fH();eN=fw;fs.end.call(fz,fF,fC);eN=0;return 1}}function fH(){if(!--fI.count){delete fz.__transition__}return 1}var fG=[],fD=fz.delay,fA=fz.duration,fI=(fz=fz.node).__transition__||(fz.__transition__={active:0,count:0}),fF=fz.__data__;++fI.count;fD<=fx?fy(fx):d3.timer(fy,fD,fu)})},0,fu);return e}function cg(fv){var fu=eN,ft=aC,e=c5,fs=eF;eN=this.id;aC=this.ease();bA(this,function(fy,fx,fw){c5=fy.delay;eF=fy.duration;fv.call(fy=fy.node,fy.__data__,fx,fw)});eN=fu;aC=ft;c5=e;eF=fs;return this}function d2(ft,fs,e){return e!=""&&eo}function dm(e,fs){return d3.tween(e,dv(fs))}function eZ(){var e,ft=Date.now(),fu=ba;while(fu){e=ft-fu.then;if(e>=fu.delay){fu.flush=fu.callback(e)}fu=fu.next}var fs=da()-ft;if(fs>24){if(isFinite(fs)){clearTimeout(dj);dj=setTimeout(eZ,fs)}bk=0}else{bk=1;eY(eZ)}}function da(){var fs=null,e=ba,ft=Infinity;while(e){if(e.flush){delete M[e.callback.id];e=fs?fs.next=e.next:ba=e.next}else{ft=Math.min(ft,e.then+e.delay);e=(fs=e).next}}return ft}function ap(fu,fx){var fv=fu.ownerSVGElement||fu;if(fv.createSVGPoint){var fs=fv.createSVGPoint();if(bx<0&&(window.scrollX||window.scrollY)){fv=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var ft=fv[0][0].getScreenCTM();bx=!(ft.f||ft.e);fv.remove()}if(bx){fs.x=fx.pageX;fs.y=fx.pageY}else{fs.x=fx.clientX;fs.y=fx.clientY}fs=fs.matrixTransform(fu.getScreenCTM().inverse());return[fs.x,fs.y]}var fw=fu.getBoundingClientRect();return[fx.clientX-fw.left-fu.clientLeft,fx.clientY-fw.top-fu.clientTop]}function af(){}function cC(fs){var ft=fs[0],e=fs[fs.length-1];return ft<e?[ft,e]:[e,ft]}function aq(e){return e.rangeExtent?e.rangeExtent():cC(e.range())}function d6(fx,fv){var fw=0,fu=fx.length-1,ft=fx[fw],fs=fx[fu],e;if(fs<ft){e=fw,fw=fu,fu=e;e=ft,ft=fs,fs=e}if(fv=fv(fs-ft)){fx[fw]=fv.floor(ft);fx[fu]=fv.ceil(fs)}return fx}function cS(){return Math}function cy(fw,fu,fv,fy){function e(){var fz=Math.min(fw.length,fu.length)>2?D:ae,fA=fy?ab:e0;ft=fz(fw,fu,fA,fv);fs=fz(fu,fw,fA,d3.interpolate);return fx}function fx(fz){return ft(fz)}var ft,fs;fx.invert=function(fz){return fs(fz)};fx.domain=function(fz){if(!arguments.length){return fw}fw=fz.map(Number);return e()};fx.range=function(fz){if(!arguments.length){return fu}fu=fz;return e()};fx.rangeRound=function(fz){return fx.range(fz).interpolate(d3.interpolateRound)};fx.clamp=function(fz){if(!arguments.length){return fy}fy=fz;return e()};fx.interpolate=function(fz){if(!arguments.length){return fv}fv=fz;return e()};fx.ticks=function(fz){return c4(fw,fz)};fx.tickFormat=function(fz){return de(fw,fz)};fx.nice=function(){d6(fw,aj);return e()};fx.copy=function(){return cy(fw,fu,fv,fy)};return e()}function dW(fs,e){return d3.rebind(fs,e,"range","rangeRound","interpolate","clamp")}function aj(e){e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1);return e&&{floor:function(fs){return Math.floor(fs/e)*e},ceil:function(fs){return Math.ceil(fs/e)*e}}}function q(fw,e){var ft=cC(fw),fs=ft[1]-ft[0],fv=Math.pow(10,Math.floor(Math.log(fs/e)/Math.LN10)),fu=e/fs*fv;if(fu<=0.15){fv*=10}else{if(fu<=0.35){fv*=5}else{if(fu<=0.75){fv*=2}}}ft[0]=Math.ceil(ft[0]/fv)*fv;ft[1]=Math.floor(ft[1]/fv)*fv+fv*0.5;ft[2]=fv;return ft}function c4(fs,e){return d3.range.apply(d3,q(fs,e))}function de(fs,e){return d3.format(",."+Math.max(0,-Math.floor(Math.log(q(fs,e)[2])/Math.LN10+0.01))+"f")}function ae(fv,e,fw,ft){var fs=fw(fv[0],fv[1]),fu=ft(e[0],e[1]);return function(fx){return fu(fs(fx))}}function D(fx,fs,fy,fv){var fu=[],fw=[],ft=0,e=Math.min(fx.length,fs.length)-1;if(fx[e]<fx[0]){fx=fx.slice().reverse();fs=fs.slice().reverse()}while(++ft<=e){fu.push(fy(fx[ft-1],fx[ft]));fw.push(fv(fs[ft-1],fs[ft]))}return function(fz){var fA=d3.bisect(fx,fz,1,e)-1;return fw[fA](fu[fA](fz))}}function eq(e,fs){function fu(fv){return e(fs(fv))}var ft=fs.pow;fu.invert=function(fv){return ft(e.invert(fv))};fu.domain=function(fv){if(!arguments.length){return e.domain().map(ft)}fs=fv[0]<0?d0:dX;ft=fs.pow;e.domain(fv.map(fs));return fu};fu.nice=function(){e.domain(d6(e.domain(),cS));return fu};fu.ticks=function(){var fA=cC(e.domain()),fB=[];if(fA.every(isFinite)){var fz=Math.floor(fA[0]),fy=Math.ceil(fA[1]),fx=ft(fA[0]),fw=ft(fA[1]);if(fs===d0){fB.push(ft(fz));for(;fz++<fy;){for(var fv=9;fv>0;fv--){fB.push(ft(fz)*fv)}}}else{for(;fz<fy;fz++){for(var fv=1;fv<10;fv++){fB.push(ft(fz)*fv)}}fB.push(ft(fz))}for(fz=0;fB[fz]<fx;fz++){}for(fy=fB.length;fB[fy-1]>fw;fy--){}fB=fB.slice(fz,fy)}return fB};fu.tickFormat=function(fz,fy){if(arguments.length<2){fy=b2}if(arguments.length<1){return fy}var fv=Math.max(0.1,fz/fu.ticks().length),fw=fs===d0?(fx=-1e-12,Math.floor):(fx=1e-12,Math.ceil),fx;return function(fA){return fA/ft(fw(fs(fA)+fx))<=fv?fy(fA):""}};fu.copy=function(){return eq(e.copy(),fs)};return dW(fu,e)}function dX(e){return Math.log(e<0?0:e)/Math.LN10}function d0(e){return -Math.log(e>0?0:-e)/Math.LN10}function ed(e,ft){function fv(fw){return e(fs(fw))}var fs=dM(ft),fu=dM(1/ft);fv.invert=function(fw){return fu(e.invert(fw))};fv.domain=function(fw){if(!arguments.length){return e.domain().map(fu)}e.domain(fw.map(fs));return fv};fv.ticks=function(fw){return c4(fv.domain(),fw)};fv.tickFormat=function(fw){return de(fv.domain(),fw)};fv.nice=function(){return fv.domain(d6(fv.domain(),aj))};fv.exponent=function(fw){if(!arguments.length){return ft}var fx=fv.domain();fs=dM(ft=fw);fu=dM(1/ft);return fv.domain(fx)};fv.copy=function(){return ed(e.copy(),ft)};return dW(fv,e)}function dM(fs){return function(e){return e<0?-Math.pow(-e,fs):Math.pow(e,fs)}}function bl(fw,ft){function fx(fy){return e[((fv.get(fy)||fv.set(fy,fw.push(fy)))-1)%e.length]}function fs(fz,fy){return d3.range(fw.length).map(function(fA){return fz+fy*fA})}var fv,e,fu;fx.domain=function(fy){if(!arguments.length){return fw}fw=[];fv=new ag;var fA=-1,fB=fy.length,fz;while(++fA<fB){if(!fv.has(fz=fy[fA])){fv.set(fz,fw.push(fz))}}return fx[ft.t].apply(fx,ft.a)};fx.range=function(fy){if(!arguments.length){return e}e=fy;fu=0;ft={t:"range",a:arguments};return fx};fx.rangePoints=function(fy,fB){if(arguments.length<2){fB=0}var fC=fy[0],fz=fy[1],fA=(fz-fC)/(Math.max(1,fw.length-1)+fB);e=fs(fw.length<2?(fC+fz)/2:fC+fA*fB/2,fA);fu=0;ft={t:"rangePoints",a:arguments};return fx};fx.rangeBands=function(fz,fD,fy){if(arguments.length<2){fD=0}if(arguments.length<3){fy=fD}var fA=fz[1]<fz[0],fE=fz[fA-0],fB=fz[1-fA],fC=(fB-fE)/(fw.length-fD+2*fy);e=fs(fE+fC*fy,fC);if(fA){e.reverse()}fu=fC*(1-fD);ft={t:"rangeBands",a:arguments};return fx};fx.rangeRoundBands=function(fz,fE,fy){if(arguments.length<2){fE=0}if(arguments.length<3){fy=fE}var fB=fz[1]<fz[0],fF=fz[fB-0],fC=fz[1-fB],fD=Math.floor((fC-fF)/(fw.length-fE+2*fy)),fA=fC-fF-(fw.length-fE)*fD;e=fs(fF+Math.round(fA/2),fD);if(fB){e.reverse()}fu=Math.round(fD*(1-fE));ft={t:"rangeRoundBands",a:arguments};return fx};fx.rangeBand=function(){return fu};fx.rangeExtent=function(){return cC(ft.a[0])};fx.copy=function(){return bl(fw,ft)};return fx.domain(fw)}function w(ft,fs){function e(){var fw=0,fy=ft.length,fx=fs.length;fu=[];while(++fw<fx){fu[fw-1]=d3.quantile(ft,fw/fx)}return fv}function fv(fw){if(isNaN(fw=+fw)){return NaN}return fs[d3.bisect(fu,fw)]}var fu;fv.domain=function(fw){if(!arguments.length){return ft}ft=fw.filter(function(fx){return !isNaN(fx)}).sort(d3.ascending);return e()};fv.range=function(fw){if(!arguments.length){return fs}fs=fw;return e()};fv.quantiles=function(){return fu};fv.copy=function(){return w(ft,fs)};return e()}function cb(fv,ft,fs){function fx(fy){return fs[Math.max(0,Math.min(fu,Math.floor(fw*(fy-fv))))]}function e(){fw=fs.length/(ft-fv);fu=fs.length-1;return fx}var fw,fu;fx.domain=function(fy){if(!arguments.length){return[fv,ft]}fv=+fy[0];ft=+fy[fy.length-1];return e()};fx.range=function(fy){if(!arguments.length){return fs}fs=fy;return e()};fx.copy=function(){return cb(fv,ft,fs)};return e()}function dS(fs,e){function ft(fu){return e[d3.bisect(fs,fu)]}ft.domain=function(fu){if(!arguments.length){return fs}fs=fu;return ft};ft.range=function(fu){if(!arguments.length){return e}e=fu;return ft};ft.copy=function(){return dS(fs,e)};return ft}function cT(fs){function e(ft){return +ft}e.invert=e;e.domain=e.range=function(ft){if(!arguments.length){return fs}fs=ft.map(e);return e};e.ticks=function(ft){return c4(fs,ft)};e.tickFormat=function(ft){return de(fs,ft)};e.copy=function(){return cT(fs)};return e}function aR(e){return e.innerRadius}function bF(e){return e.outerRadius}function d1(e){return e.startAngle}function X(e){return e.endAngle}function dd(fs){function ft(fC){function fF(){fE.push("M",fu(fs(fH),fv))}var fE=[],fH=[],fD=-1,fz=fC.length,fG,fB=I(e),fA=I(fy);while(++fD<fz){if(fx.call(this,fG=fC[fD],fD)){fH.push([+fB.call(this,fG,fD),+fA.call(this,fG,fD)])}else{if(fH.length){fF();fH=[]}}}if(fH.length){fF()}return fE.length?fE.join(""):null}var e=eA,fy=ez,fx=T,fu=fg,fw=fu.key,fv=0.7;ft.x=function(fz){if(!arguments.length){return e}e=fz;return ft};ft.y=function(fz){if(!arguments.length){return fy}fy=fz;return ft};ft.defined=function(fz){if(!arguments.length){return fx}fx=fz;return ft};ft.interpolate=function(fz){if(!arguments.length){return fw}if(typeof fz==="function"){fw=fu=fz}else{fw=(fu=bb.get(fz)||fg).key}return ft};ft.tension=function(fz){if(!arguments.length){return fv}fv=fz;return ft};return ft}function eA(e){return e[0]}function ez(e){return e[1]}function fg(e){return e.join("L")}function O(e){return fg(e)+"Z"}function aI(fs){var e=0,fv=fs.length,fu=fs[0],ft=[fu[0],",",fu[1]];while(++e<fv){ft.push("V",(fu=fs[e])[1],"H",fu[0])}return ft.join("")}function e2(fs){var e=0,fv=fs.length,fu=fs[0],ft=[fu[0],",",fu[1]];while(++e<fv){ft.push("H",(fu=fs[e])[0],"V",fu[1])}return ft.join("")}function a8(fs,e){return fs.length<4?fg(fs):fs[1]+bK(fs.slice(1,fs.length-1),a3(fs,e))}function r(fs,e){return fs.length<3?fg(fs):fs[0]+bK((fs.push(fs[0]),fs),a3([fs[fs.length-2]].concat(fs,[fs[1]]),e))}function ck(ft,fs,e){return ft.length<3?fg(ft):ft[0]+bK(ft,a3(ft,fs))}function bK(fx,fw){if(fw.length<1||fx.length!=fw.length&&fx.length!=fw.length+2){return fg(fx)}var fy=fx.length!=fw.length,fB="",fz=fx[0],e=fx[1],fv=fw[0],fA=fv,ft=1;if(fy){fB+="Q"+(e[0]-fv[0]*2/3)+","+(e[1]-fv[1]*2/3)+","+e[0]+","+e[1];fz=fx[1];ft=2}if(fw.length>1){fA=fw[1];e=fx[ft];ft++;fB+="C"+(fz[0]+fv[0])+","+(fz[1]+fv[1])+","+(e[0]-fA[0])+","+(e[1]-fA[1])+","+e[0]+","+e[1];for(var fs=2;fs<fw.length;fs++,ft++){e=fx[ft];fA=fw[fs];fB+="S"+(e[0]-fA[0])+","+(e[1]-fA[1])+","+e[0]+","+e[1]}}if(fy){var fu=fx[ft];fB+="Q"+(e[0]+fA[0]*2/3)+","+(e[1]+fA[1]*2/3)+","+fu[0]+","+fu[1]}return fB}function a3(fx,fv){var ft=[],fu=(1-fv)/2,fz,fy=fx[0],fw=fx[1],fs=1,e=fx.length;while(++fs<e){fz=fy;fy=fw;fw=fx[fs];ft.push([fu*(fw[0]-fz[0]),fu*(fw[1]-fz[1])])}return ft}function di(fy){if(fy.length<3){return fg(fy)}var ft=1,fs=fy.length,fu=fy[0],e=fu[0],fw=fu[1],fx=[e,e,e,(fu=fy[1])[0]],fv=[fw,fw,fw,fu[1]],fz=[e,",",fw];aY(fz,fx,fv);while(++ft<fs){fu=fy[ft];fx.shift();fx.push(fu[0]);fv.shift();fv.push(fu[1]);aY(fz,fx,fv)}ft=-1;while(++ft<2){fx.shift();fx.push(fu[0]);fv.shift();fv.push(fu[1]);aY(fz,fx,fv)}return fz.join("")}function aF(fu){if(fu.length<4){return fg(fu)}var fw=[],ft=-1,fx=fu.length,fv,fs=[0],e=[0];while(++ft<3){fv=fu[ft];fs.push(fv[0]);e.push(fv[1])}fw.push(ea(eT,fs)+","+ea(eT,e));--ft;while(++ft<fx){fv=fu[ft];fs.shift();fs.push(fv[0]);e.shift();e.push(fv[1]);aY(fw,fs,e)}return fw.join("")}function bD(fv){var fx,fu=-1,fy=fv.length,e=fy+4,fw,ft=[],fs=[];while(++fu<4){fw=fv[fu%fy];ft.push(fw[0]);fs.push(fw[1])}fx=[ea(eT,ft),",",ea(eT,fs)];--fu;while(++fu<e){fw=fv[fu%fy];ft.shift();ft.push(fw[0]);fs.shift();fs.push(fw[1]);aY(fx,ft,fs)}return fx.join("")}function bE(fx,fw){var ft=fx.length-1;if(ft){var fs=fx[0][0],fv=fx[0][1],fA=fx[ft][0]-fs,fz=fx[ft][1]-fv,fu=-1,e,fy;while(++fu<=ft){e=fx[fu];fy=fu/ft;e[0]=fw*e[0]+(1-fw)*(fs+fy*fA);e[1]=fw*e[1]+(1-fw)*(fv+fy*fz)}}return di(fx)}function ea(fs,e){return fs[0]*e[0]+fs[1]*e[1]+fs[2]*e[2]+fs[3]*e[3]}function aY(fs,e,ft){fs.push("C",ea(eV,e),",",ea(eV,ft),",",ea(eU,e),",",ea(eU,ft),",",ea(eT,e),",",ea(eT,ft))}function fn(fs,e){return(e[1]-fs[1])/(e[0]-fs[0])}function cu(fu){var ft=0,fs=fu.length-1,e=[],fx=fu[0],fw=fu[1],fv=e[0]=fn(fx,fw);while(++ft<fs){e[ft]=(fv+(fv=fn(fx=fw,fw=fu[ft+1])))/2}e[ft]=fv;return e}function aa(fy){var fv=[],fu,fx,fw,fz,e=cu(fy),ft=-1,fs=fy.length-1;while(++ft<fs){fu=fn(fy[ft],fy[ft+1]);if(Math.abs(fu)<0.000001){e[ft]=e[ft+1]=0}else{fx=e[ft]/fu;fw=e[ft+1]/fu;fz=fx*fx+fw*fw;if(fz>9){fz=fu*3/Math.sqrt(fz);e[ft]=fz*fx;e[ft+1]=fz*fw}}}ft=-1;while(++ft<=fs){fz=(fy[Math.min(fs,ft+1)][0]-fy[Math.max(0,ft-1)][0])/(6*(1+e[ft]*e[ft]));fv.push([fz||0,e[ft]*fz||0])}return fv}function bZ(e){return e.length<3?fg(e):e[0]+bK(e,aa(e))}function F(fu){var e,ft=-1,fw=fu.length,fv,fs;while(++ft<fw){e=fu[ft];fv=e[0];fs=e[1]+e8;e[0]=fv*Math.cos(fs);e[1]=fv*Math.sin(fs)}return fu}function fp(fv){function e(fH){function fK(){fJ.push("M",fw(fv(fQ),fA),fx,fy(fv(fD.reverse()),fA),"Z")}var fJ=[],fD=[],fQ=[],fI=-1,fE=fH.length,fL,fG=I(ft),fP=I(fB),fF=ft===fs?function(){return fN}:I(fs),fO=fB===fz?function(){return fM}:I(fz),fN,fM;while(++fI<fE){if(fu.call(this,fL=fH[fI],fI)){fD.push([fN=+fG.call(this,fL,fI),fM=+fP.call(this,fL,fI)]);fQ.push([+fF.call(this,fL,fI),+fO.call(this,fL,fI)])}else{if(fD.length){fK();fD=[];fQ=[]}}}if(fD.length){fK()}return fJ.length?fJ.join(""):null}var ft=eA,fs=eA,fB=0,fz=ez,fu=T,fw=fg,fC=fw.key,fy=fw,fx="L",fA=0.7;e.x=function(fD){if(!arguments.length){return fs}ft=fs=fD;return e};e.x0=function(fD){if(!arguments.length){return ft}ft=fD;return e};e.x1=function(fD){if(!arguments.length){return fs}fs=fD;return e};e.y=function(fD){if(!arguments.length){return fz}fB=fz=fD;return e};e.y0=function(fD){if(!arguments.length){return fB}fB=fD;return e};e.y1=function(fD){if(!arguments.length){return fz}fz=fD;return e};e.defined=function(fD){if(!arguments.length){return fu}fu=fD;return e};e.interpolate=function(fD){if(!arguments.length){return fC}if(typeof fD==="function"){fC=fw=fD}else{fC=(fw=bb.get(fD)||fg).key}fy=fw.reverse||fw;fx=fw.closed?"M":"L";return e};e.tension=function(fD){if(!arguments.length){return fA}fA=fD;return e};return e}function Y(e){return e.source}function ah(e){return e.target}function z(e){return e.radius}function el(e){return e.startAngle}function cD(e){return e.endAngle}function l(e){return[e.x,e.y]}function m(e){return function(){var fu=e.apply(this,arguments),ft=fu[0],fs=fu[1]+e8;return[ft*Math.cos(fs),ft*Math.sin(fs)]}}function c9(){return 64}function an(){return"circle"}function bc(e){var fs=Math.sqrt(e/Math.PI);return"M0,"+fs+"A"+fs+","+fs+" 0 1,1 0,"+-fs+"A"+fs+","+fs+" 0 1,1 0,"+fs+"Z"}function dp(fs,e){fs.attr("transform",function(ft){return"translate("+e(ft)+",0)"})}function dn(e,fs){e.attr("transform",function(ft){return"translate(0,"+fs(ft)+")"})}function bH(ft,fx,fs){fy=[];if(fs&&fx.length>1){var fA=cC(ft.domain()),fy,fv=-1,e=fx.length,fw=(fx[1]-fx[0])/++fs,fu,fz;while(++fv<e){for(fu=fs;--fu>0;){if((fz=+fx[fv]-fu*fw)>=fA[0]){fy.push(fz)}}}for(--fv,fu=0;++fu<fs&&(fz=+fx[fv]+fu*fw)<fA[1];){fy.push(fz)}}return fy}function br(){if(!cr){cr=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode}var ft=d3.event,fu;try{cr.scrollTop=1000;cr.dispatchEvent(ft);fu=1000-cr.scrollTop}catch(fs){fu=ft.wheelDelta||-ft.detail*5}return fu}function cP(fu){var fw=fu.source,e=fu.target,fv=dH(fw,e),ft=[fw];while(fw!==fv){fw=fw.parent;ft.push(fw)}var fs=ft.length;while(e!==fv){ft.splice(fs,0,e);e=e.parent}return ft}function dr(ft){var fs=[],e=ft.parent;while(e!=null){fs.push(ft);ft=e;e=e.parent}fs.push(ft);return fs}function dH(fu,fs){if(fu===fs){return fu}var ft=dr(fu),e=dr(fs),fv=ft.pop(),fw=e.pop(),fx=null;while(fv===fw){fx=fv;fv=ft.pop();fw=e.pop()}return fx}function p(e){e.fixed|=2}function cw(e){e.fixed&=1}function bq(e){e.fixed|=4}function cz(e){e.fixed&=3}function ej(fA,fv,fz){var fw=0,ft=0;fA.charge=0;if(!fA.leaf){var e=fA.nodes,fs=e.length,fx=-1,fy;while(++fx<fs){fy=e[fx];if(fy==null){continue}ej(fy,fv,fz);fA.charge+=fy.charge;fw+=fy.charge*fy.cx;ft+=fy.charge*fy.cy}}if(fA.point){if(!fA.leaf){fA.point.x+=Math.random()-0.5;fA.point.y+=Math.random()-0.5}var fu=fv*fz[fA.point.index];fA.charge+=fA.pointCharge=fu;fw+=fu*fA.point.x;ft+=fu*fA.point.y}fA.cx=fw/fA.charge;fA.cy=ft/fA.charge}function dJ(e){return 20}function bm(e){return 1}function W(e){return e.x}function V(e){return e.y}function dD(fs,e,ft){fs.y0=e;fs.y=ft}function aZ(e){return d3.range(e.length)}function dC(fu){var fs=-1,e=fu[0].length,ft=[];while(++fs<e){ft[fs]=0}return ft}function a4(fw){var fu=1,ft=0,fs=fw[0][1],e,fv=fw.length;for(;fu<fv;++fu){if((e=fw[fu][1])>fs){ft=fu;fs=e}}return ft}function b4(e){return e.reduce(dB,0)}function dB(e,fs){return e+fs[1]}function e1(fs,e){return g(fs,Math.ceil(Math.log(e.length)/Math.LN2+1))}function g(fu,fw){var ft=-1,fs=+fu[0],e=(fu[1]-fs)/fw,fv=[];while(++ft<=fw){fv[ft]=e*ft+fs}return fv}function aG(e){return[d3.min(e),d3.max(e)]}function ee(fs,e){d3.rebind(fs,e,"sort","children","value");fs.links=ef;fs.nodes=function(ft){h=true;return(fs.nodes=fs)(ft)};return fs}function ax(e){return e.children}function fc(e){return e.value}function ci(fs,e){return e.value-fs.value}function ef(e){return d3.merge(e.map(function(fs){return(fs.children||[]).map(function(ft){return{source:fs,target:ft}})}))}function cI(fs,e){return fs.value-e.value}function a0(fs,e){var ft=fs._pack_next;fs._pack_next=e;e._pack_prev=fs;e._pack_next=ft;ft._pack_prev=e}function aB(fs,e){fs._pack_next=e;e._pack_prev=fs}function cA(ft,e){var fu=e.x-ft.x,fs=e.y-ft.y,fv=ft.r+e.r;return fv*fv-fu*fu-fs*fs>0.001}function K(fC){function ft(fL){fG=Math.min(fL.x-fL.r,fG);fK=Math.max(fL.x+fL.r,fK);e=Math.min(fL.y-fL.r,e);fv=Math.max(fL.y+fL.r,fv)}if(!(fB=fC.children)||!(fA=fB.length)){return}var fB,fG=Infinity,fK=-Infinity,e=Infinity,fv=-Infinity,fJ,fI,fH,fF,fE,fD,fA;fB.forEach(al);fJ=fB[0];fJ.x=-fJ.r;fJ.y=0;ft(fJ);if(fA>1){fI=fB[1];fI.x=fI.r;fI.y=0;ft(fI);if(fA>2){fH=fB[2];aA(fJ,fI,fH);ft(fH);a0(fJ,fH);fJ._pack_prev=fH;a0(fH,fI);fI=fJ._pack_next;for(fF=3;fF<fA;fF++){aA(fJ,fI,fH=fB[fF]);var fs=0,fw=1,fu=1;for(fE=fI._pack_next;fE!==fI;fE=fE._pack_next,fw++){if(cA(fE,fH)){fs=1;break}}if(fs==1){for(fD=fJ._pack_prev;fD!==fE._pack_prev;fD=fD._pack_prev,fu++){if(cA(fD,fH)){break}}}if(fs){if(fw<fu||fw==fu&&fI.r<fJ.r){aB(fJ,fI=fE)}else{aB(fJ=fD,fI)}fF--}else{a0(fJ,fH);fI=fH;ft(fH)}}}}var fy=(fG+fK)/2,fx=(e+fv)/2,fz=0;for(fF=0;fF<fA;fF++){fH=fB[fF];fH.x-=fy;fH.y-=fx;fz=Math.max(fz,fH.r+Math.sqrt(fH.x*fH.x+fH.y*fH.y))}fC.r=fz;fB.forEach(cQ)}function al(e){e._pack_next=e._pack_prev=e}function cQ(e){delete e._pack_next;delete e._pack_prev}function dq(fv,e,fx,fs){var fu=fv.children;fv.x=e+=fs*fv.x;fv.y=fx+=fs*fv.y;fv.r*=fs;if(fu){var ft=-1,fw=fu.length;while(++ft<fw){dq(fu[ft],e,fx,fs)}}}function aA(fv,ft,e){var fx=fv.r+e.r,fA=ft.x-fv.x,fy=ft.y-fv.y;if(fx&&(fA||fy)){var fz=ft.r+e.r,fw=fA*fA+fy*fy;fz*=fz;fx*=fx;var fu=0.5+(fx-fz)/(2*fw),fs=Math.sqrt(Math.max(0,2*fz*(fx+fw)-(fx-=fw)*fx-fz*fz))/(2*fw);e.x=fv.x+fu*fA+fs*fy;e.y=fv.y+fu*fy-fs*fA}else{e.x=fv.x+fx;e.y=fv.y}}function aM(e){return 1+d3.max(e,function(fs){return fs.y})}function aN(e){return e.reduce(function(fs,ft){return fs+ft.x},0)/e.length}function cK(fs){var e=fs.children;return e&&e.length?cK(e[0]):fs}function cc(fs){var e=fs.children,ft;return e&&(ft=e.length)?cc(e[ft-1]):fs}function b6(fs,e){return fs.parent==e.parent?1:2}function fi(fs){var e=fs.children;return e&&e.length?e[0]:fs._tree.thread}function ac(fs){var e=fs.children,ft;return e&&(ft=e.length)?e[ft-1]:fs._tree.thread}function cq(ft,fu){var fs=ft.children;if(fs&&(fv=fs.length)){var fw,fv,e=-1;while(++e<fv){if(fu(fw=cq(fs[e],fu),ft)>0){ft=fw}}}return ft}function bL(fs,e){return fs.x-e.x}function aT(fs,e){return e.x-fs.x}function x(fs,e){return fs.depth-e.depth}function e6(fs,ft){function e(fy,fx){var fw=fy.children;if(fw&&(fz=fw.length)){var fA,fv=null,fu=-1,fz;while(++fu<fz){fA=fw[fu];e(fA,fv);fv=fA}}ft(fy,fx)}e(fs,null)}function b8(fu){var e=0,fw=0,ft=fu.children,fs=ft.length,fv;while(--fs>=0){fv=ft[fs]._tree;fv.prelim+=e;fv.mod+=e;e+=fv.shift+(fw+=fv.change)}}function fl(fs,ft,e){fs=fs._tree;ft=ft._tree;var fu=e/(ft.number-fs.number);fs.change+=fu;ft.change-=fu;ft.shift+=e;ft.prelim+=e;ft.mod+=e}function dP(e,ft,fs){return e._tree.ancestor.parent==ft.parent?e._tree.ancestor:fs}function dc(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function ar(fu,fv){var e=fu.x+fv[3],fw=fu.y+fv[0],ft=fu.dx-fv[1]-fv[3],fs=fu.dy-fv[0]-fv[2];if(ft<0){e+=ft/2;ft=0}if(fs<0){fw+=fs/2;fs=0}return{x:e,y:fw,dx:ft,dy:fs}}function cL(ft,fy){function fx(fz,fA){d3.text(fz,fy,function(fB){fA(fB&&fx.parse(fB))})}function fs(fz){return fz.map(e).join(ft)}function e(fz){return fv.test(fz)?'"'+fz.replace(/\"/g,'""')+'"':fz}var fw=new RegExp("\r\n|["+ft+"\r\n]","g"),fv=new RegExp('["'+ft+"\n]"),fu=ft.charCodeAt(0);fx.parse=function(fz){var fA;return fx.parseRows(fz,function(fF,fD){if(fD){var fE={},fC=-1,fB=fA.length;while(++fC<fB){fE[fA[fC]]=fF[fC]}return fE}else{fA=fF;return null}})};fx.parseRows=function(fG,fD){function fB(){if(fw.lastIndex>=fG.length){return fC}if(fE){fE=false;return fA}var fK=fw.lastIndex;if(fG.charCodeAt(fK)===34){var fL=fK;while(fL++<fG.length){if(fG.charCodeAt(fL)===34){if(fG.charCodeAt(fL+1)!==34){break}fL++}}fw.lastIndex=fL+2;var fM=fG.charCodeAt(fL+1);if(fM===13){fE=true;if(fG.charCodeAt(fL+2)===10){fw.lastIndex++}}else{if(fM===10){fE=true}}return fG.substring(fK+1,fL).replace(/""/g,'"')}var fJ=fw.exec(fG);if(fJ){fE=fJ[0].charCodeAt(0)!==fu;return fG.substring(fK,fJ.index)}fw.lastIndex=fG.length;return fG.substring(fK)}var fA={},fC={},fI=[],fz=0,fH,fE;fw.lastIndex=0;while((fH=fB())!==fC){var fF=[];while(fH!==fA&&fH!==fC){fF.push(fH);fH=fB()}if(fD&&!(fF=fD(fF,fz++))){continue}fI.push(fF)}return fI};fx.format=function(fz){return fz.map(fs).join("\n")};return fx}function dz(fs,e){return function(ft){return ft&&fs.hasOwnProperty(ft.type)?fs[ft.type](ft):e}}function B(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+ +2*e+"z"}function bY(fs,e){if(ep.hasOwnProperty(fs.type)){ep[fs.type](fs,e)}}function fb(fs,e){bY(fs.geometry,e)}function dY(fu,ft){for(var e=fu.features,fs=0,fv=e.length;fs<fv;fs++){bY(e[fs].geometry,ft)}}function dg(fu,ft){for(var e=fu.geometries,fs=0,fv=e.length;fs<fv;fs++){bY(e[fs],ft)}}function d5(fu,ft){for(var e=fu.coordinates,fs=0,fv=e.length;fs<fv;fs++){ft.apply(null,e[fs])}}function ek(fx,fw){for(var ft=fx.coordinates,fv=0,fy=ft.length;fv<fy;fv++){for(var fs=ft[fv],fu=0,e=fs.length;fu<e;fu++){fw.apply(null,fs[fu])}}}function e9(fx,fw){for(var ft=fx.coordinates,fv=0,fy=ft.length;fv<fy;fv++){for(var fs=ft[fv][0],fu=0,e=fs.length;fu<e;fu++){fw.apply(null,fs[fu])}}}function eW(fs,e){e.apply(null,fs.coordinates)}function by(fu,ft){for(var e=fu.coordinates[0],fs=0,fv=e.length;fs<fv;fs++){ft.apply(null,e[fs])}}function bV(e){return e.source}function b0(e){return e.target}function a6(){function fA(fI){var fL=Math.sin(fI*=fB)*fw,fH=Math.sin(fB-fI)*fw,fG=fH*fz+fL*fy,fK=fH*fs+fL*e,fJ=fH*fE+fL*fC;return[Math.atan2(fK,fG)/cR,Math.atan2(fJ,Math.sqrt(fG*fG+fK*fK))/cR]}var fu,fF,fx,fE,fz,fs,ft,fD,fv,fC,fy,e,fB,fw;fA.distance=function(){if(fB==null){fw=1/Math.sin(fB=Math.acos(Math.max(-1,Math.min(1,fE*fC+fx*fv*Math.cos(ft-fu)))))}return fB};fA.source=function(fG){var fH=Math.cos(fu=fG[0]*cR),fI=Math.sin(fu);fx=Math.cos(fF=fG[1]*cR);fE=Math.sin(fF);fz=fx*fH;fs=fx*fI;fB=null;return fA};fA.target=function(fH){var fG=Math.cos(ft=fH[0]*cR),fI=Math.sin(ft);fv=Math.cos(fD=fH[1]*cR);fC=Math.sin(fD);fy=fv*fG;e=fv*fI;fB=null;return fA};return fA}function fq(fs,e){var ft=a6().source(fs).target(e);ft.distance();return ft}function k(fs){var e=0,ft=0;while(true){if(fs(e,ft)){return[e,ft]}if(e===0){e=ft+1;ft=0}else{e=e-1;ft=ft+1}}}function cd(fu,ft,fs,fB){var fC,fA,fz,fy,fx,fw,fv;fC=fB[fu];fA=fC[0];fz=fC[1];fC=fB[ft];fy=fC[0];fx=fC[1];fC=fB[fs];fw=fC[0];fv=fC[1];return(fv-fz)*(fy-fA)-(fx-fz)*(fw-fA)>0}function u(ft,fs,e){return(e[0]-fs[0])*(ft[1]-fs[1])<(e[1]-fs[1])*(ft[0]-fs[0])}function d9(fE,fD,fH,fG){var fC=fE[0],fB=fD[0],fA=fH[0],fy=fG[0],fu=fE[1],ft=fD[1],fs=fH[1],e=fG[1],fI=fC-fA,fv=fB-fC,fJ=fy-fA,fw=fu-fs,fF=ft-fu,fx=e-fs,fz=(fJ*fw-fx*fI)/(fx*fv-fJ*fF);return[fC+fz*fv,fu+fz*fF]}function ex(fw,fu){var fK={list:fw.map(function(e,fM){return{index:fM,x:e[0],y:e[1]}}).sort(function(fM,e){return fM.y<e.y?-1:fM.y>e.y?1:fM.x<e.x?-1:fM.x>e.x?1:0}),bottomSite:null};var ft={list:[],leftEnd:null,rightEnd:null,init:function(){ft.leftEnd=ft.createHalfEdge(null,"l");ft.rightEnd=ft.createHalfEdge(null,"l");ft.leftEnd.r=ft.rightEnd;ft.rightEnd.l=ft.leftEnd;ft.list.unshift(ft.leftEnd,ft.rightEnd)},createHalfEdge:function(fM,e){return{edge:fM,side:e,vertex:null,l:null,r:null}},insert:function(fM,e){e.l=fM;e.r=fM.r;fM.r.l=e;fM.r=e},leftBound:function(fM){var e=ft.leftEnd;do{e=e.r}while(e!=ft.rightEnd&&fJ.rightOf(e,fM));e=e.l;return e},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?fK.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?fK.bottomSite:e.edge.region[b3[e.side]]}};var fJ={bisect:function(fP,fN){var fO={region:{l:fP,r:fN},ep:{l:null,r:null}};var fM=fN.x-fP.x,e=fN.y-fP.y,fR=fM>0?fM:-fM,fQ=e>0?e:-e;fO.c=fP.x*fM+fP.y*e+(fM*fM+e*e)*0.5;if(fR>fQ){fO.a=1;fO.b=e/fM;fO.c/=fM}else{fO.b=1;fO.a=fM/e;fO.c/=e}return fO},intersect:function(fP,fO){var fU=fP.edge,fT=fO.edge;if(!fU||!fT||fU.region.r==fT.region.r){return null}var fS=fU.a*fT.b-fU.b*fT.a;if(Math.abs(fS)<1e-10){return null}var fN=(fU.c*fT.b-fT.c*fU.b)/fS,fX=(fT.c*fU.a-fU.c*fT.a)/fS,fW=fU.region.r,fR=fT.region.r,fM,fQ;if(fW.y<fR.y||fW.y==fR.y&&fW.x<fR.x){fM=fP;fQ=fU}else{fM=fO;fQ=fT}var fV=fN>=fQ.region.r.x;if(fV&&fM.side==="l"||!fV&&fM.side==="r"){return null}return{x:fN,y:fX}},rightOf:function(fR,fM){var fV=fR.edge,fP=fV.region.r,fY=fM.x>fP.x;if(fY&&fR.side==="l"){return 1}if(!fY&&fR.side==="r"){return 0}if(fV.a===1){var fX=fM.y-fP.y,fN=fM.x-fP.x,fS=0,fW=0;if(!fY&&fV.b<0||fY&&fV.b>=0){fW=fS=fX>=fV.b*fN}else{fW=fM.x+fM.y*fV.b>fV.c;if(fV.b<0){fW=!fW}if(!fW){fS=1}}if(!fS){var fZ=fP.x-fV.region.l.x;fW=fV.b*(fN*fN-fX*fX)<fZ*fX*(1+2*fN/fZ+fV.b*fV.b);if(fV.b<0){fW=!fW}}}else{var fO=fV.c-fV.a*fM.x,fU=fM.y-fO,fT=fM.x-fP.x,fQ=fO-fP.y;fW=fU*fU>fT*fT+fQ*fQ}return fR.side==="l"?fW:!fW},endPoint:function(fN,fM,e){fN.ep[fM]=e;if(!fN.ep[b3[fM]]){return}fu(fN)},distance:function(fO,fN){var fM=fO.x-fN.x,e=fO.y-fN.y;return Math.sqrt(fM*fM+e*e)}};var fs={list:[],insert:function(fQ,fM,fR){fQ.vertex=fM;fQ.ystar=fM.y+fR;for(var fN=0,fP=fs.list,e=fP.length;fN<e;fN++){var fO=fP[fN];if(fQ.ystar>fO.ystar||fQ.ystar==fO.ystar&&fM.x>fO.vertex.x){continue}else{break}}fP.splice(fN,0,fQ)},del:function(fO){for(var fN=0,fM=fs.list,e=fM.length;fN<e&&fM[fN]!=fO;++fN){}fM.splice(fN,1)},empty:function(){return fs.list.length===0},nextEvent:function(fO){for(var fN=0,fM=fs.list,e=fM.length;fN<e;++fN){if(fM[fN]==fO){return fM[fN+1]}}return null},min:function(){var e=fs.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return fs.list.shift()}};ft.init();fK.bottomSite=fK.list.shift();var fL=fK.list.shift(),fy;var fD,fA,fv,fH,fx;var fB,fC,fI,fE,fz;var fG,fF;while(true){if(!fs.empty()){fy=fs.min()}if(fL&&(fs.empty()||fL.y<fy.y||fL.y==fy.y&&fL.x<fy.x)){fD=ft.leftBound(fL);fA=ft.right(fD);fB=ft.rightRegion(fD);fG=fJ.bisect(fB,fL);fx=ft.createHalfEdge(fG,"l");ft.insert(fD,fx);fE=fJ.intersect(fD,fx);if(fE){fs.del(fD);fs.insert(fD,fE,fJ.distance(fE,fL))}fD=fx;fx=ft.createHalfEdge(fG,"r");ft.insert(fD,fx);fE=fJ.intersect(fx,fA);if(fE){fs.insert(fx,fE,fJ.distance(fE,fL))}fL=fK.list.shift()}else{if(!fs.empty()){fD=fs.extractMin();fv=ft.left(fD);fA=ft.right(fD);fH=ft.right(fA);fB=ft.leftRegion(fD);fC=ft.rightRegion(fA);fz=fD.vertex;fJ.endPoint(fD.edge,fD.side,fz);fJ.endPoint(fA.edge,fA.side,fz);ft.del(fD);fs.del(fA);ft.del(fA);fF="l";if(fB.y>fC.y){fI=fB;fB=fC;fC=fI;fF="r"}fG=fJ.bisect(fB,fC);fx=ft.createHalfEdge(fG,fF);ft.insert(fv,fx);fJ.endPoint(fG,b3[fF],fz);fE=fJ.intersect(fv,fx);if(fE){fs.del(fv);fs.insert(fv,fE,fJ.distance(fE,fB))}fE=fJ.intersect(fx,fH);if(fE){fs.insert(fx,fE,fJ.distance(fE,fB))}}else{break}}}for(fD=ft.right(ft.leftEnd);fD!=ft.rightEnd;fD=ft.right(fD)){fu(fD.edge)}}function dF(){return{leaf:true,nodes:[],point:null}}function bC(fv,fu,fs,fz,e,fx){if(!fv(fu,fs,fz,e,fx)){var fy=(fs+e)*0.5,fw=(fz+fx)*0.5,ft=fu.nodes;if(ft[0]){bC(fv,ft[0],fs,fz,fy,fw)}if(ft[1]){bC(fv,ft[1],fy,fz,e,fw)}if(ft[2]){bC(fv,ft[2],fs,fw,fy,fx)}if(ft[3]){bC(fv,ft[3],fy,fw,e,fx)}}}function G(e){return{x:e[0],y:e[1]}}function eI(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function c3(e){return e.substring(0,3)}function cs(fu,fz,fx,fv){var fy,e,fw=0,fs=fz.length,ft=fx.length;while(fw<fs){if(fv>=ft){return -1}fy=fz.charCodeAt(fw++);if(fy==37){e=ff[fz.charAt(fw++)];if(!e||(fv=e(fu,fx,fv))<0){return -1}}else{if(fy!=fx.charCodeAt(fv++)){return -1}}}return fv}function bB(e){return new RegExp("^(?:"+e.map(d3.requote).join("|")+")","i")}function eC(ft){var fs=new ag,e=-1,fu=ft.length;while(++e<fu){fs.set(ft[e].toLowerCase(),e)}return fs}function eH(fs,e,ft){dG.lastIndex=0;var fu=dG.exec(e.substring(ft));return fu?ft+=fu[0].length:-1}function bw(fs,e,ft){e5.lastIndex=0;var fu=e5.exec(e.substring(ft));return fu?ft+=fu[0].length:-1}function at(fs,e,ft){c1.lastIndex=0;var fu=c1.exec(e.substring(ft));return fu?(fs.m=c7.get(fu[0].toLowerCase()),ft+=fu[0].length):-1}function c2(fs,e,ft){eK.lastIndex=0;var fu=eK.exec(e.substring(ft));return fu?(fs.m=dx.get(fu[0].toLowerCase()),ft+=fu[0].length):-1}function cG(fs,e,ft){return cs(fs,eh.c.toString(),e,ft)}function fr(fs,e,ft){return cs(fs,eh.x.toString(),e,ft)}function en(fs,e,ft){return cs(fs,eh.X.toString(),e,ft)}function aO(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+4));return fu?(fs.y=+fu[0],ft+=fu[0].length):-1}function E(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.y=bO(+fu[0]),ft+=fu[0].length):-1}function bO(e){return e+(e>68?1900:2000)}function es(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.m=fu[0]-1,ft+=fu[0].length):-1}function a7(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.d=+fu[0],ft+=fu[0].length):-1}function ak(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.H=+fu[0],ft+=fu[0].length):-1}function bI(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.M=+fu[0],ft+=fu[0].length):-1}function cm(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+2));return fu?(fs.S=+fu[0],ft+=fu[0].length):-1}function eD(fs,e,ft){dT.lastIndex=0;var fu=dT.exec(e.substring(ft,ft+3));return fu?(fs.L=+fu[0],ft+=fu[0].length):-1}function e4(fs,e,ft){var fu=d.get(e.substring(ft,ft+=2).toLowerCase());return fu==null?-1:(fs.p=fu,ft)}function dO(fv){var fu=fv.getTimezoneOffset(),ft=fu>0?"-":"+",fs=~~(Math.abs(fu)/60),e=Math.abs(fu)%60;return ft+aW(fs)+aW(e)}function b5(e){return e.toISOString()}function bM(fw,e,fs){function fz(fA){var fC=fw(fA),fB=fu(fC,1);return fA-fC<fB-fA?fC:fB}function fy(fA){e(fA=fw(new dE(fA-1)),1);return fA}function fu(fB,fA){e(fB=new dE(+fB),fA);return fB}function fv(fC,fB,fA){var fD=fy(fC),fE=[];if(fA>1){while(fD<fB){if(!(fs(fD)%fA)){fE.push(new Date(+fD))}e(fD,1)}}else{while(fD<fB){fE.push(new Date(+fD)),e(fD,1)}}return fE}function ft(fD,fC,fB){try{dE=eI;var fA=new eI;fA._=fD;return fv(fA,fC,fB)}finally{dE=Date}}fw.floor=fw;fw.round=fz;fw.ceil=fy;fw.offset=fu;fw.range=fv;var fx=fw.utc=cj(fw);fx.floor=fx;fx.round=cj(fz);fx.ceil=cj(fy);fx.offset=cj(fu);fx.range=ft;return fw}function cj(e){return function(ft,fs){try{dE=eI;var fu=new eI;fu._=ft;return e(fu,fs)._}finally{dE=Date}}}function aJ(e,fs,ft){function fu(fv){return e(fv)}fu.invert=function(fv){return dR(e.invert(fv))};fu.domain=function(fv){if(!arguments.length){return e.domain().map(dR)}e.domain(fv);return fu};fu.nice=function(fv){return fu.domain(d6(fu.domain(),function(){return fv}))};fu.ticks=function(fv,fw){var fz=dL(fu.domain());if(typeof fv!=="function"){var fy=fz[1]-fz[0],fA=fy/fv,fx=d3.bisect(df,fA);if(fx==df.length){return fs.year(fz,fv)}if(!fx){return e.ticks(fv).map(dR)}if(Math.log(fA/df[fx-1])<Math.log(df[fx]/fA)){--fx}fv=fs[fx];fw=fv[1];fv=fv[0].range}return fv(fz[0],new Date(+fz[1]+1),fw)};fu.tickFormat=function(){return ft};fu.copy=function(){return aJ(e.copy(),fs,ft)};return d3.rebind(fu,e,"range","rangeRound","interpolate","clamp")}function dL(fs){var ft=fs[0],e=fs[fs.length-1];return ft<e?[ft,e]:[e,ft]}function dR(e){return new Date(e)}function bJ(e){return function(fs){var ft=e.length-1,fu=e[ft];while(!fu[1](fs)){fu=e[--ft]}return fu[0](fs)}}function cp(fs){var e=new Date(fs,0,1);e.setFullYear(fs);return e}function eJ(ft){var fu=ft.getFullYear(),fs=cp(fu),e=cp(fu+1);return fu+(ft-fs)/(e-fs)}function bR(fs){var e=new Date(Date.UTC(fs,0,1));e.setUTCFullYear(fs);return e}function d4(ft){var fu=ft.getUTCFullYear(),fs=bR(fu),e=bR(fu+1);return fu+(ft-fs)/(e-fs)}if(!Date.now){Date.now=function(){return +(new Date)}}try{document.createElement("div").style.setProperty("opacity",0,"")}catch(dw){var b7=CSSStyleDeclaration.prototype,eu=b7.setProperty;b7.setProperty=function(e,ft,fs){eu.call(this,e,ft+"",fs)}}d3={version:"2.10.3"};var cf=aX;try{cf(document.documentElement.childNodes)[0].nodeType}catch(eO){cf=fj}var cZ=[].__proto__?function(fs,e){fs.__proto__=e}:function(ft,e){for(var fs in e){ft[fs]=e[fs]}};d3.map=function(e){var ft=new ag;for(var fs in e){ft.set(fs,e[fs])}return ft};fm(ag,{has:function(e){return fo+e in this},get:function(e){return this[fo+e]},set:function(e,fs){return this[fo+e]=fs},remove:function(e){e=fo+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(fs){e.push(fs)});return e},values:function(){var e=[];this.forEach(function(fs,ft){e.push(ft)});return e},entries:function(){var e=[];this.forEach(function(fs,ft){e.push({key:fs,value:ft})});return e},forEach:function(fs){for(var e in this){if(e.charCodeAt(0)===ca){fs.call(this,e.substring(1),this[e])}}}});var fo="\0",ca=fo.charCodeAt(0);d3.functor=I;d3.rebind=function(ft,fs){var e=1,fv=arguments.length,fu;while(++e<fv){ft[fu=arguments[e]]=cH(ft,fs,fs[fu])}return ft};d3.ascending=function(fs,e){return fs<e?-1:fs>e?1:fs>=e?0:NaN};d3.descending=function(fs,e){return e<fs?-1:e>fs?1:e>=fs?0:NaN};d3.mean=function(fx,fv){var fw=fx.length,fs,e=0,fu=-1,ft=0;if(arguments.length===1){while(++fu<fw){if(eX(fs=fx[fu])){e+=(fs-e)/++ft}}}else{while(++fu<fw){if(eX(fs=fv.call(fx,fx[fu],fu))){e+=(fs-e)/++ft}}}return ft?e:undefined};d3.median=function(fs,e){if(arguments.length>1){fs=fs.map(e)}fs=fs.filter(eX);return fs.length?d3.quantile(fs.sort(d3.ascending),0.5):undefined};d3.min=function(fw,fu){var ft=-1,fv=fw.length,fs,e;if(arguments.length===1){while(++ft<fv&&((fs=fw[ft])==null||fs!=fs)){fs=undefined}while(++ft<fv){if((e=fw[ft])!=null&&fs>e){fs=e}}}else{while(++ft<fv&&((fs=fu.call(fw,fw[ft],ft))==null||fs!=fs)){fs=undefined}while(++ft<fv){if((e=fu.call(fw,fw[ft],ft))!=null&&fs>e){fs=e}}}return fs};d3.max=function(fw,fu){var ft=-1,fv=fw.length,fs,e;if(arguments.length===1){while(++ft<fv&&((fs=fw[ft])==null||fs!=fs)){fs=undefined}while(++ft<fv){if((e=fw[ft])!=null&&e>fs){fs=e}}}else{while(++ft<fv&&((fs=fu.call(fw,fw[ft],ft))==null||fs!=fs)){fs=undefined}while(++ft<fv){if((e=fu.call(fw,fw[ft],ft))!=null&&e>fs){fs=e}}}return fs};d3.extent=function(fx,fu){var ft=-1,fw=fx.length,fs,e,fv;if(arguments.length===1){while(++ft<fw&&((fs=fv=fx[ft])==null||fs!=fs)){fs=fv=undefined}while(++ft<fw){if((e=fx[ft])!=null){if(fs>e){fs=e}if(fv<e){fv=e}}}}else{while(++ft<fw&&((fs=fv=fu.call(fx,fx[ft],ft))==null||fs!=fs)){fs=undefined}while(++ft<fw){if((e=fu.call(fx,fx[ft],ft))!=null){if(fs>e){fs=e}if(fv<e){fv=e}}}}return[fs,fv]};d3.random={normal:function(fs,e){var ft=arguments.length;if(ft<2){e=1}if(ft<1){fs=0}return function(){var fu,fw,fv;do{fu=Math.random()*2-1;fw=Math.random()*2-1;fv=fu*fu+fw*fw}while(!fv||fv>1);return fs+e*fu*Math.sqrt(-2*Math.log(fv)/fv)}},logNormal:function(fs,e){var fu=arguments.length;if(fu<2){e=1}if(fu<1){fs=0}var ft=d3.random.normal();return function(){return Math.exp(fs+e*ft())}},irwinHall:function(e){return function(){for(var ft=0,fs=0;fs<e;fs++){ft+=Math.random()}return ft/e}}};d3.sum=function(fw,fu){var ft=0,fv=fw.length,e,fs=-1;if(arguments.length===1){while(++fs<fv){if(!isNaN(e=+fw[fs])){ft+=e}}}else{while(++fs<fv){if(!isNaN(e=+fu.call(fw,fw[fs],fs))){ft+=e}}}return ft};d3.quantile=function(ft,fx){var fu=(ft.length-1)*fx+1,fv=Math.floor(fu),fs=ft[fv-1],fw=fu-fv;return fw?fs+fw*(ft[fv]-fs):fs};d3.transpose=function(e){return d3.zip.apply(d3,e)};d3.zip=function(){if(!(fw=arguments.length)){return[]}for(var fu=-1,e=d3.min(arguments,dh),ft=new Array(e);++fu<e;){for(var fs=-1,fw,fv=ft[fu]=new Array(fw);++fs<fw;){fv[fs]=arguments[fs][fu]}}return ft};d3.bisector=function(e){return{left:function(ft,fs,fw,fv){if(arguments.length<3){fw=0}if(arguments.length<4){fv=ft.length}while(fw<fv){var fu=fw+fv>>>1;if(e.call(ft,ft[fu],fu)<fs){fw=fu+1}else{fv=fu}}return fw},right:function(ft,fs,fw,fv){if(arguments.length<3){fw=0}if(arguments.length<4){fv=ft.length}while(fw<fv){var fu=fw+fv>>>1;if(fs<e.call(ft,ft[fu],fu)){fv=fu}else{fw=fu+1}}return fw}}};var eb=d3.bisector(function(e){return e});d3.bisectLeft=eb.left;d3.bisect=d3.bisectRight=eb.right;d3.first=function(fw,fu){var ft=0,fv=fw.length,fs=fw[0],e;if(arguments.length===1){fu=d3.ascending}while(++ft<fv){if(fu.call(fw,fs,e=fw[ft])>0){fs=e}}return fs};d3.last=function(fw,fu){var ft=0,fv=fw.length,fs=fw[0],e;if(arguments.length===1){fu=d3.ascending}while(++ft<fv){if(fu.call(fw,fs,e=fw[ft])<=0){fs=e}}return fs};d3.nest=function(){function fw(fF,fD){if(fD>=ft.length){return fv?fv.call(fu,fF):fs?fF.sort(fs):fF}var fE=-1,fz=fF.length,fH=ft[fD++],fC,fB,fA=new ag,fG,fy={};while(++fE<fz){if(fG=fA.get(fC=fH(fB=fF[fE]))){fG.push(fB)}else{fA.set(fC,[fB])}}fA.forEach(function(fJ,fI){fy[fJ]=fw(fI,fD)});return fy}function e(fB,fC){if(fC>=ft.length){return fB}var fy=[],fz=fx[fC++],fA;for(fA in fB){fy.push({key:fA,values:e(fB[fA],fC)})}if(fz){fy.sort(function(fE,fD){return fz(fE.key,fD.key)})}return fy}var fu={},ft=[],fx=[],fs,fv;fu.map=function(fy){return fw(fy,0)};fu.entries=function(fy){return e(fw(fy,0),0)};fu.key=function(fy){ft.push(fy);return fu};fu.sortKeys=function(fy){fx[ft.length-1]=fy;return fu};fu.sortValues=function(fy){fs=fy;return fu};fu.rollup=function(fy){fv=fy;return fu};return fu};d3.keys=function(ft){var fs=[];for(var e in ft){fs.push(e)}return fs};d3.values=function(ft){var e=[];for(var fs in ft){e.push(ft[fs])}return e};d3.entries=function(ft){var e=[];for(var fs in ft){e.push({key:fs,value:ft[fs]})}return e};d3.permute=function(fv,fs){var e=[],ft=-1,fu=fs.length;while(++ft<fu){e[ft]=fv[fs[ft]]}return e};d3.merge=function(e){return Array.prototype.concat.apply([],e)};d3.split=function(fx,fv){var fu=[],e=[],ft,fs=-1,fw=fx.length;if(arguments.length<2){fv=cX}while(++fs<fw){if(fv.call(e,ft=fx[fs],fs)){e=[]}else{if(!e.length){fu.push(e)}e.push(ft)}}return fu};d3.range=function(fx,fv,fw){if(arguments.length<3){fw=1;if(arguments.length<2){fv=fx;fx=0}}if((fv-fx)/fw===Infinity){throw new Error("infinite range")}var fs=[],e=d7(Math.abs(fw)),fu=-1,ft;fx*=e,fv*=e,fw*=e;if(fw<0){while((ft=fx+fw*++fu)>fv){fs.push(ft/e)}}else{while((ft=fx+fw*++fu)<fv){fs.push(ft/e)}}return fs};d3.requote=function(e){return e.replace(bT,"\\$&")};var bT=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,fs){return fs?Math.round(e*(fs=Math.pow(10,fs)))/fs:Math.round(e)};d3.xhr=function(e,ft,fu){var fs=new XMLHttpRequest;if(arguments.length<3){fu=ft,ft=null}else{if(ft&&fs.overrideMimeType){fs.overrideMimeType(ft)}}fs.open("GET",e,true);if(ft){fs.setRequestHeader("Accept",ft)}fs.onreadystatechange=function(){if(fs.readyState===4){var fv=fs.status;fu(!fv&&fs.response||fv>=200&&fv<300||fv===304?fs:null)}};fs.send(null)};d3.text=function(e,ft,fu){function fs(fv){fu(fv&&fv.responseText)}if(arguments.length<3){fu=ft;ft=null}d3.xhr(e,ft,fs)};d3.json=function(e,fs){d3.text(e,"application/json",function(ft){fs(ft?JSON.parse(ft):null)})};d3.html=function(e,fs){d3.text(e,"text/html",function(fu){if(fu!=null){var ft=document.createRange();ft.selectNode(document.body);fu=ft.createContextualFragment(fu)}fs(fu)})};d3.xml=function(e,ft,fu){function fs(fv){fu(fv&&fv.responseXML)}if(arguments.length<3){fu=ft;ft=null}d3.xhr(e,ft,fs)};var cv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:cv,qualify:function(e){var fs=e.indexOf(":"),ft=e;if(fs>=0){ft=e.substring(0,fs);e=e.substring(fs+1)}return cv.hasOwnProperty(ft)?{space:cv[ft],local:e}:e}};d3.dispatch=function(){var e=new cU,fs=-1,ft=arguments.length;while(++fs<ft){e[arguments[fs]]=dk(e)}return e};cU.prototype.on=function(ft,fu){var fs=ft.indexOf("."),e="";if(fs>0){e=ft.substring(fs+1);ft=ft.substring(0,fs)}return arguments.length<2?this[ft].on(e):this[ft].on(e,fu)};d3.format=function(fz){var fw=bs.exec(fz),fB=fw[1]||" ",fs=fw[3]||"",fu=fw[5],e=+fw[6],fC=fw[7],fx=fw[8],fy=fw[9],ft=1,fA="",fv=false;if(fx){fx=+fx.substring(1)}if(fu){fB="0";if(fC){e-=Math.floor((e-1)/4)}}switch(fy){case"n":fC=true;fy="g";break;case"%":ft=100;fA="%";fy="f";break;case"p":ft=100;fA="%";fy="r";break;case"d":fv=true;fx=0;break;case"s":ft=-1;fy="r";break}if(fy=="r"&&!fx){fy="g"}fy=s.get(fy)||aH;return function(fG){if(fv&&fG%1){return""}var fD=fG<0&&(fG=-fG)?"-":fs;if(ft<0){var fF=d3.formatPrefix(fG,fx);fG=fF.scale(fG);fA=fF.symbol}else{fG*=ft}fG=fy(fG,fx);if(fu){var fE=fG.length+fD.length;if(fE<e){fG=(new Array(e-fE+1)).join(fB)+fG}if(fC){fG=bX(fG)}fG=fD+fG}else{if(fC){fG=bX(fG)}fG=fD+fG;var fE=fG.length;if(fE<e){fG=(new Array(e-fE+1)).join(fB)+fG}}return fG+fA}};var bs=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/;var s=d3.map({g:function(e,fs){return e.toPrecision(fs)},e:function(e,fs){return e.toExponential(fs)},f:function(e,fs){return e.toFixed(fs)},r:function(e,fs){return d3.round(e,fs=cx(e,fs)).toFixed(Math.max(0,Math.min(20,fs)))}});var bo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(ce);d3.formatPrefix=function(ft,e){var fs=0;if(ft){if(ft<0){ft*=-1}if(e){ft=d3.round(ft,cx(ft,e))}fs=1+Math.floor(1e-12+Math.log(ft)/Math.LN10);fs=Math.max(-24,Math.min(24,Math.floor((fs<=0?fs+1:fs-1)/3)*3))}return bo[8+fs/3]};var a5=am(2),A=am(3),eR=function(){return bW};var P=d3.map({linear:eR,poly:am,quad:function(){return a5},cubic:function(){return A},sin:function(){return dZ},exp:function(){return du},circle:function(){return ct},elastic:N,back:eE,bounce:function(){return bf}});var i=d3.map({"in":bW,out:v,"in-out":au,"out-in":function(e){return au(v(e))}});d3.ease=function(fs){var fu=fs.indexOf("-"),ft=fu>=0?fs.substring(0,fu):fs,e=fu>=0?fs.substring(fu+1):"in";ft=P.get(ft)||eR;e=i.get(e)||bW;return dA(e(ft.apply(null,Array.prototype.slice.call(arguments,1))))};d3.event=null;d3.transform=function(e){var fs=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(ft){fs.setAttribute("transform",ft);var fu=fs.transform.baseVal.consolidate();return new n(fu?fu.matrix:dV)})(e)};n.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cO=180/Math.PI,dV={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(fs,e){var ft=d3.interpolators.length,fu;while(--ft>=0&&!(fu=d3.interpolators[ft](fs,e))){}return fu};d3.interpolateNumber=function(fs,e){e-=fs;return function(ft){return fs+e*ft}};d3.interpolateRound=function(fs,e){e-=fs;return function(ft){return Math.round(fs+e*ft)}};d3.interpolateString=function(fy,fx){var fu,fw,fv,fA=0,fz=0,fB=[],e=[],ft,fs;dK.lastIndex=0;for(fw=0;fu=dK.exec(fx);++fw){if(fu.index){fB.push(fx.substring(fA,fz=fu.index))}e.push({i:fB.length,x:fu[0]});fB.push(null);fA=dK.lastIndex}if(fA<fx.length){fB.push(fx.substring(fA))}for(fw=0,ft=e.length;(fu=dK.exec(fy))&&fw<ft;++fw){fs=e[fw];if(fs.x==fu[0]){if(fs.i){if(fB[fs.i+1]==null){fB[fs.i-1]+=fs.x;fB.splice(fs.i,1);for(fv=fw+1;fv<ft;++fv){e[fv].i--}}else{fB[fs.i-1]+=fs.x+fB[fs.i+1];fB.splice(fs.i,2);for(fv=fw+1;fv<ft;++fv){e[fv].i-=2}}}else{if(fB[fs.i+1]==null){fB[fs.i]=fs.x}else{fB[fs.i]=fs.x+fB[fs.i+1];fB.splice(fs.i+1,1);for(fv=fw+1;fv<ft;++fv){e[fv].i--}}}e.splice(fw,1);ft--;fw--}else{fs.x=d3.interpolateNumber(parseFloat(fu[0]),parseFloat(fs.x))}}while(fw<ft){fs=e.pop();if(fB[fs.i+1]==null){fB[fs.i]=fs.x}else{fB[fs.i]=fs.x+fB[fs.i+1];fB.splice(fs.i+1,1)}ft--}if(fB.length===1){return fB[0]==null?e[0].x:function(){return fx}}return function(fC){for(fw=0;fw<ft;++fw){fB[(fs=e[fw]).i]=fs.x(fC)}return fB.join("")}};d3.interpolateTransform=function(fE,fD){var fF=[],fs=[],fw,fv=d3.transform(fE),fu=d3.transform(fD),fA=fv.translate,fz=fu.translate,ft=fv.rotate,e=fu.rotate,fy=fv.skew,fx=fu.skew,fC=fv.scale,fB=fu.scale;if(fA[0]!=fz[0]||fA[1]!=fz[1]){fF.push("translate(",null,",",null,")");fs.push({i:1,x:d3.interpolateNumber(fA[0],fz[0])},{i:3,x:d3.interpolateNumber(fA[1],fz[1])})}else{if(fz[0]||fz[1]){fF.push("translate("+fz+")")}else{fF.push("")}}if(ft!=e){if(ft-e>180){e+=360}else{if(e-ft>180){ft+=360}}fs.push({i:fF.push(fF.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(ft,e)})}else{if(e){fF.push(fF.pop()+"rotate("+e+")")}}if(fy!=fx){fs.push({i:fF.push(fF.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(fy,fx)})}else{if(fx){fF.push(fF.pop()+"skewX("+fx+")")}}if(fC[0]!=fB[0]||fC[1]!=fB[1]){fw=fF.push(fF.pop()+"scale(",null,",",null,")");fs.push({i:fw-4,x:d3.interpolateNumber(fC[0],fB[0])},{i:fw-2,x:d3.interpolateNumber(fC[1],fB[1])})}else{if(fB[0]!=1||fB[1]!=1){fF.push(fF.pop()+"scale("+fB+")")}}fw=fs.length;return function(fH){var fG=-1,fI;while(++fG<fw){fF[(fI=fs[fG]).i]=fI.x(fH)}return fF.join("")}};d3.interpolateRgb=function(fs,e){fs=d3.rgb(fs);e=d3.rgb(e);var fu=fs.r,ft=fs.g,fx=fs.b,fw=e.r-fu,fv=e.g-ft,fy=e.b-fx;return function(fz){return"#"+bp(Math.round(fu+fw*fz))+bp(Math.round(ft+fv*fz))+bp(Math.round(fx+fy*fz))}};d3.interpolateHsl=function(ft,e){ft=d3.hsl(ft);e=d3.hsl(e);var fy=ft.h,fx=ft.s,fu=ft.l,fw=e.h-fy,fv=e.s-fx,fs=e.l-fu;if(fw>180){fw-=360}else{if(fw<-180){fw+=360}}return function(fz){return aE(fy+fw*fz,fx+fv*fz,fu+fs*fz)+""}};d3.interpolateLab=function(fs,e){fs=d3.lab(fs);e=d3.lab(e);var fv=fs.l,fu=fs.a,ft=fs.b,fy=e.l-fv,fx=e.a-fu,fw=e.b-ft;return function(fz){return ad(fv+fy*fz,fu+fx*fz,ft+fw*fz)+""}};d3.interpolateHcl=function(ft,e){ft=d3.hcl(ft);e=d3.hcl(e);var fs=ft.h,fv=ft.c,fx=ft.l,fu=e.h-fs,fw=e.c-fv,fy=e.l-fx;if(fu>180){fu-=360}else{if(fu<-180){fu+=360}}return function(fz){return aQ(fs+fu*fz,fv+fw*fz,fx+fy*fz)+""}};d3.interpolateArray=function(fv,ft){var fs=[],fy=[],fu=fv.length,e=ft.length,fx=Math.min(fv.length,ft.length),fw;for(fw=0;fw<fx;++fw){fs.push(d3.interpolate(fv[fw],ft[fw]))}for(;fw<fu;++fw){fy[fw]=fv[fw]}for(;fw<e;++fw){fy[fw]=ft[fw]}return function(fz){for(fw=0;fw<fx;++fw){fy[fw]=fs[fw](fz)}return fy}};d3.interpolateObject=function(fs,e){var fu={},fv={},ft;for(ft in fs){if(ft in e){fu[ft]=dv(ft)(fs[ft],e[ft])}else{fv[ft]=fs[ft]}}for(ft in e){if(!(ft in fs)){fv[ft]=e[ft]}}return function(fw){for(ft in fu){fv[ft]=fu[ft](fw)}return fv}};var dK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(fs,e){return e instanceof Array&&d3.interpolateArray(fs,e)},function(fs,e){return(typeof fs==="string"||typeof e==="string")&&d3.interpolateString(fs+"",e+"")},function(fs,e){return(typeof e==="string"?U.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof y)&&d3.interpolateRgb(fs,e)},function(fs,e){return !isNaN(fs=+fs)&&!isNaN(e=+e)&&d3.interpolateNumber(fs,e)}];y.prototype.toString=function(){return this.rgb()+""};d3.rgb=function(ft,fs,e){return arguments.length===1?ft instanceof db?cB(ft.r,ft.g,ft.b):ao(""+ft,cB,aE):cB(~~ft,~~fs,~~e)};var cN=db.prototype=new y;cN.brighter=function(fs){fs=Math.pow(0.7,arguments.length?fs:1);var fv=this.r,fu=this.g,e=this.b,ft=30;if(!fv&&!fu&&!e){return cB(ft,ft,ft)}if(fv&&fv<ft){fv=ft}if(fu&&fu<ft){fu=ft}if(e&&e<ft){e=ft}return cB(Math.min(255,Math.floor(fv/fs)),Math.min(255,Math.floor(fu/fs)),Math.min(255,Math.floor(e/fs)))};cN.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return cB(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))};cN.hsl=function(){return eg(this.r,this.g,this.b)};cN.toString=function(){return"#"+bp(this.r)+bp(this.g)+bp(this.b)};var U=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});U.forEach(function(e,fs){U.set(e,ao(fs,cB,aE))});d3.hsl=function(ft,fs,e){return arguments.length===1?ft instanceof dt?cM(ft.h,ft.s,ft.l):ao(""+ft,eg,cM):cM(+ft,+fs,+e)};var cF=dt.prototype=new y;cF.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return cM(this.h,this.s,this.l/e)};cF.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return cM(this.h,this.s,e*this.l)};cF.rgb=function(){return aE(this.h,this.s,this.l)};d3.hcl=function(fs,ft,e){return arguments.length===1?fs instanceof bn?aP(fs.h,fs.c,fs.l):fs instanceof bS?er(fs.l,fs.a,fs.b):er((fs=co((fs=d3.rgb(fs)).r,fs.g,fs.b)).l,fs.a,fs.b):aP(+fs,+ft,+e)};var eP=bn.prototype=new y;eP.brighter=function(e){return aP(this.h,this.c,Math.min(100,this.l+aK*(arguments.length?e:1)))};eP.darker=function(e){return aP(this.h,this.c,Math.max(0,this.l-aK*(arguments.length?e:1)))};eP.rgb=function(){return aQ(this.h,this.c,this.l).rgb()};d3.lab=function(ft,fs,e){return arguments.length===1?ft instanceof bS?bi(ft.l,ft.a,ft.b):ft instanceof bn?aQ(ft.l,ft.c,ft.h):co((ft=d3.rgb(ft)).r,ft.g,ft.b):bi(+ft,+fs,+e)};var aK=18;var aD=0.95047,az=1,ay=1.08883;var ei=bS.prototype=new y;ei.brighter=function(e){return bi(Math.min(100,this.l+aK*(arguments.length?e:1)),this.a,this.b)};ei.darker=function(e){return bi(Math.max(0,this.l-aK*(arguments.length?e:1)),this.a,this.b)};ei.rgb=function(){return ad(this.l,this.a,this.b)};var b1=function(e,fs){return fs.querySelector(e)},dU=function(e,fs){return fs.querySelectorAll(e)},cJ=document.documentElement,b=cJ.matchesSelector||cJ.webkitMatchesSelector||cJ.mozMatchesSelector||cJ.msMatchesSelector||cJ.oMatchesSelector,a=function(fs,e){return b.call(fs,e)};if(typeof Sizzle==="function"){b1=function(e,fs){return Sizzle(e,fs)[0]||null};dU=function(e,fs){return Sizzle.uniqueSort(Sizzle(e,fs))};a=Sizzle.matchesSelector}var cl=[];d3.selection=function(){return ey};d3.selection.prototype=cl;cl.select=function(fw){var ft=[],fA,e,fz,fu;if(typeof fw!=="function"){fw=t(fw)}for(var fx=-1,fv=this.length;++fx<fv;){ft.push(fA=[]);fA.parentNode=(fz=this[fx]).parentNode;for(var fy=-1,fs=fz.length;++fy<fs;){if(fu=fz[fy]){fA.push(e=fw.call(fu,fu.__data__,fy));if(e&&"__data__" in fu){e.__data__=fu.__data__}}else{fA.push(null)}}}return cn(ft)};cl.selectAll=function(fv){var fs=[],fz,ft;if(typeof fv!=="function"){fv=bN(fv)}for(var fw=-1,fu=this.length;++fw<fu;){for(var fy=this[fw],fx=-1,e=fy.length;++fx<e;){if(ft=fy[fx]){fs.push(fz=cf(fv.call(ft,ft.__data__,fx)));fz.parentNode=ft}}}return cn(fs)};cl.attr=function(e,ft){if(arguments.length<2){if(typeof e==="string"){var fs=this.node();e=d3.ns.qualify(e);return e.local?fs.getAttributeNS(e.space,e.local):fs.getAttribute(e)}for(ft in e){this.each(aL(ft,e[ft]))}return this}return this.each(aL(e,ft))};cl.classed=function(e,fu){if(arguments.length<2){if(typeof e==="string"){var ft=this.node(),fv=(e=e.trim().split(/^|\s+/g)).length,fs=-1;if(fu=ft.classList){while(++fs<fv){if(!fu.contains(e[fs])){return false}}}else{fu=ft.className;if(fu.baseVal!=null){fu=fu.baseVal}while(++fs<fv){if(!ev(e[fs]).test(fu)){return false}}}return true}for(fu in e){this.each(em(fu,e[fu]))}return this}return this.each(em(e,fu))};cl.style=function(e,ft,fs){var fu=arguments.length;if(fu<3){if(typeof e!=="string"){if(fu<2){ft=""}for(fs in e){this.each(dI(fs,e[fs],ft))}return this}if(fu<2){return window.getComputedStyle(this.node(),null).getPropertyValue(e)}fs=""}return this.each(dI(e,ft,fs))};cl.property=function(e,fs){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(fs in e){this.each(e7(fs,e[fs]))}return this}return this.each(e7(e,fs))};cl.text=function(e){return arguments.length<1?this.node().textContent:this.each(typeof e==="function"?function(){var fs=e.apply(this,arguments);this.textContent=fs==null?"":fs}:e==null?function(){this.textContent=""}:function(){this.textContent=e})};cl.html=function(e){return arguments.length<1?this.node().innerHTML:this.each(typeof e==="function"?function(){var fs=e.apply(this,arguments);this.innerHTML=fs==null?"":fs}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e})};cl.append=function(fs){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,fs))}function ft(){return this.appendChild(document.createElementNS(fs.space,fs.local))}fs=d3.ns.qualify(fs);return this.select(fs.local?ft:e)};cl.insert=function(e,ft){function fs(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),b1(ft,this))}function fu(){return this.insertBefore(document.createElementNS(e.space,e.local),b1(ft,this))}e=d3.ns.qualify(e);return this.select(e.local?fu:fs)};cl.remove=function(){return this.each(function(){var e=this.parentNode;if(e){e.removeChild(this)}})};cl.data=function(fy,fA){function fw(fN,fF){var fI,fC=fN.length,fE=fF.length,fL=Math.min(fC,fE),fK=Math.max(fC,fE),fP=[],fM=[],fJ=[],fD,fB;if(fA){var fQ=new ag,fO=[],fH,fG=fF.length;for(fI=-1;++fI<fC;){fH=fA.call(fD=fN[fI],fD.__data__,fI);if(fQ.has(fH)){fJ[fG++]=fD}else{fQ.set(fH,fD)}fO.push(fH)}for(fI=-1;++fI<fE;){fH=fA.call(fF,fB=fF[fI],fI);if(fQ.has(fH)){fP[fI]=fD=fQ.get(fH);fD.__data__=fB;fM[fI]=fJ[fI]=null}else{fM[fI]=C(fB);fP[fI]=fJ[fI]=null}fQ.remove(fH)}for(fI=-1;++fI<fC;){if(fQ.has(fO[fI])){fJ[fI]=fN[fI]}}}else{for(fI=-1;++fI<fL;){fD=fN[fI];fB=fF[fI];if(fD){fD.__data__=fB;fP[fI]=fD;fM[fI]=fJ[fI]=null}else{fM[fI]=C(fB);fP[fI]=fJ[fI]=null}}for(;fI<fE;++fI){fM[fI]=C(fF[fI]);fP[fI]=fJ[fI]=null}for(;fI<fK;++fI){fJ[fI]=fN[fI];fM[fI]=fP[fI]=null}}fM.update=fP;fM.parentNode=fP.parentNode=fJ.parentNode=fN.parentNode;fx.push(fM);fu.push(fP);e.push(fJ)}var fv=-1,fs=this.length,fz,ft;if(!arguments.length){fy=new Array(fs=(fz=this[0]).length);while(++fv<fs){if(ft=fz[fv]){fy[fv]=ft.__data__}}return fy}var fx=a2([]),fu=cn([]),e=cn([]);if(typeof fy==="function"){while(++fv<fs){fw(fz=this[fv],fy.call(fz,fz.parentNode.__data__,fv))}}else{while(++fv<fs){fw(fz=this[fv],fy)}}fu.enter=function(){return fx};fu.exit=function(){return e};return fu};cl.datum=cl.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)};cl.filter=function(e){var ft=[],fz,fy,fu;if(typeof e!=="function"){e=aw(e)}for(var fw=0,fv=this.length;fw<fv;fw++){ft.push(fz=[]);fz.parentNode=(fy=this[fw]).parentNode;for(var fx=0,fs=fy.length;fx<fs;fx++){if((fu=fy[fx])&&e.call(fu,fu.__data__,fx)){fz.push(fu)}}}return cn(ft)};cl.order=function(){for(var fs=-1,e=this.length;++fs<e;){for(var fw=this[fs],ft=fw.length-1,fu=fw[ft],fv;--ft>=0;){if(fv=fw[ft]){if(fu&&fu!==fv.nextSibling){fu.parentNode.insertBefore(fv,fu)}fu=fv}}}return this};cl.sort=function(fs){fs=et.apply(this,arguments);for(var ft=-1,e=this.length;++ft<e;){this[ft].sort(fs)}return this.order()};cl.on=function(fs,ft,e){var fu=arguments.length;if(fu<3){if(typeof fs!=="string"){if(fu<2){ft=false}for(e in fs){this.each(j(e,fs[e],ft))}return this}if(fu<2){return(fu=this.node()["__on"+fs])&&fu._}e=false}return this.each(j(fs,ft,e))};cl.each=function(e){return bA(this,function(fu,ft,fs){e.call(fu,fu.__data__,ft,fs)})};cl.call=function(e){e.apply(this,(arguments[0]=this,arguments));return this};cl.empty=function(){return !this.node()};cl.node=function(fx){for(var fs=0,e=this.length;fs<e;fs++){for(var fv=this[fs],ft=0,fw=fv.length;ft<fw;ft++){var fu=fv[ft];if(fu){return fu}}}return null};cl.transition=function(){var fs=[],ft,fw;for(var fu=-1,e=this.length;++fu<e;){fs.push(ft=[]);for(var fx=this[fu],fv=-1,fy=fx.length;++fv<fy;){ft.push((fw=fx[fv])?{node:fw,delay:c5,duration:eF}:null)}}return ew(fs,eN||++e3,Date.now())};var ey=cn([[document]]);ey[0].parentNode=cJ;d3.select=function(e){return typeof e==="string"?ey.select(e):cn([[e]])};d3.selectAll=function(e){return typeof e==="string"?ey.selectAll(e):cn([cf(e)])};var c8=[];d3.selection.enter=a2;d3.selection.enter.prototype=c8;c8.append=cl.append;c8.insert=cl.insert;c8.empty=cl.empty;c8.node=cl.node;c8.select=function(fw){var ft=[],fB,e,fz,fA,fv;for(var fx=-1,fu=this.length;++fx<fu;){fz=(fA=this[fx]).update;ft.push(fB=[]);fB.parentNode=fA.parentNode;for(var fy=-1,fs=fA.length;++fy<fs;){if(fv=fA[fy]){fB.push(fz[fy]=e=fw.call(fA.parentNode,fv.__data__,fy));e.__data__=fv.__data__}else{fB.push(null)}}}return cn(ft)};var cE=[],e3=0,eN=0,f=0,eB=250,dl=d3.ease("cubic-in-out"),c5=f,eF=eB,aC=dl;cE.call=cl.call;d3.transition=function(e){return arguments.length?eN?e.transition():e:ey.transition()};d3.transition.prototype=cE;cE.select=function(fw){var ft=[],fA,e,fu;if(typeof fw!=="function"){fw=t(fw)}for(var fx=-1,fv=this.length;++fx<fv;){ft.push(fA=[]);for(var fz=this[fx],fy=-1,fs=fz.length;++fy<fs;){if((fu=fz[fy])&&(e=fw.call(fu.node,fu.node.__data__,fy))){if("__data__" in fu.node){e.__data__=fu.node.__data__}fA.push({node:e,delay:fu.delay,duration:fu.duration})}else{fA.push(null)}}}return ew(ft,this.id,this.time).ease(this.ease())};cE.selectAll=function(fx){var fu=[],fC,e,fv;if(typeof fx!=="function"){fx=bN(fx)}for(var fz=-1,fw=this.length;++fz<fw;){for(var fB=this[fz],fA=-1,ft=fB.length;++fA<ft;){if(fv=fB[fA]){e=fx.call(fv.node,fv.node.__data__,fA);fu.push(fC=[]);for(var fy=-1,fs=e.length;++fy<fs;){fC.push({node:e[fy],delay:fv.delay,duration:fv.duration})}}}}return ew(fu,this.id,this.time).ease(this.ease())};cE.filter=function(e){var ft=[],fz,fy,fu;if(typeof e!=="function"){e=aw(e)}for(var fw=0,fv=this.length;fw<fv;fw++){ft.push(fz=[]);for(var fy=this[fw],fx=0,fs=fy.length;fx<fs;fx++){if((fu=fy[fx])&&e.call(fu.node,fu.node.__data__,fx)){fz.push(fu)}}}return ew(ft,this.id,this.time).ease(this.ease())};cE.attr=function(e,fs){if(arguments.length<2){for(fs in e){this.attrTween(fs,dm(e[fs],fs))}return this}return this.attrTween(e,dm(fs,e))};cE.attrTween=function(e,ft){function fu(fy,fw){var fx=ft.call(this,fy,fw,this.getAttribute(fs));return fx===eo?(this.removeAttribute(fs),null):fx&&function(fz){this.setAttribute(fs,fx(fz))}}function fv(fy,fw){var fx=ft.call(this,fy,fw,this.getAttributeNS(fs.space,fs.local));return fx===eo?(this.removeAttributeNS(fs.space,fs.local),null):fx&&function(fz){this.setAttributeNS(fs.space,fs.local,fx(fz))}}var fs=d3.ns.qualify(e);return this.tween("attr."+e,fs.local?fv:fu)};cE.style=function(e,ft,fs){var fu=arguments.length;if(fu<3){if(typeof e!=="string"){if(fu<2){ft=""}for(fs in e){this.styleTween(fs,dm(e[fs],fs),ft)}return this}fs=""}return this.styleTween(e,dm(ft,e),fs)};cE.styleTween=function(e,ft,fs){if(arguments.length<3){fs=""}return this.tween("style."+e,function(fw,fu){var fv=ft.call(this,fw,fu,window.getComputedStyle(this,null).getPropertyValue(e));return fv===eo?(this.style.removeProperty(e),null):fv&&function(fx){this.style.setProperty(e,fv(fx),fs)}})};cE.text=function(e){return this.tween("text",function(ft,fs){this.textContent=typeof e==="function"?e.call(this,ft,fs):e})};cE.remove=function(){return this.each("end.transition",function(){var e;if(!this.__transition__&&(e=this.parentNode)){e.removeChild(this)}})};cE.delay=function(e){return bA(this,typeof e==="function"?function(fu,ft,fs){fu.delay=e.call(fu=fu.node,fu.__data__,ft,fs)|0}:(e=e|0,function(fs){fs.delay=e}))};cE.duration=function(e){return bA(this,typeof e==="function"?function(fu,ft,fs){fu.duration=Math.max(1,e.call(fu=fu.node,fu.__data__,ft,fs)|0)}:(e=Math.max(1,e|0),function(fs){fs.duration=e}))};cE.transition=function(){return this.select(Q)};d3.tween=function(e,fs){function fu(fy,fx,fv){var fw=e.call(this,fy,fx);return fw==null?fv!=""&&eo:fv!=fw&&fs(fv,fw+"")}function ft(fx,fw,fv){return fv!=e&&fs(fv,e)}return typeof e==="function"?fu:e==null?d2:(e+="",ft)};var eo={};var eS=0,M={},ba=null,bk,dj;d3.timer=function(fu,e,fs){if(arguments.length<3){if(arguments.length<2){e=0}else{if(!isFinite(e)){return}}fs=Date.now()}var ft=M[fu.id];if(ft&&ft.callback===fu){ft.then=fs;ft.delay=e}else{M[fu.id=++eS]=ba={callback:fu,then:fs,delay:e,next:ba}}if(!bk){dj=clearTimeout(dj);bk=1;eY(eZ)}};d3.timer.flush=function(){var e,fs=Date.now(),ft=ba;while(ft){e=fs-ft.then;if(!ft.delay){ft.flush=ft.callback(e)}ft=ft.next}da()};var eY=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.mouse=function(e){return ap(e,R())};var bx=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,fs){if(arguments.length<2){fs=R().touches}return fs?cf(fs).map(function(fu){var ft=ap(e,fu);ft.identifier=fu.identifier;return ft}):[]};d3.scale={};d3.scale.linear=function(){return cy([0,1],[0,1],d3.interpolate,false)};d3.scale.log=function(){return eq(d3.scale.linear(),dX)};var b2=d3.format(".0e");dX.pow=function(e){return Math.pow(10,e)};d0.pow=function(e){return -Math.pow(10,-e)};d3.scale.pow=function(){return ed(d3.scale.linear(),1)};d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)};d3.scale.ordinal=function(){return bl([],{t:"range",a:[[]]})};d3.scale.category10=function(){return d3.scale.ordinal().range(bu)};d3.scale.category20=function(){return d3.scale.ordinal().range(be)};d3.scale.category20b=function(){return d3.scale.ordinal().range(eM)};d3.scale.category20c=function(){return d3.scale.ordinal().range(eL)};var bu=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var be=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var eM=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var eL=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return w([],[])};d3.scale.quantize=function(){return cb(0,1,[0,1])};d3.scale.threshold=function(){return dS([0.5],[0,1])};d3.scale.identity=function(){return cT([0,1])};d3.svg={};d3.svg.arc=function(){function ft(){var fz=fv.apply(this,arguments),fy=fu.apply(this,arguments),fx=fs.apply(this,arguments)+e8,fw=e.apply(this,arguments)+e8,fF=(fw<fx&&(fF=fx,fx=fw,fw=fF),fw-fx),fC=fF<Math.PI?"0":"1",fB=Math.cos(fx),fE=Math.sin(fx),fA=Math.cos(fw),fD=Math.sin(fw);return fF>=fd?fz?"M0,"+fy+"A"+fy+","+fy+" 0 1,1 0,"+-fy+"A"+fy+","+fy+" 0 1,1 0,"+fy+"M0,"+fz+"A"+fz+","+fz+" 0 1,0 0,"+-fz+"A"+fz+","+fz+" 0 1,0 0,"+fz+"Z":"M0,"+fy+"A"+fy+","+fy+" 0 1,1 0,"+-fy+"A"+fy+","+fy+" 0 1,1 0,"+fy+"Z":fz?"M"+fy*fB+","+fy*fE+"A"+fy+","+fy+" 0 "+fC+",1 "+fy*fA+","+fy*fD+"L"+fz*fA+","+fz*fD+"A"+fz+","+fz+" 0 "+fC+",0 "+fz*fB+","+fz*fE+"Z":"M"+fy*fB+","+fy*fE+"A"+fy+","+fy+" 0 "+fC+",1 "+fy*fA+","+fy*fD+"L0,0Z"}var fv=aR,fu=bF,fs=d1,e=X;ft.innerRadius=function(fw){if(!arguments.length){return fv}fv=I(fw);return ft};ft.outerRadius=function(fw){if(!arguments.length){return fu}fu=I(fw);return ft};ft.startAngle=function(fw){if(!arguments.length){return fs}fs=I(fw);return ft};ft.endAngle=function(fw){if(!arguments.length){return e}e=I(fw);return ft};ft.centroid=function(){var fx=(fv.apply(this,arguments)+fu.apply(this,arguments))/2,fw=(fs.apply(this,arguments)+e.apply(this,arguments))/2+e8;return[Math.cos(fw)*fx,Math.sin(fw)*fx]};return ft};var e8=-Math.PI/2,fd=2*Math.PI-0.000001;d3.svg.line=function(){return dd(d8)};var bb=d3.map({linear:fg,"linear-closed":O,"step-before":aI,"step-after":e2,basis:di,"basis-open":aF,"basis-closed":bD,bundle:bE,cardinal:ck,"cardinal-open":a8,"cardinal-closed":r,monotone:bZ});bb.forEach(function(e,fs){fs.key=e;fs.closed=/-closed$/.test(e)});var eV=[0,2/3,1/3,0],eU=[0,1/3,2/3,0],eT=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=dd(F);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};aI.reverse=e2;e2.reverse=aI;d3.svg.area=function(){return fp(d8)};d3.svg.area.radial=function(){var e=fp(F);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};d3.svg.chord=function(){function fw(fE,fC){var fD=fA(this,e,fE,fC),fB=fA(this,fz,fE,fC);return"M"+fD.p0+fs(fD.r,fD.p1,fD.a1-fD.a0)+(ft(fD,fB)?fv(fD.r,fD.p1,fD.r,fD.p0):fv(fD.r,fD.p1,fB.r,fB.p0)+fs(fB.r,fB.p1,fB.a1-fB.a0)+fv(fB.r,fB.p1,fD.r,fD.p0))+"Z"}function fA(fE,fH,fI,fF){var fD=fH.call(fE,fI,fF),fG=fx.call(fE,fD,fF),fC=fy.call(fE,fD,fF)+e8,fB=fu.call(fE,fD,fF)+e8;return{r:fG,a0:fC,a1:fB,p0:[fG*Math.cos(fC),fG*Math.sin(fC)],p1:[fG*Math.cos(fB),fG*Math.sin(fB)]}}function ft(fC,fB){return fC.a0==fB.a0&&fC.a1==fB.a1}function fs(fC,fD,fB){return"A"+fC+","+fC+" 0 "+ +(fB>Math.PI)+",1 "+fD}function fv(fC,fE,fB,fD){return"Q 0,0 "+fD}var e=Y,fz=ah,fx=z,fy=d1,fu=X;fw.radius=function(fB){if(!arguments.length){return fx}fx=I(fB);return fw};fw.source=function(fB){if(!arguments.length){return e}e=I(fB);return fw};fw.target=function(fB){if(!arguments.length){return fz}fz=I(fB);return fw};fw.startAngle=function(fB){if(!arguments.length){return fy}fy=I(fB);return fw};fw.endAngle=function(fB){if(!arguments.length){return fu}fu=I(fB);return fw};return fw};d3.svg.diagonal=function(){function fs(fz,fw){var fA=ft.call(this,fz,fw),fx=fu.call(this,fz,fw),fv=(fA.y+fx.y)/2,fy=[fA,{x:fA.x,y:fv},{x:fx.x,y:fv},fx];fy=fy.map(e);return"M"+fy[0]+"C"+fy[1]+" "+fy[2]+" "+fy[3]}var ft=Y,fu=ah,e=l;fs.source=function(fv){if(!arguments.length){return ft}ft=I(fv);return fs};fs.target=function(fv){if(!arguments.length){return fu}fu=I(fv);return fs};fs.projection=function(fv){if(!arguments.length){return e}e=fv;return fs};return fs};d3.svg.diagonal.radial=function(){var ft=d3.svg.diagonal(),e=l,fs=ft.projection;ft.projection=function(fu){return arguments.length?fs(m(e=fu)):e};return ft};d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){function ft(fv,fu){return(fe.get(fs.call(this,fv,fu))||bc)(e.call(this,fv,fu))}var fs=an,e=c9;ft.type=function(fu){if(!arguments.length){return fs}fs=I(fu);return ft};ft.size=function(fu){if(!arguments.length){return e}e=I(fu);return ft};return ft};var fe=d3.map({circle:bc,cross:function(e){var fs=Math.sqrt(e/5)/2;return"M"+-3*fs+","+-fs+"H"+-fs+"V"+-3*fs+"H"+fs+"V"+-fs+"H"+3*fs+"V"+fs+"H"+fs+"V"+3*fs+"H"+-fs+"V"+fs+"H"+-3*fs+"Z"},diamond:function(e){var fs=Math.sqrt(e/(2*bh)),ft=fs*bh;return"M0,"+-fs+"L"+ft+",0 0,"+fs+" "+-ft+",0Z"},square:function(e){var fs=Math.sqrt(e)/2;return"M"+-fs+","+-fs+"L"+fs+","+-fs+" "+fs+","+fs+" "+-fs+","+fs+"Z"},"triangle-down":function(e){var ft=Math.sqrt(e/a9),fs=ft*a9/2;return"M0,"+fs+"L"+ft+","+-fs+" "+-ft+","+-fs+"Z"},"triangle-up":function(e){var ft=Math.sqrt(e/a9),fs=ft*a9/2;return"M0,"+-fs+"L"+ft+","+fs+" "+-ft+","+fs+"Z"}});d3.svg.symbolTypes=fe.keys();var a9=Math.sqrt(3),bh=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function ft(fC){fC.each(function(){var fZ=d3.select(this);var f1=fv==null?fu.ticks?fu.ticks.apply(fu,fA):fu.domain():fv,fS=fz==null?fu.tickFormat?fu.tickFormat.apply(fu,fA):String:fz;var fI=bH(fu,f1,fy),fH=fZ.selectAll(".minor").data(fI,String),fV=fH.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),fT=d3.transition(fH.exit()).style("opacity",0.000001).remove(),fE=d3.transition(fH).style("opacity",1);var fX=fZ.selectAll("g").data(f1,String),fP=fX.enter().insert("g","path").style("opacity",0.000001),fR=d3.transition(fX.exit()).style("opacity",0.000001).remove(),fK=d3.transition(fX).style("opacity",1),fD;var fO=aq(fu),fQ=fZ.selectAll(".domain").data([0]),fF=fQ.enter().append("path").attr("class","domain"),f2=d3.transition(fQ);var fU=fu.copy(),fW=this.__chart__||fU;this.__chart__=fU;fP.append("line").attr("class","tick");fP.append("text");var fG=fP.select("line"),f0=fK.select("line"),fN=fX.select("text").text(fS),fJ=fP.select("text"),fY=fK.select("text");switch(fx){case"bottom":fD=dp;fV.attr("y2",e);fE.attr("x2",0).attr("y2",e);fG.attr("y2",fw);fJ.attr("y",Math.max(fw,0)+fB);f0.attr("x2",0).attr("y2",fw);fY.attr("x",0).attr("y",Math.max(fw,0)+fB);fN.attr("dy",".71em").attr("text-anchor","middle");f2.attr("d","M"+fO[0]+","+fs+"V0H"+fO[1]+"V"+fs);break;case"top":fD=dp;fV.attr("y2",-e);fE.attr("x2",0).attr("y2",-e);fG.attr("y2",-fw);fJ.attr("y",-(Math.max(fw,0)+fB));f0.attr("x2",0).attr("y2",-fw);fY.attr("x",0).attr("y",-(Math.max(fw,0)+fB));fN.attr("dy","0em").attr("text-anchor","middle");f2.attr("d","M"+fO[0]+","+-fs+"V0H"+fO[1]+"V"+-fs);break;case"left":fD=dn;fV.attr("x2",-e);fE.attr("x2",-e).attr("y2",0);fG.attr("x2",-fw);fJ.attr("x",-(Math.max(fw,0)+fB));f0.attr("x2",-fw).attr("y2",0);fY.attr("x",-(Math.max(fw,0)+fB)).attr("y",0);fN.attr("dy",".32em").attr("text-anchor","end");f2.attr("d","M"+-fs+","+fO[0]+"H0V"+fO[1]+"H"+-fs);break;case"right":fD=dn;fV.attr("x2",e);fE.attr("x2",e).attr("y2",0);fG.attr("x2",fw);fJ.attr("x",Math.max(fw,0)+fB);f0.attr("x2",fw).attr("y2",0);fY.attr("x",Math.max(fw,0)+fB).attr("y",0);fN.attr("dy",".32em").attr("text-anchor","start");f2.attr("d","M"+fs+","+fO[0]+"H0V"+fO[1]+"H"+fs);break}if(fu.ticks){fP.call(fD,fW);fK.call(fD,fU);fR.call(fD,fU);fV.call(fD,fW);fE.call(fD,fU);fT.call(fD,fU)}else{var fM=fU.rangeBand()/2,fL=function(f3){return fU(f3)+fM};fP.call(fD,fL);fK.call(fD,fL)}})}var fu=d3.scale.linear(),fx="bottom",fw=6,e=6,fs=6,fB=3,fA=[10],fv=null,fz,fy=0;ft.scale=function(fC){if(!arguments.length){return fu}fu=fC;return ft};ft.orient=function(fC){if(!arguments.length){return fx}fx=fC;return ft};ft.ticks=function(){if(!arguments.length){return fA}fA=arguments;return ft};ft.tickValues=function(fC){if(!arguments.length){return fv}fv=fC;return ft};ft.tickFormat=function(fC){if(!arguments.length){return fz}fz=fC;return ft};ft.tickSize=function(fC,fF,fD){if(!arguments.length){return fw}var fE=arguments.length-1;fw=+fC;e=fE>1?+fF:fw;fs=fE>0?+arguments[fE]:fw;return ft};ft.tickPadding=function(fC){if(!arguments.length){return fB}fB=+fC;return ft};ft.tickSubdivide=function(fC){if(!arguments.length){return fy}fy=+fC;return ft};return ft};d3.svg.brush=function(){function fv(fC){fC.each(function(){var fF=d3.select(this),fE=fF.selectAll(".background").data([0]),fD=fF.selectAll(".extent").data([0]),fH=fF.selectAll(".resize").data(fy,String),fG;fF.style("pointer-events","all").on("mousedown.brush",fz).on("touchstart.brush",fz);fE.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");fD.enter().append("rect").attr("class","extent").style("cursor","move");fH.enter().append("g").attr("class",function(fI){return"resize "+fI}).style("cursor",function(fI){return cW[fI]}).append("rect").attr("x",function(fI){return/[ew]$/.test(fI)?-3:null}).attr("y",function(fI){return/^[ns]/.test(fI)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");fH.style("display",fv.empty()?"none":null);fH.exit().remove();if(fx){fG=aq(fx);fE.attr("x",fG[0]).attr("width",fG[1]-fG[0]);fu(fF)}if(fw){fG=aq(fw);fE.attr("y",fG[0]).attr("height",fG[1]-fG[0]);ft(fF)}fB(fF)})}function fB(fC){fC.selectAll(".resize").attr("transform",function(fD){return"translate("+fA[+/e$/.test(fD)][0]+","+fA[+/^s/.test(fD)][1]+")"})}function fu(fC){fC.select(".extent").attr("x",fA[0][0]);fC.selectAll(".extent,.n>rect,.s>rect").attr("width",fA[1][0]-fA[0][0])}function ft(fC){fC.select(".extent").attr("y",fA[0][1]);fC.selectAll(".extent,.e>rect,.w>rect").attr("height",fA[1][1]-fA[0][1])}function fz(){function fK(){var fW=d3.event.changedTouches;return fW?d3.touches(fV,fW)[0]:d3.mouse(fV)}function fL(){if(d3.event.keyCode==32){if(!fN){fT=null;fU[0]-=fA[1][0];fU[1]-=fA[1][1];fN=2}fa()}}function fG(){if(d3.event.keyCode==32&&fN==2){fU[0]+=fA[1][0];fU[1]+=fA[1][1];fN=0;fa()}}function fI(){var fW=fK(),fX=false;if(fE){fW[0]+=fE[0];fW[1]+=fE[1]}if(!fN){if(d3.event.altKey){if(!fT){fT=[(fA[0][0]+fA[1][0])/2,(fA[0][1]+fA[1][1])/2]}fU[0]=fA[+(fW[0]<fT[0])][0];fU[1]=fA[+(fW[1]<fT[1])][1]}else{fT=null}}if(fO&&fF(fW,fx,0)){fu(fQ);fX=true}if(fM&&fF(fW,fw,1)){ft(fQ);fX=true}if(fX){fB(fQ);fJ({type:"brush",mode:fN?"move":"resize"})}}function fF(f4,fY,f0){var f1=aq(fY),fX=f1[0],fW=f1[1],f2=fU[f0],f5=fA[1][f0]-fA[0][f0],fZ,f3;if(fN){fX-=f2;fW-=f5+f2}fZ=Math.max(fX,Math.min(fW,f4[f0]));if(fN){f3=(fZ+=f2)+f5}else{if(fT){f2=Math.max(fX,Math.min(fW,2*fT[f0]-fZ))}if(f2<fZ){f3=fZ;fZ=f2}else{f3=f2}}if(fA[0][f0]!==fZ||fA[1][f0]!==f3){fs=null;fA[0][f0]=fZ;fA[1][f0]=f3;return true}}function fC(){fI();fQ.style("pointer-events","all").selectAll(".resize").style("display",fv.empty()?"none":null);d3.select("body").style("cursor",null);fH.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);fJ({type:"brushend"});fa()}var fV=this,fD=d3.select(d3.event.target),fJ=e.of(fV,arguments),fQ=d3.select(fV),fS=fD.datum(),fO=!/^(n|s)$/.test(fS)&&fx,fM=!/^(e|w)$/.test(fS)&&fw,fN=fD.classed("extent"),fT,fU=fK(),fE;var fH=d3.select(window).on("mousemove.brush",fI).on("mouseup.brush",fC).on("touchmove.brush",fI).on("touchend.brush",fC).on("keydown.brush",fL).on("keyup.brush",fG);if(fN){fU[0]=fA[0][0]-fU[0];fU[1]=fA[0][1]-fU[1]}else{if(fS){var fR=+/w$/.test(fS),fP=+/^n/.test(fS);fE=[fA[1-fR][0]-fU[0],fA[1-fP][1]-fU[1]];fU[0]=fA[fR][0];fU[1]=fA[fP][1]}else{if(d3.event.altKey){fT=fU.slice()}}}fQ.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",fD.style("cursor"));fJ({type:"brushstart"});fI();fa()}var e=eQ(fv,"brushstart","brush","brushend"),fx=null,fw=null,fy=Z[0],fA=[[0,0],[0,0]],fs;fv.x=function(fC){if(!arguments.length){return fx}fx=fC;fy=Z[!fx<<1|!fw];return fv};fv.y=function(fC){if(!arguments.length){return fw}fw=fC;fy=Z[!fx<<1|!fw];return fv};fv.extent=function(fH){var fE,fC,fG,fF,fD;if(!arguments.length){fH=fs||fA;if(fx){fE=fH[0][0],fC=fH[1][0];if(!fs){fE=fA[0][0],fC=fA[1][0];if(fx.invert){fE=fx.invert(fE),fC=fx.invert(fC)}if(fC<fE){fD=fE,fE=fC,fC=fD}}}if(fw){fG=fH[0][1],fF=fH[1][1];if(!fs){fG=fA[0][1],fF=fA[1][1];if(fw.invert){fG=fw.invert(fG),fF=fw.invert(fF)}if(fF<fG){fD=fG,fG=fF,fF=fD}}}return fx&&fw?[[fE,fG],[fC,fF]]:fx?[fE,fC]:fw&&[fG,fF]}fs=[[0,0],[0,0]];if(fx){fE=fH[0],fC=fH[1];if(fw){fE=fE[0],fC=fC[0]}fs[0][0]=fE,fs[1][0]=fC;if(fx.invert){fE=fx(fE),fC=fx(fC)}if(fC<fE){fD=fE,fE=fC,fC=fD}fA[0][0]=fE|0,fA[1][0]=fC|0}if(fw){fG=fH[0],fF=fH[1];if(fx){fG=fG[1],fF=fF[1]}fs[0][1]=fG,fs[1][1]=fF;if(fw.invert){fG=fw(fG),fF=fw(fF)}if(fF<fG){fD=fG,fG=fF,fF=fD}fA[0][1]=fG|0,fA[1][1]=fF|0}return fv};fv.clear=function(){fs=null;fA[0][0]=fA[0][1]=fA[1][0]=fA[1][1]=0;return fv};fv.empty=function(){return fx&&fA[0][0]===fA[1][0]||fw&&fA[0][1]===fA[1][1]};return d3.rebind(fv,e,"on")};var cW={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Z=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){function ft(){this.on("mousedown.drag",fs).on("touchstart.drag",fs)}function fs(){function fD(){var fH=fx.parentNode;return fE?d3.touches(fH).filter(function(fI){return fI.identifier===fE})[0]:d3.mouse(fH)}function fF(){if(!fx.parentNode){return fv()}var fJ=fD(),fI=fJ[0]-fy[0],fH=fJ[1]-fy[1];fz|=fI|fH;fy=fJ;fa();fC({type:"drag",x:fJ[0]+fw[0],y:fJ[1]+fw[1],dx:fI,dy:fH})}function fv(){fC({type:"dragend"});if(fz){fa();if(d3.event.target===fB){fA.on("click.drag",fG,true)}}fA.on(fE?"touchmove.drag-"+fE:"mousemove.drag",null).on(fE?"touchend.drag-"+fE:"mouseup.drag",null)}function fG(){fa();fA.on("click.drag",null)}var fx=this,fC=fu.of(fx,arguments),fB=d3.event.target,fE=d3.event.touches&&d3.event.changedTouches[0].identifier,fw,fy=fD(),fz=0;var fA=d3.select(window).on(fE?"touchmove.drag-"+fE:"mousemove.drag",fF).on(fE?"touchend.drag-"+fE:"mouseup.drag",fv,true);if(e){fw=e.apply(fx,arguments);fw=[fw.x-fy[0],fw.y-fy[1]]}else{fw=[0,0]}if(!fE){fa()}fC({type:"dragstart"})}var fu=eQ(ft,"drag","dragstart","dragend"),e=null;ft.origin=function(fv){if(!arguments.length){return e}e=fv;return ft};return d3.rebind(ft,fu,"on")};d3.behavior.zoom=function(){function e(){this.on("mousedown.zoom",fD).on("mousewheel.zoom",fB).on("mousemove.zoom",fK).on("DOMMouseScroll.zoom",fB).on("dblclick.zoom",fz).on("touchstart.zoom",fI).on("touchmove.zoom",fA).on("touchend.zoom",fI)}function fs(fO){return[(fO[0]-fy[0])/fN,(fO[1]-fy[1])/fN]}function fC(fO){return[fO[0]*fN+fy[0],fO[1]*fN+fy[1]]}function fx(fO){fN=Math.max(ft[0],Math.min(ft[1],fO))}function fL(fP,fO){fO=fC(fO);fy[0]+=fP[0]-fO[0];fy[1]+=fP[1]-fO[1]}function fM(fO){if(fG){fG.domain(fH.range().map(function(fP){return(fP-fy[0])/fN}).map(fH.invert))}if(fu){fu.domain(fv.range().map(function(fP){return(fP-fy[1])/fN}).map(fv.invert))}d3.event.preventDefault();fO({type:"zoom",scale:fN,translate:fy})}function fD(){function fQ(){fS=1;fL(d3.mouse(fR),fO);fM(fU)}function fP(){if(fS){fa()}fV.on("mousemove.zoom",null).on("mouseup.zoom",null);if(fS&&d3.event.target===fT){fV.on("click.zoom",fW,true)}}function fW(){fa();fV.on("click.zoom",null)}var fR=this,fU=fE.of(fR,arguments),fT=d3.event.target,fS=0,fV=d3.select(window).on("mousemove.zoom",fQ).on("mouseup.zoom",fP),fO=fs(d3.mouse(fR));window.focus();fa()}function fB(){if(!fJ){fJ=fs(d3.mouse(this))}fx(Math.pow(2,br()*0.002)*fN);fL(d3.mouse(this),fJ);fM(fE.of(this,arguments))}function fK(){fJ=null}function fz(){var fP=d3.mouse(this),fO=fs(fP);fx(d3.event.shiftKey?fN/2:fN*2);fL(fP,fO);fM(fE.of(this,arguments))}function fI(){var fR=d3.touches(this),fP=Date.now();fF=fN;fJ={};fR.forEach(function(fS){fJ[fS.identifier]=fs(fS)});fa();if(fR.length===1){if(fP-fw<500){var fQ=fR[0],fO=fs(fR[0]);fx(fN*2);fL(fQ,fO);fM(fE.of(this,arguments))}fw=fP}}function fA(){var fQ=d3.touches(this),fS=fQ[0],fP=fJ[fS.identifier];if(fR=fQ[1]){var fR,fO=fJ[fR.identifier];fS=[(fS[0]+fR[0])/2,(fS[1]+fR[1])/2];fP=[(fP[0]+fO[0])/2,(fP[1]+fO[1])/2];fx(d3.event.scale*fF)}fL(fS,fP);fw=null;fM(fE.of(this,arguments))}var fy=[0,0],fJ,fN=1,fF,ft=dN,fE=eQ(e,"zoom"),fH,fG,fv,fu,fw;e.translate=function(fO){if(!arguments.length){return fy}fy=fO.map(Number);return e};e.scale=function(fO){if(!arguments.length){return fN}fN=+fO;return e};e.scaleExtent=function(fO){if(!arguments.length){return ft}ft=fO==null?dN:fO.map(Number);return e};e.x=function(fO){if(!arguments.length){return fG}fG=fO;fH=fO.copy();return e};e.y=function(fO){if(!arguments.length){return fu}fu=fO;fv=fO.copy();return e};return d3.rebind(e,fE,"on")};var cr,dN=[0,Infinity];d3.layout={};d3.layout.bundle=function(){return function(e){var ft=[],fs=-1,fu=e.length;while(++fs<fu){ft.push(cP(e[fs]))}return ft}};d3.layout.chord=function(){function fA(){var fG={},fJ=[],fR=d3.range(ft),fN=[],fH,fP,fF,fK,fI;fx=[];fu=[];fH=0,fK=-1;while(++fK<ft){fP=0,fI=-1;while(++fI<ft){fP+=fB[fK][fI]}fJ.push(fP);fN.push(d3.range(ft));fH+=fP}if(e){fR.sort(function(fT,fS){return e(fJ[fT],fJ[fS])})}if(fs){fN.forEach(function(fT,fS){fT.sort(function(fV,fU){return fs(fB[fS][fV],fB[fS][fU])})})}fH=(2*Math.PI-fz*ft)/fH;fP=0,fK=-1;while(++fK<ft){fF=fP,fI=-1;while(++fI<ft){var fO=fR[fK],fM=fN[fO][fI],fQ=fB[fO][fM],fE=fP,fD=fP+=fQ*fH;fG[fO+"-"+fM]={index:fO,subindex:fM,startAngle:fE,endAngle:fD,value:fQ}}fu[fO]={index:fO,startAngle:fF,endAngle:fP,value:(fP-fF)/fH};fP+=fz}fK=-1;while(++fK<ft){fI=fK-1;while(++fI<ft){var fC=fG[fK+"-"+fI],fL=fG[fI+"-"+fK];if(fC.value||fL.value){fx.push(fC.value<fL.value?{source:fL,target:fC}:{source:fC,target:fL})}}}if(fv){fy()}}function fy(){fx.sort(function(fD,fC){return fv((fD.source.value+fD.target.value)/2,(fC.source.value+fC.target.value)/2)})}var fw={},fx,fu,fB,ft,fz=0,e,fs,fv;fw.matrix=function(fC){if(!arguments.length){return fB}ft=(fB=fC)&&fB.length;fx=fu=null;return fw};fw.padding=function(fC){if(!arguments.length){return fz}fz=fC;fx=fu=null;return fw};fw.sortGroups=function(fC){if(!arguments.length){return e}e=fC;fx=fu=null;return fw};fw.sortSubgroups=function(fC){if(!arguments.length){return fs}fs=fC;fx=null;return fw};fw.sortChords=function(fC){if(!arguments.length){return fv}fv=fC;if(fx){fy()}return fw};fw.chords=function(){if(!fx){fA()}return fx};fw.groups=function(){if(!fu){fA()}return fu};return fw};d3.layout.force=function(){function fG(fK){return function(fR,fM,fQ,fL,fP){if(fR.point!==fK){var fT=fR.cx-fK.x,fS=fR.cy-fK.y,fO=1/Math.sqrt(fT*fT+fS*fS);if((fL-fM)*fO<fz){var fN=fR.charge*fO*fO;fK.px-=fT*fN;fK.py-=fS*fN;return true}if(fR.point&&isFinite(fO)){var fN=fR.pointCharge*fO*fO;fK.px-=fT*fN;fK.py-=fS*fN}}return !fR.charge}}function fC(fK){fK.px=d3.event.x;fK.py=d3.event.y;fs.resume()}var fs={},fF=d3.dispatch("start","tick","end"),fB=[1,1],fH,fv,fy=0.9,fJ=dJ,fu=bm,fE=-30,fw=0.1,fz=0.8,fI,fD=[],ft=[],fx,e,fA;fs.tick=function(){if((fv*=0.99)<0.005){fF.end({type:"end",alpha:fv=0});return true}var fM=fD.length,fN=ft.length,fK,fQ,fL,fU,fT,fO,fP,fS,fR;for(fQ=0;fQ<fN;++fQ){fL=ft[fQ];fU=fL.source;fT=fL.target;fS=fT.x-fU.x;fR=fT.y-fU.y;if(fO=fS*fS+fR*fR){fO=fv*e[fQ]*((fO=Math.sqrt(fO))-fx[fQ])/fO;fS*=fO;fR*=fO;fT.x-=fS*(fP=fU.weight/(fT.weight+fU.weight));fT.y-=fR*fP;fU.x+=fS*(fP=1-fP);fU.y+=fR*fP}}if(fP=fv*fw){fS=fB[0]/2;fR=fB[1]/2;fQ=-1;if(fP){while(++fQ<fM){fL=fD[fQ];fL.x+=(fS-fL.x)*fP;fL.y+=(fR-fL.y)*fP}}}if(fE){ej(fK=d3.geom.quadtree(fD),fv,fA);fQ=-1;while(++fQ<fM){if(!(fL=fD[fQ]).fixed){fK.visit(fG(fL))}}}fQ=-1;while(++fQ<fM){fL=fD[fQ];if(fL.fixed){fL.x=fL.px;fL.y=fL.py}else{fL.x-=(fL.px-(fL.px=fL.x))*fy;fL.y-=(fL.py-(fL.py=fL.y))*fy}}fF.tick({type:"tick",alpha:fv})};fs.nodes=function(fK){if(!arguments.length){return fD}fD=fK;return fs};fs.links=function(fK){if(!arguments.length){return ft}ft=fK;return fs};fs.size=function(fK){if(!arguments.length){return fB}fB=fK;return fs};fs.linkDistance=function(fK){if(!arguments.length){return fJ}fJ=I(fK);return fs};fs.distance=fs.linkDistance;fs.linkStrength=function(fK){if(!arguments.length){return fu}fu=I(fK);return fs};fs.friction=function(fK){if(!arguments.length){return fy}fy=fK;return fs};fs.charge=function(fK){if(!arguments.length){return fE}fE=typeof fK==="function"?fK:+fK;return fs};fs.gravity=function(fK){if(!arguments.length){return fw}fw=fK;return fs};fs.theta=function(fK){if(!arguments.length){return fz}fz=fK;return fs};fs.alpha=function(fK){if(!arguments.length){return fv}if(fv){if(fK>0){fv=fK}else{fv=0}}else{if(fK>0){fF.start({type:"start",alpha:fv=fK});d3.timer(fs.tick)}}return fs};fs.start=function(){function fQ(fZ,fY){var fX=fS(fO),fW=-1,fV=fX.length,fU;while(++fW<fV){if(!isNaN(fU=fX[fW][fZ])){return fU}}return Math.random()*fY}function fS(){if(!fT){fT=[];for(fN=0;fN<fL;++fN){fT[fN]=[]}for(fN=0;fN<fM;++fN){var fU=ft[fN];fT[fU.source.index].push(fU.target);fT[fU.target.index].push(fU.source)}}return fT[fO]}var fO,fN,fL=fD.length,fM=ft.length,fR=fB[0],fP=fB[1],fT,fK;for(fO=0;fO<fL;++fO){(fK=fD[fO]).index=fO;fK.weight=0}fx=[];e=[];for(fO=0;fO<fM;++fO){fK=ft[fO];if(typeof fK.source=="number"){fK.source=fD[fK.source]}if(typeof fK.target=="number"){fK.target=fD[fK.target]}fx[fO]=fJ.call(this,fK,fO);e[fO]=fu.call(this,fK,fO);++fK.source.weight;++fK.target.weight}for(fO=0;fO<fL;++fO){fK=fD[fO];if(isNaN(fK.x)){fK.x=fQ("x",fR)}if(isNaN(fK.y)){fK.y=fQ("y",fP)}if(isNaN(fK.px)){fK.px=fK.x}if(isNaN(fK.py)){fK.py=fK.y}}fA=[];if(typeof fE==="function"){for(fO=0;fO<fL;++fO){fA[fO]=+fE.call(this,fD[fO],fO)}}else{for(fO=0;fO<fL;++fO){fA[fO]=fE}}return fs.resume()};fs.resume=function(){return fs.alpha(0.1)};fs.stop=function(){return fs.alpha(0)};fs.drag=function(){if(!fH){fH=d3.behavior.drag().origin(d8).on("dragstart",p).on("drag",fC).on("dragend",cw)}this.on("mouseover.force",bq).on("mouseout.force",cz).call(fH)};return d3.rebind(fs,fF,"on")};d3.layout.partition=function(){function e(fy,fC,fE,fD){var fw=fy.children;fy.x=fC;fy.y=fy.depth*fD;fy.dx=fE;fy.dy=fD;if(fw&&(fx=fw.length)){var fz=-1,fx,fB,fA;fE=fy.value?fE/fy.value:0;while(++fz<fx){e(fB=fw[fz],fC,fA=fB.value*fE,fD);fC+=fA}}}function fv(fy){var fx=fy.children,fz=0;if(fx&&(fA=fx.length)){var fw=-1,fA;while(++fw<fA){fz=Math.max(fz,fv(fx[fw]))}}return 1+fz}function ft(fy,fx){var fw=fs.call(this,fy,fx);e(fw[0],0,fu[0],fu[1]/fv(fw[0]));return fw}var fs=d3.layout.hierarchy(),fu=[1,1];ft.size=function(fw){if(!arguments.length){return fu}fu=fw;return ft};return ee(ft,fs)};d3.layout.pie=function(){function e(fC,fA){var fy=fC.map(function(fE,fD){return +fv.call(e,fE,fD)});var fw=+(typeof ft==="function"?ft.apply(this,arguments):ft);var fx=((typeof fs==="function"?fs.apply(this,arguments):fs)-ft)/d3.sum(fy);var fz=d3.range(fC.length);if(fu!=null){fz.sort(fu===L?function(fE,fD){return fy[fD]-fy[fE]}:function(fE,fD){return fu(fC[fE],fC[fD])})}var fB=[];fz.forEach(function(fD){var fE;fB[fD]={data:fC[fD],value:fE=fy[fD],startAngle:fw,endAngle:fw+=fE*fx}});return fB}var fv=Number,fu=L,ft=0,fs=2*Math.PI;e.value=function(fw){if(!arguments.length){return fv}fv=fw;return e};e.sort=function(fw){if(!arguments.length){return fu}fu=fw;return e};e.startAngle=function(fw){if(!arguments.length){return ft}ft=fw;return e};e.endAngle=function(fw){if(!arguments.length){return fs}fs=fw;return e};return e};var L={};d3.layout.stack=function(){function ft(fF,fH){var fG=fF.map(function(fK,fJ){return fu.call(ft,fK,fJ)});var fI=fG.map(function(fK,fJ){return fK.map(function(fL,fM){return[e.call(ft,fL,fM),fx.call(ft,fL,fM)]})});var fC=fs.call(ft,fI,fH);fG=d3.permute(fG,fC);fI=d3.permute(fI,fC);var fB=fw.call(ft,fI,fH);var fz=fG.length,fA=fG[0].length,fE,fD,fy;for(fD=0;fD<fA;++fD){fv.call(ft,fG[0][fD],fy=fB[fD],fI[0][fD][1]);for(fE=1;fE<fz;++fE){fv.call(ft,fG[fE][fD],fy+=fI[fE-1][fD][1],fI[fE][fD][1])}}return fF}var fu=d8,fs=aZ,fw=dC,fv=dD,e=W,fx=V;ft.values=function(fy){if(!arguments.length){return fu}fu=fy;return ft};ft.order=function(fy){if(!arguments.length){return fs}fs=typeof fy==="function"?fy:av.get(fy)||aZ;return ft};ft.offset=function(fy){if(!arguments.length){return fw}fw=typeof fy==="function"?fy:S.get(fy)||dC;return ft};ft.x=function(fy){if(!arguments.length){return e}e=fy;return ft};ft.y=function(fy){if(!arguments.length){return fx}fx=fy;return ft};ft.out=function(fy){if(!arguments.length){return fv}fv=fy;return ft};return ft};var av=d3.map({"inside-out":function(fv){var ft=fv.length,fw,fu,fA=fv.map(a4),fx=fv.map(b4),fy=d3.range(ft).sort(function(fD,fC){return fA[fD]-fA[fC]}),fz=0,e=0,fB=[],fs=[];for(fw=0;fw<ft;++fw){fu=fy[fw];if(fz<e){fz+=fx[fu];fB.push(fu)}else{e+=fx[fu];fs.push(fu)}}return fs.reverse().concat(fB)},reverse:function(e){return d3.range(e.length).reverse()},"default":aZ});var S=d3.map({silhouette:function(fv){var fs=fv.length,ft=fv[0].length,fx=[],fy=0,fw,fu,e,fz=[];for(fu=0;fu<ft;++fu){for(fw=0,e=0;fw<fs;fw++){e+=fv[fw][fu][1]}if(e>fy){fy=e}fx.push(e)}for(fu=0;fu<ft;++fu){fz[fu]=(fy-fx[fu])/2}return fz},wiggle:function(fx){var fs=fx.length,fB=fx[0],ft=fB.length,fz=0,fy,fw,fv,fE,fD,fA,fF,e,fu,fC=[];fC[0]=e=fu=0;for(fw=1;fw<ft;++fw){for(fy=0,fE=0;fy<fs;++fy){fE+=fx[fy][fw][1]}for(fy=0,fD=0,fF=fB[fw][0]-fB[fw-1][0];fy<fs;++fy){for(fv=0,fA=(fx[fy][fw][1]-fx[fy][fw-1][1])/(2*fF);fv<fy;++fv){fA+=(fx[fv][fw][1]-fx[fv][fw-1][1])/fF}fD+=fA*fx[fy][fw][1]}fC[fw]=e-=fE?fD/fE*fF:0;if(e<fu){fu=e}}for(fw=0;fw<ft;++fw){fC[fw]-=fu}return fC},expand:function(fw){var fy=fw.length,e=fw[0].length,fs=1/fy,fu,ft,fx,fv=[];for(ft=0;ft<e;++ft){for(fu=0,fx=0;fu<fy;fu++){fx+=fw[fu][ft][1]}if(fx){for(fu=0;fu<fy;fu++){fw[fu][ft][1]/=fx}}else{for(fu=0;fu<fy;fu++){fw[fu][ft][1]=fs}}}for(ft=0;ft<e;++ft){fv[ft]=0}return fv},zero:dC});d3.layout.histogram=function(){function fv(fz,fA){var fF=[],fD=fz.map(fs,this),fB=e.call(this,fD,fA),fE=ft.call(this,fB,fD,fA),fG,fA=-1,fw=fD.length,fx=fE.length-1,fy=fu?1:1/fw,fC;while(++fA<fx){fG=fF[fA]=[];fG.dx=fE[fA+1]-(fG.x=fE[fA]);fG.y=0}if(fx>0){fA=-1;while(++fA<fw){fC=fD[fA];if(fC>=fB[0]&&fC<=fB[1]){fG=fF[d3.bisect(fE,fC,1,fx)-1];fG.y+=fy;fG.push(fz[fA])}}}return fF}var fu=true,fs=Number,e=aG,ft=e1;fv.value=function(fw){if(!arguments.length){return fs}fs=fw;return fv};fv.range=function(fw){if(!arguments.length){return e}e=I(fw);return fv};fv.bins=function(fw){if(!arguments.length){return ft}ft=typeof fw==="number"?function(fx){return g(fx,fw)}:I(fw);return fv};fv.frequency=function(fw){if(!arguments.length){return fu}fu=!!fw;return fv};return fv};d3.layout.hierarchy=function(){function fu(fC,fB,fx){var fF=fs.call(e,fC,fB),fz=h?fC:{data:fC};fz.depth=fB;fx.push(fz);if(fF&&(fy=fF.length)){var fD=-1,fy,fG=fz.children=[],fH=0,fA=fB+1,fE;while(++fD<fy){fE=fu(fF[fD],fA,fx);fE.parent=fz;fG.push(fE);fH+=fE.value}if(ft){fG.sort(ft)}if(fv){fz.value=fH}}else{if(fv){fz.value=+fv.call(e,fC,fB)||0}}return fz}function fw(fB,fC){var fA=fB.children,fx=0;if(fA&&(fD=fA.length)){var fz=-1,fD,fy=fC+1;while(++fz<fD){fx+=fw(fA[fz],fy)}}else{if(fv){fx=+fv.call(e,h?fB:fB.data,fC)||0}}if(fv){fB.value=fx}return fx}function e(fy){var fx=[];fu(fy,0,fx);return fx}var ft=ci,fs=ax,fv=fc;e.sort=function(fx){if(!arguments.length){return ft}ft=fx;return e};e.children=function(fx){if(!arguments.length){return fs}fs=fx;return e};e.value=function(fx){if(!arguments.length){return fv}fv=fx;return e};e.revalue=function(fx){fw(fx,0);return fx};return e};var h=false;d3.layout.pack=function(){function ft(fC,fz){var fy=e.call(this,fC,fz),fw=fy[0];fw.x=0;fw.y=0;e6(fw,function(fD){fD.r=Math.sqrt(fD.value)});e6(fw,K);var fv=fs[0],fA=fs[1],fx=Math.max(2*fw.r/fv,2*fw.r/fA);if(fu>0){var fB=fu*fx/2;e6(fw,function(fD){fD.r+=fB});e6(fw,K);e6(fw,function(fD){fD.r-=fB});fx=Math.max(2*fw.r/fv,2*fw.r/fA)}dq(fw,fv/2,fA/2,1/fx);return fy}var e=d3.layout.hierarchy().sort(cI),fu=0,fs=[1,1];ft.size=function(fv){if(!arguments.length){return fs}fs=fv;return ft};ft.padding=function(fv){if(!arguments.length){return fu}fu=+fv;return ft};return ee(ft,e)};d3.layout.cluster=function(){function e(fC,fz){var fv=fs.call(this,fC,fz),fD=fv[0],fE,fF=0,fB,fA;e6(fD,function(fI){var fH=fI.children;if(fH&&fH.length){fI.x=aN(fH);fI.y=aM(fH)}else{fI.x=fE?fF+=fu(fI,fE):0;fI.y=0;fE=fI}});var fy=cK(fD),fG=cc(fD),fx=fy.x-fu(fy,fG)/2,fw=fG.x+fu(fG,fy)/2;e6(fD,function(fH){fH.x=(fH.x-fx)/(fw-fx)*ft[0];fH.y=(1-(fD.y?fH.y/fD.y:1))*ft[1]});return fv}var fs=d3.layout.hierarchy().sort(null).value(null),fu=b6,ft=[1,1];e.separation=function(fv){if(!arguments.length){return fu}fu=fv;return e};e.size=function(fv){if(!arguments.length){return ft}ft=fv;return e};return ee(e,fs)};d3.layout.tree=function(){function e(fC,fA){function fB(fM,fI){var fK=fM.children,fP=fM._tree;if(fK&&(fL=fK.length)){var fL,fR=fK[0],fQ,fO=fR,fJ,fN=-1;while(++fN<fL){fJ=fK[fN];fB(fJ,fQ);fO=fv(fJ,fQ,fO);fQ=fJ}b8(fM);var fS=0.5*(fR._tree.prelim+fJ._tree.prelim);if(fI){fP.prelim=fI._tree.prelim+fu(fM,fI);fP.mod=fP.prelim-fS}else{fP.prelim=fS}}else{if(fI){fP.prelim=fI._tree.prelim+fu(fM,fI)}}}function fD(fL,fI){fL.x=fL._tree.prelim+fI;var fK=fL.children;if(fK&&(fM=fK.length)){var fJ=-1,fM;fI+=fL._tree.mod;while(++fJ<fM){fD(fK[fJ],fI)}}}function fv(fM,fI,fP){if(fI){var fL=fM,fK=fM,fO=fI,fN=fM.parent.children[0],fR=fL._tree.mod,fQ=fK._tree.mod,fT=fO._tree.mod,fS=fN._tree.mod,fJ;while(fO=ac(fO),fL=fi(fL),fO&&fL){fN=fi(fN);fK=ac(fK);fK._tree.ancestor=fM;fJ=fO._tree.prelim+fT-fL._tree.prelim-fR+fu(fO,fL);if(fJ>0){fl(dP(fO,fM,fP),fM,fJ);fR+=fJ;fQ+=fJ}fT+=fO._tree.mod;fR+=fL._tree.mod;fS+=fN._tree.mod;fQ+=fK._tree.mod}if(fO&&!ac(fK)){fK._tree.thread=fO;fK._tree.mod+=fT-fQ}if(fL&&!fi(fN)){fN._tree.thread=fL;fN._tree.mod+=fR-fS;fP=fM}}return fP}var fw=fs.call(this,fC,fA),fE=fw[0];e6(fE,function(fJ,fI){fJ._tree={ancestor:fJ,prelim:0,mod:0,change:0,shift:0,number:fI?fI._tree.number+1:0}});fB(fE);fD(fE,-fE._tree.prelim);var fz=cq(fE,aT),fH=cq(fE,bL),fG=cq(fE,x),fy=fz.x-fu(fz,fH)/2,fx=fH.x+fu(fH,fz)/2,fF=fG.depth||1;e6(fE,function(fI){fI.x=(fI.x-fy)/(fx-fy)*ft[0];fI.y=fI.depth/fF*ft[1];delete fI._tree});return fw}var fs=d3.layout.hierarchy().sort(null).value(null),fu=b6,ft=[1,1];e.separation=function(fv){if(!arguments.length){return fu}fu=fv;return e};e.size=function(fv){if(!arguments.length){return ft}ft=fv;return e};return ee(e,fs)};d3.layout.treemap=function(){function fs(fH,fF){var fG=-1,fK=fH.length,fJ,fI;while(++fG<fK){fI=(fJ=fH[fG]).value*(fF<0?0:fF);fJ.area=isNaN(fI)||fI<=0?0:fI}}function ft(fJ){var fG=fJ.children;if(fG&&fG.length){var fM=e(fJ),fO=[],fL=fG.slice(),fF,fK=Infinity,fI,fN=Math.min(fM.dx,fM.dy),fH;fs(fL,fM.dx*fM.dy/fJ.value);fO.area=0;while((fH=fL.length)>0){fO.push(fF=fL[fH-1]);fO.area+=fF.area;if((fI=fu(fO,fN))<=fK){fL.pop();fK=fI}else{fO.area-=fO.pop().area;fv(fO,fN,fM,false);fN=Math.min(fM.dx,fM.dy);fO.length=fO.area=0;fK=Infinity}}if(fO.length){fv(fO,fN,fM,true);fO.length=fO.area=0}fG.forEach(ft)}}function fE(fI){var fF=fI.children;if(fF&&fF.length){var fH=e(fI),fG=fF.slice(),fK,fJ=[];fs(fG,fH.dx*fH.dy/fI.value);fJ.area=0;while(fK=fG.pop()){fJ.push(fK);fJ.area+=fK.area;if(fK.z!=null){fv(fJ,fK.z?fH.dx:fH.dy,fH,!fG.length);fJ.length=fJ.area=0}}fF.forEach(fE)}}function fu(fK,fG){var fI=fK.area,fJ,fM=0,fF=Infinity,fH=-1,fL=fK.length;while(++fH<fL){if(!(fJ=fK[fH].area)){continue}if(fJ<fF){fF=fJ}if(fJ>fM){fM=fJ}}fI*=fI;fG*=fG;return fI?Math.max(fG*fM*fx/fI,fI/(fG*fF*fx)):Infinity}function fv(fO,fN,fJ,fM){var fH=-1,fG=fO.length,fK=fJ.x,fI=fJ.y,fL=fN?fC(fO.area/fN):0,fF;if(fN==fJ.dx){if(fM||fL>fJ.dy){fL=fJ.dy}while(++fH<fG){fF=fO[fH];fF.x=fK;fF.y=fI;fF.dy=fL;fK+=fF.dx=Math.min(fJ.x+fJ.dx-fK,fL?fC(fF.area/fL):0)}fF.z=true;fF.dx+=fJ.x+fJ.dx-fK;fJ.y+=fL;fJ.dy-=fL}else{if(fM||fL>fJ.dx){fL=fJ.dx}while(++fH<fG){fF=fO[fH];fF.x=fK;fF.y=fI;fF.dx=fL;fI+=fF.dy=Math.min(fJ.y+fJ.dy-fI,fL?fC(fF.area/fL):0)}fF.z=false;fF.dy+=fJ.y+fJ.dy-fI;fJ.x+=fL;fJ.dx-=fL}}function fB(fH){var fG=fw||fy(fH),fF=fG[0];fF.x=0;fF.y=0;fF.dx=fD[0];fF.dy=fD[1];if(fw){fy.revalue(fF)}fs([fF],fF.dx*fF.dy/fF.value);(fw?fE:ft)(fF);if(fA){fw=fG}return fG}var fy=d3.layout.hierarchy(),fC=Math.round,fD=[1,1],fz=null,e=dc,fA=false,fw,fx=0.5*(1+Math.sqrt(5));fB.size=function(fF){if(!arguments.length){return fD}fD=fF;return fB};fB.padding=function(fF){function fI(fJ){var fK=fF.call(fB,fJ,fJ.depth);return fK==null?dc(fJ):ar(fJ,typeof fK==="number"?[fK,fK,fK,fK]:fK)}function fH(fJ){return ar(fJ,fF)}if(!arguments.length){return fz}var fG;e=(fz=fF)==null?dc:(fG=typeof fF)==="function"?fI:fG==="number"?(fF=[fF,fF,fF,fF],fH):fH;return fB};fB.round=function(fF){if(!arguments.length){return fC!=Number}fC=fF?Math.round:Number;return fB};fB.sticky=function(fF){if(!arguments.length){return fA}fA=fF;fw=null;return fB};fB.ratio=function(fF){if(!arguments.length){return fx}fx=fF;return fB};return ee(fB,fy)};d3.csv=cL(",","text/csv");d3.tsv=cL("	","text/tab-separated-values");d3.geo={};var cR=Math.PI/180;d3.geo.azimuthal=function(){function ft(fL){var fB=fL[0]*cR-e,fK=fL[1]*cR,fF=Math.cos(fB),fA=Math.sin(fB),fD=Math.cos(fK),fJ=Math.sin(fK),fC=fw!=="orthographic"?fx*fJ+fv*fD*fF:null,fG,fE=fw==="stereographic"?1/(1+fC):fw==="gnomonic"?1/fC:fw==="equidistant"?(fG=Math.acos(fC),fG?fG/Math.sin(fG):0):fw==="equalarea"?Math.sqrt(2/(1+fC)):1,fI=fE*fD*fA,fH=fE*(fx*fD*fF-fv*fJ);return[fu*fI+fs[0],fu*fH+fs[1]]}var fw="orthographic",fz,fu=200,fs=[480,250],e,fy,fv,fx;ft.invert=function(fD){var fA=(fD[0]-fs[0])/fu,fG=(fD[1]-fs[1])/fu,fB=Math.sqrt(fA*fA+fG*fG),fF=fw==="stereographic"?2*Math.atan(fB):fw==="gnomonic"?Math.atan(fB):fw==="equidistant"?fB:fw==="equalarea"?2*Math.asin(0.5*fB):Math.asin(fB),fC=Math.sin(fF),fE=Math.cos(fF);return[(e+Math.atan2(fA*fC,fB*fv*fE+fG*fx*fC))/cR,Math.asin(fE*fx-(fB?fG*fC*fv/fB:0))/cR]};ft.mode=function(fA){if(!arguments.length){return fw}fw=fA+"";return ft};ft.origin=function(fA){if(!arguments.length){return fz}fz=fA;e=fz[0]*cR;fy=fz[1]*cR;fv=Math.cos(fy);fx=Math.sin(fy);return ft};ft.scale=function(fA){if(!arguments.length){return fu}fu=+fA;return ft};ft.translate=function(fA){if(!arguments.length){return fs}fs=[+fA[0],+fA[1]];return ft};return ft.origin([0,0])};d3.geo.albers=function(){function ft(fD){var fB=fu*(cR*fD[0]-fy),fC=Math.sqrt(fs-2*fu*Math.sin(cR*fD[1]))/fu;return[fw*fC*Math.sin(fB)+fv[0],fw*(fC*Math.cos(fB)-fA)+fv[1]]}function e(){var fC=cR*fx[0],fB=cR*fx[1],fF=cR*fz[1],fD=Math.sin(fC),fE=Math.cos(fC);fy=cR*fz[0];fu=0.5*(fD+Math.sin(fB));fs=fE*fE+2*fu*fD;fA=Math.sqrt(fs-2*fu*Math.sin(fF))/fu;return ft}var fz=[-98,38],fx=[29.5,45.5],fw=1000,fv=[480,250],fy,fu,fs,fA;ft.invert=function(fE){var fB=(fE[0]-fv[0])/fw,fG=(fE[1]-fv[1])/fw,fF=fA+fG,fC=Math.atan2(fB,fF),fD=Math.sqrt(fB*fB+fF*fF);return[(fy+fC/fu)/cR,Math.asin((fs-fD*fD*fu*fu)/(2*fu))/cR]};ft.origin=function(fB){if(!arguments.length){return fz}fz=[+fB[0],+fB[1]];return e()};ft.parallels=function(fB){if(!arguments.length){return fx}fx=[+fB[0],+fB[1]];return e()};ft.scale=function(fB){if(!arguments.length){return fw}fw=+fB;return ft};ft.translate=function(fB){if(!arguments.length){return fv}fv=[+fB[0],+fB[1]];return ft};return e()};d3.geo.albersUsa=function(){function ft(fy){var fx=fy[0],fw=fy[1];return(fw>50?fv:fx<-140?fu:fw<21?fs:e)(fy)}var e=d3.geo.albers();var fv=d3.geo.albers().origin([-160,60]).parallels([55,65]);var fu=d3.geo.albers().origin([-160,20]).parallels([8,18]);var fs=d3.geo.albers().origin([-60,10]).parallels([8,18]);ft.scale=function(fw){if(!arguments.length){return e.scale()}e.scale(fw);fv.scale(fw*0.6);fu.scale(fw);fs.scale(fw*1.5);return ft.translate(e.translate())};ft.translate=function(fx){if(!arguments.length){return e.translate()}var fw=e.scale()/1000,fz=fx[0],fy=fx[1];e.translate(fx);fv.translate([fz-400*fw,fy+170*fw]);fu.translate([fz-190*fw,fy+200*fw]);fs.translate([fz+580*fw,fy+430*fw]);return ft};return ft.scale(e.scale())};d3.geo.bonne=function(){function fx(fB){var fy=fB[0]*cR-e,fC=fB[1]*cR-fu;if(ft){var fA=fs+ft-fC,fz=fy*Math.cos(fC)/fA;fy=fA*Math.sin(fz);fC=fA*Math.cos(fz)-fs}else{fy*=Math.cos(fC);fC*=-1}return[fw*fy+fv[0],fw*fC+fv[1]]}var fw=200,fv=[480,250],e,fu,ft,fs;fx.invert=function(fA){var fy=(fA[0]-fv[0])/fw,fC=(fA[1]-fv[1])/fw;if(ft){var fB=fs+fC,fz=Math.sqrt(fy*fy+fB*fB);fC=fs+ft-fz;fy=e+fz*Math.atan2(fy,fB)/Math.cos(fC)}else{fC*=-1;fy/=Math.cos(fC)}return[fy/cR,fC/cR]};fx.parallel=function(fy){if(!arguments.length){return ft/cR}fs=1/Math.tan(ft=fy*cR);return fx};fx.origin=function(fy){if(!arguments.length){return[e/cR,fu/cR]}e=fy[0]*cR;fu=fy[1]*cR;return fx};fx.scale=function(fy){if(!arguments.length){return fw}fw=+fy;return fx};fx.translate=function(fy){if(!arguments.length){return fv}fv=[+fy[0],+fy[1]];return fx};return fx.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){function e(fv){var fu=fv[0]/360,fw=-fv[1]/360;return[ft*fu+fs[0],ft*fw+fs[1]]}var ft=500,fs=[480,250];e.invert=function(fv){var fu=(fv[0]-fs[0])/ft,fw=(fv[1]-fs[1])/ft;return[360*fu,-360*fw]};e.scale=function(fu){if(!arguments.length){return ft}ft=+fu;return e};e.translate=function(fu){if(!arguments.length){return fs}fs=[+fu[0],+fu[1]];return e};return e};d3.geo.mercator=function(){function e(fv){var fu=fv[0]/360,fw=-(Math.log(Math.tan(Math.PI/4+fv[1]*cR/2))/cR)/360;return[ft*fu+fs[0],ft*Math.max(-0.5,Math.min(0.5,fw))+fs[1]]}var ft=500,fs=[480,250];e.invert=function(fv){var fu=(fv[0]-fs[0])/ft,fw=(fv[1]-fs[1])/ft;return[360*fu,2*Math.atan(Math.exp(-360*fw*cR))/cR-90]};e.scale=function(fu){if(!arguments.length){return ft}ft=+fu;return e};e.translate=function(fu){if(!arguments.length){return fs}fs=[+fu[0],+fu[1]];return e};return e};d3.geo.path=function(){function fB(fF,fE){if(typeof fy==="function"){fC=B(fy.apply(this,arguments))}fs(fF);var fD=fw.length?fw.join(""):null;fw=[];return fD}function fz(fD){return fx(fD).join(",")}function fv(fF){var fE=fu(fF[0]),fD=0,fG=fF.length;while(++fD<fG){fE-=fu(fF[fD])}return fE}function ft(fL){var fJ=d3.geom.polygon(fL[0].map(fx)),fD=fJ.area(),fE=fJ.centroid(fD<0?(fD*=-1,1):-1),fK=fE[0],fI=fE[1],fH=fD,fG=0,fF=fL.length;while(++fG<fF){fJ=d3.geom.polygon(fL[fG].map(fx));fD=fJ.area();fE=fJ.centroid(fD<0?(fD*=-1,1):-1);fK-=fE[0];fI-=fE[1];fH-=fD}return[fK,fI,6*fH]}function fu(fD){return Math.abs(d3.geom.polygon(fD.map(fx)).area())}var fy=4.5,fC=B(fy),fx=d3.geo.albersUsa(),fw=[];var fs=dz({FeatureCollection:function(fF){var fE=fF.features,fD=-1,fG=fE.length;while(++fD<fG){fw.push(fs(fE[fD].geometry))}},Feature:function(fD){fs(fD.geometry)},Point:function(fD){fw.push("M",fz(fD.coordinates),fC)},MultiPoint:function(fF){var fE=fF.coordinates,fD=-1,fG=fE.length;while(++fD<fG){fw.push("M",fz(fE[fD]),fC)}},LineString:function(fF){var fE=fF.coordinates,fD=-1,fG=fE.length;fw.push("M");while(++fD<fG){fw.push(fz(fE[fD]),"L")}fw.pop()},MultiLineString:function(fI){var fH=fI.coordinates,fG=-1,fJ=fH.length,fE,fF,fD;while(++fG<fJ){fE=fH[fG];fF=-1;fD=fE.length;fw.push("M");while(++fF<fD){fw.push(fz(fE[fF]),"L")}fw.pop()}},Polygon:function(fI){var fH=fI.coordinates,fG=-1,fJ=fH.length,fE,fF,fD;while(++fG<fJ){fE=fH[fG];fF=-1;if((fD=fE.length-1)>0){fw.push("M");while(++fF<fD){fw.push(fz(fE[fF]),"L")}fw[fw.length-1]="Z"}}},MultiPolygon:function(fE){var fM=fE.coordinates,fL=-1,fF=fM.length,fI,fK,fG,fJ,fH,fD;while(++fL<fF){fI=fM[fL];fK=-1;fG=fI.length;while(++fK<fG){fJ=fI[fK];fH=-1;if((fD=fJ.length-1)>0){fw.push("M");while(++fH<fD){fw.push(fz(fJ[fH]),"L")}fw[fw.length-1]="Z"}}}},GeometryCollection:function(fF){var fE=fF.geometries,fD=-1,fG=fE.length;while(++fD<fG){fw.push(fs(fE[fD]))}}});var e=fB.area=dz({FeatureCollection:function(fG){var fF=0,fE=fG.features,fD=-1,fH=fE.length;while(++fD<fH){fF+=e(fE[fD])}return fF},Feature:function(fD){return e(fD.geometry)},Polygon:function(fD){return fv(fD.coordinates)},MultiPolygon:function(fG){var fE=0,fF=fG.coordinates,fD=-1,fH=fF.length;while(++fD<fH){fE+=fv(fF[fD])}return fE},GeometryCollection:function(fG){var fF=0,fE=fG.geometries,fD=-1,fH=fE.length;while(++fD<fH){fF+=e(fE[fD])}return fF}},0);var fA=fB.centroid=dz({Feature:function(fD){return fA(fD.geometry)},Polygon:function(fE){var fD=ft(fE.coordinates);return[fD[0]/fD[2],fD[1]/fD[2]]},MultiPolygon:function(fE){var fD=0,fL=fE.coordinates,fF,fK=0,fJ=0,fI=0,fH=-1,fG=fL.length;while(++fH<fG){fF=ft(fL[fH]);fK+=fF[0];fJ+=fF[1];fI+=fF[2]}return[fK/fI,fJ/fI]}});fB.projection=function(fD){fx=fD;return fB};fB.pointRadius=function(fD){if(typeof fD==="function"){fy=fD}else{fy=+fD;fC=B(fy)}return fB};return fB};d3.geo.bounds=function(ft){var fv=Infinity,e=Infinity,fs=-Infinity,fu=-Infinity;bY(ft,function(fw,fx){if(fw<fv){fv=fw}if(fw>fs){fs=fw}if(fx<e){e=fx}if(fx>fu){fu=fx}});return[[fv,e],[fs,fu]]};var ep={Feature:fb,FeatureCollection:dY,GeometryCollection:dg,LineString:d5,MultiLineString:ek,MultiPoint:d5,MultiPolygon:e9,Point:eW,Polygon:by};d3.geo.circle=function(){function fs(){}function fu(fA){return ft.distance(fA)<fy}function fv(fF){var fE=-1,fC=fF.length,fD=[],fI,fH,fG,fB,fA;while(++fE<fC){fA=ft.distance(fG=fF[fE]);if(fA<fy){if(fH){fD.push(fq(fH,fG)((fB-fy)/(fB-fA)))}fD.push(fG);fI=fH=null}else{fH=fG;if(!fI&&fD.length){fD.push(fq(fD[fD.length-1],fH)((fy-fB)/(fA-fB)));fI=fH}}fB=fA}fI=fF[0];fH=fD[0];if(fH&&fG[0]===fI[0]&&fG[1]===fI[1]&&!(fG[0]===fH[0]&&fG[1]===fH[1])){fD.push(fH)}return e(fD)}function e(fG){var fE=0,fH=fG.length,fD,fA,fB=fH?[fG[0]]:fG,fF,fC=ft.source();while(++fE<fH){fF=ft.source(fG[fE-1])(fG[fE]).coordinates;for(fD=0,fA=fF.length;++fD<fA;){fB.push(fF[fD])}}ft.source(fC);return fB}var fz=[0,0],fw=90-0.01,fy=fw*cR,ft=d3.geo.greatArc().source(fz).target(d8);fs.clip=function(fA){if(typeof fz==="function"){ft.source(fz.apply(this,arguments))}return fx(fA)||null};var fx=dz({FeatureCollection:function(fB){var fA=fB.features.map(fx).filter(d8);return fA&&(fB=Object.create(fB),fB.features=fA,fB)},Feature:function(fB){var fA=fx(fB.geometry);return fA&&(fB=Object.create(fB),fB.geometry=fA,fB)},Point:function(fA){return fu(fA.coordinates)&&fA},MultiPoint:function(fB){var fA=fB.coordinates.filter(fu);return fA.length&&{type:fB.type,coordinates:fA}},LineString:function(fB){var fA=fv(fB.coordinates);return fA.length&&(fB=Object.create(fB),fB.coordinates=fA,fB)},MultiLineString:function(fB){var fA=fB.coordinates.map(fv).filter(function(fC){return fC.length});return fA.length&&(fB=Object.create(fB),fB.coordinates=fA,fB)},Polygon:function(fB){var fA=fB.coordinates.map(fv);return fA[0].length&&(fB=Object.create(fB),fB.coordinates=fA,fB)},MultiPolygon:function(fB){var fA=fB.coordinates.map(function(fC){return fC.map(fv)}).filter(function(fC){return fC[0].length});return fA.length&&(fB=Object.create(fB),fB.coordinates=fA,fB)},GeometryCollection:function(fB){var fA=fB.geometries.map(fx).filter(d8);return fA.length&&(fB=Object.create(fB),fB.geometries=fA,fB)}});fs.origin=function(fA){if(!arguments.length){return fz}fz=fA;if(typeof fz!=="function"){ft.source(fz)}return fs};fs.angle=function(fA){if(!arguments.length){return fw}fy=(fw=+fA)*cR;return fs};return d3.rebind(fs,ft,"precision")};d3.geo.greatArc=function(){function fs(){var fB=fs.distance.apply(this,arguments),fy=0,fz=e/fB,fA=[fx];while((fy+=fz)<1){fA.push(ft(fy))}fA.push(fw);return{type:"LineString",coordinates:fA}}var fu=bV,fx,fv=b0,fw,e=6*cR,ft=a6();fs.distance=function(){if(typeof fu==="function"){ft.source(fx=fu.apply(this,arguments))}if(typeof fv==="function"){ft.target(fw=fv.apply(this,arguments))}return ft.distance()};fs.source=function(fy){if(!arguments.length){return fu}fu=fy;if(typeof fu!=="function"){ft.source(fx=fu)}return fs};fs.target=function(fy){if(!arguments.length){return fv}fv=fy;if(typeof fv!=="function"){ft.target(fw=fv)}return fs};fs.precision=function(fy){if(!arguments.length){return e/cR}e=fy*cR;return fs};return fs};d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=function(e,fs){var fA=fs||k(e),fw=[],fy=fA[0],fx=fA[1],fB=0,fz=0,fu=NaN,ft=NaN,fv=0;do{fv=0;if(e(fy-1,fx-1)){fv+=1}if(e(fy,fx-1)){fv+=2}if(e(fy-1,fx)){fv+=4}if(e(fy,fx)){fv+=8}if(fv===6){fB=ft===-1?-1:1;fz=0}else{if(fv===9){fB=0;fz=fu===1?-1:1}else{fB=bQ[fv];fz=bP[fv]}}if(fB!=fu&&fz!=ft){fw.push([fy,fx]);fu=fB;ft=fz}fy+=fB;fx+=fz}while(fA[0]!=fy||fA[1]!=fx);return fw};var bQ=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],bP=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(fA){if(fA.length<3){return[]}var fz=fA.length,fv=fz-1,fG=[],fC=[],fx,fw,fy=0,fu,fE,fs,fB,fH,fF,fD,ft;for(fx=1;fx<fz;++fx){if(fA[fx][1]<fA[fy][1]){fy=fx}else{if(fA[fx][1]==fA[fy][1]){fy=fA[fx][0]<fA[fy][0]?fx:fy}}}for(fx=0;fx<fz;++fx){if(fx===fy){continue}fE=fA[fx][1]-fA[fy][1];fu=fA[fx][0]-fA[fy][0];fG.push({angle:Math.atan2(fE,fu),index:fx})}fG.sort(function(fJ,fI){return fJ.angle-fI.angle});fD=fG[0].angle;fF=fG[0].index;fH=0;for(fx=1;fx<fv;++fx){fw=fG[fx].index;if(fD==fG[fx].angle){fu=fA[fF][0]-fA[fy][0];fE=fA[fF][1]-fA[fy][1];fs=fA[fw][0]-fA[fy][0];fB=fA[fw][1]-fA[fy][1];if(fu*fu+fE*fE>=fs*fs+fB*fB){fG[fx].index=-1}else{fG[fH].index=-1;fD=fG[fx].angle;fH=fx;fF=fw}}else{fD=fG[fx].angle;fH=fx;fF=fw}}fC.push(fy);for(fx=0,fw=0;fx<2;++fw){if(fG[fw].index!==-1){fC.push(fG[fw].index);fx++}}ft=fC.length;for(;fw<fv;++fw){if(fG[fw].index===-1){continue}while(!cd(fC[ft-2],fC[ft-1],fG[fw].index,fA)){--ft}fC[ft++]=fG[fw].index}var e=[];for(fx=0;fx<ft;++fx){e.push(fA[fC[fx]])}return e};d3.geom.polygon=function(e){e.area=function(){var fu=0,fv=e.length,ft=e[fv-1][0]*e[0][1],fs=e[fv-1][1]*e[0][0];while(++fu<fv){ft+=e[fu-1][0]*e[fu][1];fs+=e[fu-1][1]*e[fu][0]}return(fs-ft)*0.5};e.centroid=function(fv){var fw=-1,fz=e.length,ft=0,fy=0,fu,fs=e[fz-1],fx;if(!arguments.length){fv=-1/(6*e.area())}while(++fw<fz){fu=fs;fs=e[fw];fx=fu[0]*fs[1]-fs[0]*fu[1];ft+=(fu[0]+fs[0])*fx;fy+=(fu[1]+fs[1])*fx}return[ft*fv,fy*fv]};e.clip=function(fy){var fA,fv=-1,fs=e.length,fu,ft,fB=e[fs-1],fz,fx,fw;while(++fv<fs){fA=fy.slice();fy.length=0;fz=e[fv];fx=fA[(ft=fA.length)-1];fu=-1;while(++fu<ft){fw=fA[fu];if(u(fw,fB,fz)){if(!u(fx,fB,fz)){fy.push(d9(fx,fw,fB,fz))}fy.push(fw)}else{if(u(fx,fB,fz)){fy.push(d9(fx,fw,fB,fz))}}fx=fw}fB=fz}return fy};return e};d3.geom.voronoi=function(fs){var e=fs.map(function(){return[]});ex(fs,function(fv){var fB,fA,fu,ft,fy,fw;if(fv.a===1&&fv.b>=0){fB=fv.ep.r;fA=fv.ep.l}else{fB=fv.ep.l;fA=fv.ep.r}if(fv.a===1){fy=fB?fB.y:-1000000;fu=fv.c-fv.b*fy;fw=fA?fA.y:1000000;ft=fv.c-fv.b*fw}else{fu=fB?fB.x:-1000000;fy=fv.c-fv.a*fu;ft=fA?fA.x:1000000;fw=fv.c-fv.a*ft}var fz=[fu,fy],fx=[ft,fw];e[fv.region.l.index].push(fz,fx);e[fv.region.r.index].push(fz,fx)});return e.map(function(fv,fu){var ft=fs[fu][0],fw=fs[fu][1];fv.forEach(function(fx){fx.angle=Math.atan2(fx[0]-ft,fx[1]-fw)});return fv.sort(function(fy,fx){return fy.angle-fx.angle}).filter(function(fy,fx){return !fx||fy.angle-fv[fx-1].angle>1e-10})})};var b3={l:"r",r:"l"};d3.geom.delaunay=function(fs){var e=fs.map(function(){return[]}),ft=[];ex(fs,function(fu){e[fu.region.l.index].push(fs[fu.region.r.index])});e.forEach(function(fz,fy){var fw=fs[fy],fv=fw[0],fA=fw[1];fz.forEach(function(fB){fB.angle=Math.atan2(fB[0]-fv,fB[1]-fA)});fz.sort(function(fC,fB){return fC.angle-fB.angle});for(var fx=0,fu=fz.length-1;fx<fu;fx++){ft.push([fw,fz[fx],fz[fx+1]])}});return ft};d3.geom.quadtree=function(fA,ft,fz,e,fy){function fB(fK,fJ,fG,fI,fF,fH){if(isNaN(fJ.x)||isNaN(fJ.y)){return}if(fK.leaf){var fE=fK.point;if(fE){if(Math.abs(fE.x-fJ.x)+Math.abs(fE.y-fJ.y)<0.01){fw(fK,fJ,fG,fI,fF,fH)}else{fK.point=null;fw(fK,fE,fG,fI,fF,fH);fw(fK,fJ,fG,fI,fF,fH)}}else{fK.point=fJ}}else{fw(fK,fJ,fG,fI,fF,fH)}}function fw(fI,fG,fH,fN,fF,fL){var fM=(fH+fF)*0.5,fK=(fN+fL)*0.5,fO=fG.x>=fM,fE=fG.y>=fK,fJ=(fE<<1)+fO;fI.leaf=false;fI=fI.nodes[fJ]||(fI.nodes[fJ]=dF());if(fO){fH=fM}else{fF=fM}if(fE){fN=fK}else{fL=fK}fB(fI,fG,fH,fN,fF,fL)}var fs,fv=-1,fu=fA.length;if(fu&&isNaN(fA[0].x)){fA=fA.map(G)}if(arguments.length<5){if(arguments.length===3){fy=e=fz;fz=ft}else{ft=fz=Infinity;e=fy=-Infinity;while(++fv<fu){fs=fA[fv];if(fs.x<ft){ft=fs.x}if(fs.y<fz){fz=fs.y}if(fs.x>e){e=fs.x}if(fs.y>fy){fy=fs.y}}var fD=e-ft,fC=fy-fz;if(fD>fC){fy=fz+fD}else{e=ft+fC}}}var fx=dF();fx.add=function(fE){fB(fx,fE,ft,fz,e,fy)};fx.visit=function(fE){bC(fE,fx,ft,fz,e,fy)};fA.forEach(fx.add);return fx};d3.time={};var dE=Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];eI.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){dQ.setUTCDate.apply(this._,arguments)},setDay:function(){dQ.setUTCDay.apply(this._,arguments)},setFullYear:function(){dQ.setUTCFullYear.apply(this._,arguments)},setHours:function(){dQ.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){dQ.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){dQ.setUTCMinutes.apply(this._,arguments)},setMonth:function(){dQ.setUTCMonth.apply(this._,arguments)},setSeconds:function(){dQ.setUTCSeconds.apply(this._,arguments)},setTime:function(){dQ.setTime.apply(this._,arguments)}};var dQ=Date.prototype;var H="%a %b %e %H:%M:%S %Y",cV="%m/%d/%y",bU="%H:%M:%S";var bg=o,bG=bg.map(c3),bj=["January","February","March","April","May","June","July","August","September","October","November","December"],ai=bj.map(c3);d3.time.format=function(e){function fs(fw){var fv=[],fx=-1,fu=0,fz,fy;while(++fx<ft){if(e.charCodeAt(fx)==37){fv.push(e.substring(fu,fx),(fy=eh[fz=e.charAt(++fx)])?fy(fw):fz);fu=fx+1}}fv.push(e.substring(fu,fx));return fv.join("")}var ft=e.length;fs.parse=function(fv){var fx={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},fw=cs(fx,e,fv,0);if(fw!=fv.length){return null}if("p" in fx){fx.H=fx.H%12+fx.p*12}var fu=new dE;fu.setFullYear(fx.y,fx.m,fx.d);fu.setHours(fx.H,fx.M,fx.S,fx.L);return fu};fs.toString=function(){return e};return fs};var aW=d3.format("02d"),aV=d3.format("03d"),aU=d3.format("04d"),aS=d3.format("2d");var e5=bB(bg),dG=bB(bG),eK=bB(bj),dx=eC(bj),c1=bB(ai),c7=eC(ai);var eh={a:function(e){return bG[e.getDay()]},A:function(e){return bg[e.getDay()]},b:function(e){return ai[e.getMonth()]},B:function(e){return bj[e.getMonth()]},c:d3.time.format(H),d:function(e){return aW(e.getDate())},e:function(e){return aS(e.getDate())},H:function(e){return aW(e.getHours())},I:function(e){return aW(e.getHours()%12||12)},j:function(e){return aV(1+d3.time.dayOfYear(e))},L:function(e){return aV(e.getMilliseconds())},m:function(e){return aW(e.getMonth()+1)},M:function(e){return aW(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return aW(e.getSeconds())},U:function(e){return aW(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return aW(d3.time.mondayOfYear(e))},x:d3.time.format(cV),X:d3.time.format(bU),y:function(e){return aW(e.getFullYear()%100)},Y:function(e){return aU(e.getFullYear()%10000)},Z:dO,"%":function(e){return"%"}};var ff={a:eH,A:bw,b:at,B:c2,c:cG,d:a7,e:a7,H:ak,I:ak,L:eD,m:es,M:bI,p:e4,S:cm,x:fr,X:en,y:E,Y:aO};var dT=/^\s*\d+/;var d=d3.map({am:0,pm:1});d3.time.format.utc=function(fs){function ft(fu){try{dE=eI;var fv=new dE;fv._=fu;return e(fv)}finally{dE=Date}}var e=d3.time.format(fs);ft.parse=function(fv){try{dE=eI;var fu=e.parse(fv);return fu&&fu._}finally{dE=Date}};ft.toString=e.toString;return ft};var ch=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?b5:ch;b5.parse=function(fs){var e=new Date(fs);return isNaN(e)?null:e};b5.toString=ch.toString;d3.time.second=bM(function(e){return new dE(Math.floor(e/1000)*1000)},function(e,fs){e.setTime(e.getTime()+Math.floor(fs)*1000)},function(e){return e.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=bM(function(e){return new dE(Math.floor(e/60000)*60000)},function(e,fs){e.setTime(e.getTime()+Math.floor(fs)*60000)},function(e){return e.getMinutes()});d3.time.minutes=d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=bM(function(e){var fs=e.getTimezoneOffset()/60;return new dE((Math.floor(e/3600000-fs)+fs)*3600000)},function(e,fs){e.setTime(e.getTime()+Math.floor(fs)*3600000)},function(e){return e.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=bM(function(fs){var e=new dE(1970,0);e.setFullYear(fs.getFullYear(),fs.getMonth(),fs.getDate());return e},function(e,fs){e.setDate(e.getDate()+fs)},function(e){return e.getDate()-1});d3.time.days=d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(e){var fs=d3.time.year(e);return Math.floor((e-fs-(e.getTimezoneOffset()-fs.getTimezoneOffset())*60000)/86400000)};o.forEach(function(fs,ft){fs=fs.toLowerCase();ft=7-ft;var e=d3.time[fs]=bM(function(fu){(fu=d3.time.day(fu)).setDate(fu.getDate()-(fu.getDay()+ft)%7);return fu},function(fu,fv){fu.setDate(fu.getDate()+Math.floor(fv)*7)},function(fv){var fu=d3.time.year(fv).getDay();return Math.floor((d3.time.dayOfYear(fv)+(fu+ft)%7)/7)-(fu!==ft)});d3.time[fs+"s"]=e.range;d3.time[fs+"s"].utc=e.utc.range;d3.time[fs+"OfYear"]=function(fv){var fu=d3.time.year(fv).getDay();return Math.floor((d3.time.dayOfYear(fv)+(fu+ft)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=bM(function(e){e=d3.time.day(e);e.setDate(1);return e},function(e,fs){e.setMonth(e.getMonth()+fs)},function(e){return e.getMonth()});d3.time.months=d3.time.month.range;d3.time.months.utc=d3.time.month.utc.range;d3.time.year=bM(function(e){e=d3.time.day(e);e.setMonth(0,1);return e},function(e,fs){e.setFullYear(e.getFullYear()+fs)},function(e){return e.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;var df=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var bv=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]];var dy=[[d3.time.format("%Y"),function(e){return true}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return e.getDate()!=1}],[d3.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]];var bt=d3.scale.linear(),J=bJ(dy);bv.year=function(fs,e){return bt.domain(fs.map(eJ)).ticks(e).map(cp)};d3.time.scale=function(){return aJ(d3.scale.linear(),bv,J)};var fh=bv.map(function(e){return[e[0].utc,e[1]]});var bd=[[d3.time.format.utc("%Y"),function(e){return true}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]];var c6=bJ(bd);fh.year=function(fs,e){return bt.domain(fs.map(d4)).ticks(e).map(bR)};d3.time.scale.utc=function(){return aJ(d3.scale.linear(),fh,c6)}})();
(function(a,b){if(typeof define==="function"&&define.amd){define(["d3"],function(c){return a.Rickshaw=b(c)})}else{if(typeof exports==="object"){module.exports=b(require("d3"))}else{a.Rickshaw=b(d3)}}})(this,function(b){var a={namespace:function(f,j){var h=f.split(".");var e=a;for(var d=1,g=h.length;d<g;d++){var c=h[d];e[c]=e[c]||{};e=e[c]}return e},keys:function(e){var d=[];for(var c in e){d.push(c)}return d},extend:function(c,e){for(var d in e){c[d]=e[d]}return c},clone:function(c){return JSON.parse(JSON.stringify(c))}};(function(x){var u=Object.prototype.toString,t="Null",k="Undefined",p="Boolean",e="Number",n="String",v="Object",o="[object Function]";function c(y){return u.call(y)===o}function s(y,A){for(var z in A){if(A.hasOwnProperty(z)){y[z]=A[z]}}return y}function m(y){if(j(y)!==v){throw new TypeError}var z=[];for(var A in y){if(y.hasOwnProperty(A)){z.push(A)}}return z}function j(z){switch(z){case null:return t;case void 0:return k}var y=typeof z;switch(y){case"boolean":return p;case"number":return e;case"string":return n}return v}function d(y){return typeof y==="undefined"}var q=Array.prototype.slice;function g(y){var z=y.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return z.length==1&&!z[0]?[]:z}function i(z,A){var y=z;return function(){var B=h([w(y,this)],arguments);return A.apply(this,B)}}function h(B,y){var A=B.length,z=y.length;while(z--){B[A+z]=y[z]}return B}function f(z,y){z=q.call(z,0);return h(z,y)}function w(B,A){if(arguments.length<2&&d(arguments[0])){return this}var y=B,z=q.call(arguments,2);return function(){var C=f(z,arguments);return y.apply(A,C)}}var l=function(){};var r=function(){var B=function(){for(var C in {toString:1}){if(C==="toString"){return false}}return true}();function y(){}function z(){var F=null,E=[].slice.apply(arguments);if(c(E[0])){F=E.shift()}function C(){this.initialize.apply(this,arguments)}s(C,r.Methods);C.superclass=F;C.subclasses=[];if(F){y.prototype=F.prototype;C.prototype=new y;try{F.subclasses.push(C)}catch(H){}}for(var D=0,G=E.length;D<G;D++){C.addMethods(E[D])}if(!C.prototype.initialize){C.prototype.initialize=l}C.prototype.constructor=C;return C}function A(I){var E=this.superclass&&this.superclass.prototype,D=m(I);if(B){if(I.toString!=Object.prototype.toString){D.push("toString")}if(I.valueOf!=Object.prototype.valueOf){D.push("valueOf")}}for(var C=0,F=D.length;C<F;C++){var H=D[C],G=I[H];if(E&&c(G)&&g(G)[0]=="$super"){var J=G;G=i(function(K){return function(){return E[K].apply(this,arguments)}}(H),J);G.valueOf=w(J.valueOf,J);G.toString=w(J.toString,J)}this.prototype[H]=G}return this}return{create:z,Methods:{addMethods:A}}}();if(x.exports){x.exports.Class=r}else{x.Class=r}})(a);a.namespace("Rickshaw.Compat.ClassList");a.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(l){var c="classList",h="prototype",o=(l.HTMLElement||l.Element)[h],d=Object,m=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},e=Array[h].indexOf||function(s){var r=0,q=this.length;for(;r<q;r++){if(r in this&&this[r]===s){return r}}return -1},p=function(q,r){this.name=q;this.code=DOMException[q];this.message=r},i=function(r,q){if(q===""){throw new p("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(q)){throw new p("INVALID_CHARACTER_ERR","String contains an invalid character")}return e.call(r,q)},f=function(u){var t=m.call(u.className),s=t?t.split(/\s+/):[],r=0,q=s.length;for(;r<q;r++){this.push(s[r])}this._updateClassName=function(){u.className=this.toString()}},g=f[h]=[],k=function(){return new f(this)};p[h]=Error[h];g.item=function(q){return this[q]||null};g.contains=function(q){q+="";return i(this,q)!==-1};g.add=function(q){q+="";if(i(this,q)===-1){this.push(q);this._updateClassName()}};g.remove=function(r){r+="";var q=i(this,r);if(q!==-1){this.splice(q,1);this._updateClassName()}};g.toggle=function(q){q+="";if(i(this,q)===-1){this.add(q)}else{this.remove(q)}};g.toString=function(){return this.join(" ")};if(d.defineProperty){var n={get:k,enumerable:true,configurable:true};try{d.defineProperty(o,c,n)}catch(j){if(j.number===-2146823252){n.enumerable=false;d.defineProperty(o,c,n)}}}else{if(d[h].__defineGetter__){o.__defineGetter__(c,k)}}})(window)}};if(typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT||typeof RICKSHAW_NO_COMPAT==="undefined"){new a.Compat.ClassList}a.namespace("Rickshaw.Graph");a.Graph=function(d){var c=this;this.initialize=function(e){if(!e.element){throw"Rickshaw.Graph needs a reference to an element"}if(e.element.nodeType!==1){throw"Rickshaw.Graph element was defined but not an HTML element"}this.element=e.element;this.series=e.series;this.window={};this.updateCallbacks=[];this.configureCallbacks=[];this.defaults={interpolation:"cardinal",offset:"zero",min:undefined,max:undefined,preserve:false,xScale:undefined,yScale:undefined,stack:true};this._loadRenderers();this.configure(e);this.validateSeries(e.series);this.series.active=function(){return c.series.filter(function(f){return !f.disabled})};this.setSize({width:e.width,height:e.height});this.element.classList.add("rickshaw_graph");this.vis=b.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);this.discoverRange()};this._loadRenderers=function(){for(var e in a.Graph.Renderer){if(!e||!a.Graph.Renderer.hasOwnProperty(e)){continue}var f=a.Graph.Renderer[e];if(!f||!f.prototype||!f.prototype.render){continue}c.registerRenderer(new f({graph:c}))}};this.validateSeries=function(f){if(!Array.isArray(f)&&!(f instanceof a.Series)){var e=Object.prototype.toString.apply(f);throw"series is not an array: "+e}var g;f.forEach(function(i){if(!(i instanceof Object)){throw"series element is not an object: "+i}if(!i.data){throw"series has no data: "+JSON.stringify(i)}if(!Array.isArray(i.data)){throw"series data is not an array: "+JSON.stringify(i.data)}if(i.data.length>0){var h=i.data[0].x;var j=i.data[0].y;if(typeof h!="number"||typeof j!="number"&&j!==null){throw"x and y properties of points should be numbers instead of "+typeof h+" and "+typeof j}}if(i.data.length>=3){if(i.data[2].x<i.data[1].x||i.data[1].x<i.data[0].x||i.data[i.data.length-1].x<i.data[0].x){throw"series data needs to be sorted on x values for series name: "+i.name}}},this)};this.dataDomain=function(){var g=this.series.map(function(h){return h.data});var f=b.min(g.map(function(h){return h[0].x}));var e=b.max(g.map(function(h){return h[h.length-1].x}));return[f,e]};this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||b.scale.linear()).copy().domain(e.x).range([0,this.width]);this.y=(this.yScale||b.scale.linear()).copy().domain(e.y).range([this.height,0]);this.x.magnitude=b.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]);this.y.magnitude=b.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])};this.render=function(){var e=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(f){f()})};this.update=this.render;this.stackData=function(){var j=this.series.active().map(function(i){return i.data}).map(function(i){return i.filter(function(k){return this._slice(k)},this)},this);var g=this.preserve;if(!g){this.series.forEach(function(i){if(i.scale){g=true}})}j=g?a.clone(j):j;this.series.active().forEach(function(l,i){if(l.scale){var k=j[i];if(k){k.forEach(function(m){m.y=l.scale(m.y)})}}});this.stackData.hooks.data.forEach(function(i){j=i.f.apply(c,[j])});var f;if(!this.renderer.unstack){this._validateStackable();var h=b.layout.stack();h.offset(c.offset);f=h(j)}f=f||j;if(this.renderer.unstack){f.forEach(function(i){i.forEach(function(k){k.y0=k.y0===undefined?0:k.y0})})}this.stackData.hooks.after.forEach(function(i){f=i.f.apply(c,[j])});var e=0;this.series.forEach(function(i){if(i.disabled){return}i.stack=f[e++]});this.stackedData=f;return f};this._validateStackable=function(){var e=this.series;var f;e.forEach(function(g){f=f||g.data.length;if(f&&g.data.length!=f){throw"stacked series cannot have differing numbers of points: "+f+" vs "+g.data.length+"; see Rickshaw.Series.fill()"}},this)};this.stackData.hooks={data:[],after:[]};this._slice=function(f){if(this.window.xMin||this.window.xMax){var e=true;if(this.window.xMin&&f.x<this.window.xMin){e=false}if(this.window.xMax&&f.x>this.window.xMax){e=false}return e}return true};this.onUpdate=function(e){this.updateCallbacks.push(e)};this.onConfigure=function(e){this.configureCallbacks.push(e)};this.registerRenderer=function(e){this._renderers=this._renderers||{};this._renderers[e.name]=e};this.configure=function(e){this.config=this.config||{};if(e.width||e.height){this.setSize(e)}a.keys(this.defaults).forEach(function(g){this.config[g]=g in e?e[g]:g in this?this[g]:this.defaults[g]},this);a.keys(this.config).forEach(function(g){this[g]=this.config[g]},this);if("stack" in e){e.unstack=!e.stack}var f=e.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(f,e);this.configureCallbacks.forEach(function(g){g(e)})};this.setRenderer=function(f,e){if(typeof f=="function"){this.renderer=new f({graph:c});this.registerRenderer(this.renderer)}else{if(!this._renderers[f]){throw"couldn't find renderer "+f}this.renderer=this._renderers[f]}if(typeof e=="object"){this.renderer.configure(e)}};this.setSize=function(e){e=e||{};if(typeof window!==undefined){var g=window.getComputedStyle(this.element,null);var h=parseInt(g.getPropertyValue("width"),10);var f=parseInt(g.getPropertyValue("height"),10)}this.width=e.width||h||400;this.height=e.height||f||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};this.initialize(d)};a.namespace("Rickshaw.Fixtures.Color");a.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};a.namespace("Rickshaw.Fixtures.RandomData");a.Fixtures.RandomData=function(d){var f;d=d||1;var c=200;var e=Math.floor((new Date).getTime()/1000);this.addData=function(j){var i=Math.random()*100+15+c;var h=j[0].length;var g=1;j.forEach(function(l){var m=Math.random()*20;var k=i/25+g+++(Math.cos(h*g*11/960)+2)*15+(Math.cos(h/7)+2)*7+(Math.cos(h/17)+2)*1;l.push({x:h*d+e,y:k+m})});c=i*0.85};this.removeData=function(g){g.forEach(function(h){h.shift()});e+=d}};a.namespace("Rickshaw.Fixtures.Time");a.Fixtures.Time=function(){var c=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(e){return parseInt(e.getUTCFullYear()/10,10)*10}},{name:"year",seconds:86400*365.25,formatter:function(e){return e.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(e){return c.months[e.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(e){return c.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(e){return c.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return c.formatTime(e)}},{name:"15 minute",seconds:60*15,formatter:function(e){return c.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"decisecond",seconds:1/10,formatter:function(e){return e.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:1/100,formatter:function(e){return e.getUTCMilliseconds()+"ms"}}];this.unit=function(d){return this.units.filter(function(e){return d==e.name}).shift()};this.formatDate=function(e){return b.time.format("%b %e")(e)};this.formatTime=function(e){return e.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(i,g){var d,f,e;if(g.name=="month"){d=new Date(i*1000);f=Date.UTC(d.getUTCFullYear(),d.getUTCMonth())/1000;if(f==i){return i}e=d.getUTCFullYear();var h=d.getUTCMonth();if(h==11){h=0;e=e+1}else{h+=1}return Date.UTC(e,h)/1000}if(g.name=="year"){d=new Date(i*1000);f=Date.UTC(d.getUTCFullYear(),0)/1000;if(f==i){return i}e=d.getUTCFullYear()+1;return Date.UTC(e,0)/1000}return Math.ceil(i/g.seconds)*g.seconds}};a.namespace("Rickshaw.Fixtures.Time.Local");a.Fixtures.Time.Local=function(){var c=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(e){return parseInt(e.getFullYear()/10,10)*10}},{name:"year",seconds:86400*365.25,formatter:function(e){return e.getFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(e){return c.months[e.getMonth()]}},{name:"week",seconds:86400*7,formatter:function(e){return c.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getDate()}},{name:"6 hour",seconds:3600*6,formatter:function(e){return c.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return c.formatTime(e)}},{name:"15 minute",seconds:60*15,formatter:function(e){return c.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getSeconds()+"s"}},{name:"decisecond",seconds:1/10,formatter:function(e){return e.getMilliseconds()+"ms"}},{name:"centisecond",seconds:1/100,formatter:function(e){return e.getMilliseconds()+"ms"}}];this.unit=function(d){return this.units.filter(function(e){return d==e.name}).shift()};this.formatDate=function(e){return b.time.format("%b %e")(e)};this.formatTime=function(e){return e.toString().match(/(\d+:\d+):/)[1]};this.ceil=function(k,h){var e,g,f;if(h.name=="day"){var i=new Date((k+h.seconds-1)*1000);var d=new Date(0);d.setMilliseconds(0);d.setSeconds(0);d.setMinutes(0);d.setHours(0);d.setDate(i.getDate());d.setMonth(i.getMonth());d.setFullYear(i.getFullYear());return d.getTime()/1000}if(h.name=="month"){e=new Date(k*1000);g=new Date(e.getFullYear(),e.getMonth()).getTime()/1000;if(g==k){return k}f=e.getFullYear();var j=e.getMonth();if(j==11){j=0;f=f+1}else{j+=1}return new Date(f,j).getTime()/1000}if(h.name=="year"){e=new Date(k*1000);g=new Date(e.getUTCFullYear(),0).getTime()/1000;if(g==k){return k}f=e.getFullYear()+1;return new Date(f,0).getTime()/1000}return Math.ceil(k/h.seconds)*h.seconds}};a.namespace("Rickshaw.Fixtures.Number");a.Fixtures.Number.formatKMBT=function(d){var c=Math.abs(d);if(c>=1000000000000){return d/1000000000000+"T"}else{if(c>=1000000000){return d/1000000000+"B"}else{if(c>=1000000){return d/1000000+"M"}else{if(c>=1000){return d/1000+"K"}else{if(c<1&&d>0){return d.toFixed(2)}else{if(c===0){return""}else{return d}}}}}}};a.Fixtures.Number.formatBase1024KMGTP=function(d){var c=Math.abs(d);if(c>=1125899906842624){return d/1125899906842624+"P"}else{if(c>=1099511627776){return d/1099511627776+"T"}else{if(c>=1073741824){return d/1073741824+"G"}else{if(c>=1048576){return d/1048576+"M"}else{if(c>=1024){return d/1024+"K"}else{if(c<1&&d>0){return d.toFixed(2)}else{if(c===0){return""}else{return d}}}}}}}};a.namespace("Rickshaw.Color.Palette");a.Color.Palette=function(g){var d=new a.Fixtures.Color;g=g||{};this.schemes={};this.scheme=d.schemes[g.scheme]||g.scheme||d.schemes.colorwheel;this.runningIndex=0;this.generatorIndex=0;if(g.interpolatedStopCount){var f=this.scheme.length-1;var h,e,c=[];for(h=0;h<f;h++){c.push(this.scheme[h]);var k=b.interpolateHsl(this.scheme[h],this.scheme[h+1]);for(e=1;e<g.interpolatedStopCount;e++){c.push(k(1/g.interpolatedStopCount*e))}}c.push(this.scheme[this.scheme.length-1]);this.scheme=c}this.rotateCount=this.scheme.length;this.color=function(i){return this.scheme[i]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(!Array.isArray(this.scheme)){return}var i;if(this.generatorIndex==this.rotateCount*2-1){i=b.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(0.5);this.generatorIndex=0;this.rotateCount*=2}else{i=b.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(0.5);this.generatorIndex++}this.scheme.push(i);return i}};a.namespace("Rickshaw.Graph.Ajax");a.Graph.Ajax=a.Class.create({initialize:function(c){this.dataURL=c.dataURL;this.onData=c.onData||function(e){return e};this.onComplete=c.onComplete||function(){};this.onError=c.onError||function(){};this.args=c;this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(d,c){d=this.onData(d);this.args.series=this._splice({data:d,series:this.args.series});this.graph=this.graph||new a.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(c){var e=c.data;var d=c.series;if(!c.series){return e}d.forEach(function(g){var f=g.key||g.name;if(!f){throw"series needs a key or a name"}e.forEach(function(j){var i=j.key||j.name;if(!i){throw"data needs a key or a name"}if(f==i){var h=["color","name","data"];h.forEach(function(k){if(j[k]){g[k]=j[k]}})}})});return d}});a.namespace("Rickshaw.Graph.Annotate");a.Graph.Annotate=function(d){var e=this.graph=d.graph;this.elements={timeline:d.element};var c=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(h,g,f){c.data[h]=c.data[h]||{boxes:[]};c.data[h].boxes.push({content:g,end:f})};this.update=function(){a.keys(c.data).forEach(function(i){var f=c.data[i];var h=c.graph.x(i);if(h<0||h>c.graph.x.range()[1]){if(f.element){f.line.classList.add("offscreen");f.element.style.display="none"}f.boxes.forEach(function(j){if(j.rangeElement){j.rangeElement.classList.add("offscreen")}});return}if(!f.element){var g=f.element=document.createElement("div");g.classList.add("annotation");this.elements.timeline.appendChild(g);g.addEventListener("click",function(j){g.classList.toggle("active");f.line.classList.toggle("active");f.boxes.forEach(function(k){if(k.rangeElement){k.rangeElement.classList.toggle("active")}})},false)}f.element.style.left=h+"px";f.element.style.display="block";f.boxes.forEach(function(l){var k=l.element;if(!k){k=l.element=document.createElement("div");k.classList.add("content");k.innerHTML=l.content;f.element.appendChild(k);f.line=document.createElement("div");f.line.classList.add("annotation_line");c.graph.element.appendChild(f.line);if(l.end){l.rangeElement=document.createElement("div");l.rangeElement.classList.add("annotation_range");c.graph.element.appendChild(l.rangeElement)}}if(l.end){var m=h;var n=Math.min(c.graph.x(l.end),c.graph.x.range()[1]);if(m>n){n=h;m=Math.max(c.graph.x(l.end),c.graph.x.range()[0])}var j=n-m;l.rangeElement.style.left=m+"px";l.rangeElement.style.width=j+"px";l.rangeElement.classList.remove("offscreen")}f.line.classList.remove("offscreen");f.line.style.left=h+"px"})},this)};this.graph.onUpdate(function(){c.update()})};a.namespace("Rickshaw.Graph.Axis.Time");a.Graph.Axis.Time=function(d){var c=this;this.graph=d.graph;this.elements=[];this.ticksTreatment=d.ticksTreatment||"plain";this.fixedTimeUnit=d.timeUnit;var e=d.timeFixture||new a.Fixtures.Time;this.appropriateTimeUnit=function(){var h;var g=e.units;var i=this.graph.x.domain();var f=i[1]-i[0];g.forEach(function(j){if(Math.floor(f/j.seconds)>=2){h=h||j}});return h||e.units[e.units.length-1]};this.tickOffsets=function(){var m=this.graph.x.domain();var l=this.fixedTimeUnit||this.appropriateTimeUnit();var k=Math.ceil((m[1]-m[0])/l.seconds);var f=m[0];var j=[];for(var h=0;h<k;h++){var g=e.ceil(f,l);f=g+l.seconds/2;j.push({value:g,unit:l})}return j};this.render=function(){this.elements.forEach(function(g){g.parentNode.removeChild(g)});this.elements=[];var f=this.tickOffsets();f.forEach(function(i){if(c.graph.x(i.value)>c.graph.x.range()[1]){return}var g=document.createElement("div");g.style.left=c.graph.x(i.value)+"px";g.classList.add("x_tick");g.classList.add(c.ticksTreatment);var h=document.createElement("div");h.classList.add("title");h.innerHTML=i.unit.formatter(new Date(i.value*1000));g.appendChild(h);c.graph.element.appendChild(g);c.elements.push(g)})};this.graph.onUpdate(function(){c.render()})};a.namespace("Rickshaw.Graph.Axis.X");a.Graph.Axis.X=function(d){var c=this;var e=0.1;this.initialize=function(f){this.graph=f.graph;this.orientation=f.orientation||"top";this.pixelsPerTick=f.pixelsPerTick||75;if(f.ticks){this.staticTicks=f.ticks}if(f.tickValues){this.tickValues=f.tickValues}this.tickSize=f.tickSize||4;this.ticksTreatment=f.ticksTreatment||"plain";if(f.element){this.element=f.element;this._discoverSize(f.element,f);this.vis=b.select(f.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3");this.element=this.vis[0][0];this.element.style.position="relative";this.setSize({width:f.width,height:f.height})}else{this.vis=this.graph.vis}this.graph.onUpdate(function(){c.render()})};this.setSize=function(g){g=g||{};if(!this.element){return}this._discoverSize(this.element.parentNode,g);this.vis.attr("height",this.height).attr("width",this.width*(1+e));var f=Math.floor(this.width*e/2);this.element.style.left=-1*f+"px"};this.render=function(){if(this._renderWidth!==undefined&&this.graph.width!==this._renderWidth){this.setSize({auto:true})}var i=b.svg.axis().scale(this.graph.x).orient(this.orientation);i.tickFormat(d.tickFormat||function(k){return k});if(this.tickValues){i.tickValues(this.tickValues)}this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var f=Math.floor(this.width*e/2)||0;var h;if(this.orientation=="top"){var j=this.height||this.graph.height;h="translate("+f+","+j+")"}else{h="translate("+f+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",h).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var g=(this.orientation=="bottom"?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(i.ticks(this.ticks).tickSubdivide(0).tickSize(g)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)});this._renderHeight=this.graph.height};this._discoverSize=function(g,f){if(typeof window!=="undefined"){var i=window.getComputedStyle(g,null);var h=parseInt(i.getPropertyValue("height"),10);if(!f.auto){var j=parseInt(i.getPropertyValue("width"),10)}}this.width=(f.width||j||this.graph.width)*(1+e);this.height=f.height||h||40};this.initialize(d)};a.namespace("Rickshaw.Graph.Axis.Y");a.Graph.Axis.Y=a.Class.create({initialize:function(d){this.graph=d.graph;this.orientation=d.orientation||"right";this.pixelsPerTick=d.pixelsPerTick||75;if(d.ticks){this.staticTicks=d.ticks}if(d.tickValues){this.tickValues=d.tickValues}this.tickSize=d.tickSize||4;this.ticksTreatment=d.ticksTreatment||"plain";this.tickFormat=d.tickFormat||function(e){return e};this.berthRate=0.1;if(d.element){this.element=d.element;this.vis=b.select(d.element).append("svg:svg").attr("class","rickshaw_graph y_axis");this.element=this.vis[0][0];this.element.style.position="relative";this.setSize({width:d.width,height:d.height})}else{this.vis=this.graph.vis}var c=this;this.graph.onUpdate(function(){c.render()})},setSize:function(d){d=d||{};if(!this.element){return}if(typeof window!=="undefined"){var f=window.getComputedStyle(this.element.parentNode,null);var g=parseInt(f.getPropertyValue("width"),10);if(!d.auto){var e=parseInt(f.getPropertyValue("height"),10)}}this.width=d.width||g||this.graph.width*this.berthRate;this.height=d.height||e||this.graph.height;this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var c=this.height*this.berthRate;if(this.orientation=="left"){this.element.style.top=-1*c+"px"}},render:function(){if(this._renderHeight!==undefined&&this.graph.height!==this._renderHeight){this.setSize({auto:true})}this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var c=this._drawAxis(this.graph.y);this._drawGrid(c);this._renderHeight=this.graph.height},_drawAxis:function(f){var e=b.svg.axis().scale(f).orient(this.orientation);e.tickFormat(this.tickFormat);if(this.tickValues){e.tickValues(this.tickValues)}if(this.orientation=="left"){var c=this.height*this.berthRate;var d="translate("+this.width+", "+c+")"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",d).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));return e},_drawGrid:function(d){var c=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(d.ticks(this.ticks).tickSubdivide(0).tickSize(c)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}});a.namespace("Rickshaw.Graph.Axis.Y.Scaled");a.Graph.Axis.Y.Scaled=a.Class.create(a.Graph.Axis.Y,{initialize:function($super,c){if(typeof c.scale==="undefined"){throw new Error("Scaled requires scale")}this.scale=c.scale;if(typeof c.grid==="undefined"){this.grid=true}else{this.grid=c.grid}$super(c)},_drawAxis:function($super,e){var g=this.scale.domain();var d=this.graph.renderer.domain().y;var i=[Math.min.apply(Math,g),Math.max.apply(Math,g)];var f=b.scale.linear().domain([0,1]).range(i);var h=[f(d[0]),f(d[1])];var j=b.scale.linear().domain(i).range(h);var c=this.scale.copy().domain(g.map(j)).range(e.range());return $super(c)},_drawGrid:function($super,c){if(this.grid){$super(c)}}});a.namespace("Rickshaw.Graph.Behavior.Series.Highlight");a.Graph.Behavior.Series.Highlight=function(d){this.graph=d.graph;this.legend=d.legend;var c=this;var g={};var f=null;var e=d.disabledColor||function(h){return b.interpolateRgb(h,b.rgb("#d8d8d8"))(0.8).toString()};this.addHighlightEvents=function(h){h.element.addEventListener("mouseover",function(i){if(f){return}else{f=h}c.legend.lines.forEach(function(j){if(h===j){if(c.graph.renderer.unstack&&(j.series.renderer?j.series.renderer.unstack:true)){var k=c.graph.series.indexOf(j.series);j.originalIndex=k;var l=c.graph.series.splice(k,1)[0];c.graph.series.push(l)}return}g[j.series.name]=g[j.series.name]||j.series.color;j.series.color=e(j.series.color)});c.graph.update()},false);h.element.addEventListener("mouseout",function(i){if(!f){return}else{f=null}c.legend.lines.forEach(function(j){if(h===j&&j.hasOwnProperty("originalIndex")){var k=c.graph.series.pop();c.graph.series.splice(j.originalIndex,0,k);delete j.originalIndex}if(g[j.series.name]){j.series.color=g[j.series.name]}});c.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(h){c.addHighlightEvents(h)})}};a.namespace("Rickshaw.Graph.Behavior.Series.Order");a.Graph.Behavior.Series.Order=function(d){this.graph=d.graph;this.legend=d.legend;var c=this;if(typeof window.jQuery=="undefined"){throw"couldn't find jQuery at window.jQuery"}if(typeof window.jQuery.ui=="undefined"){throw"couldn't find jQuery UI at window.jQuery.ui"}jQuery(function(){jQuery(c.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(g,h){var f=[];jQuery(c.legend.list).find("li").each(function(i,j){if(!j.series){return}f.push(j.series)});for(var e=c.graph.series.length-1;e>=0;e--){c.graph.series[e]=f.shift()}c.graph.update()}});jQuery(c.legend.list).disableSelection()});this.graph.onUpdate(function(){var e=window.getComputedStyle(c.legend.element).height;c.legend.element.style.height=e})};a.namespace("Rickshaw.Graph.Behavior.Series.Toggle");a.Graph.Behavior.Series.Toggle=function(d){this.graph=d.graph;this.legend=d.legend;var c=this;this.addAnchor=function(f){var h=document.createElement("a");h.innerHTML="&#10004;";h.classList.add("action");f.element.insertBefore(h,f.element.firstChild);h.onclick=function(i){if(f.series.disabled){f.series.enable();f.element.classList.remove("disabled")}else{if(this.graph.series.filter(function(j){return !j.disabled}).length<=1){return}f.series.disable();f.element.classList.add("disabled")}}.bind(this);var g=f.element.getElementsByTagName("span")[0];g.onclick=function(n){var m=f.series.disabled;if(!m){for(var k=0;k<c.legend.lines.length;k++){var j=c.legend.lines[k];if(f.series===j.series){}else{if(j.series.disabled){}else{m=true;break}}}}if(m){f.series.enable();f.element.classList.remove("disabled");c.legend.lines.forEach(function(i){if(f.series===i.series){}else{i.series.disable();i.element.classList.add("disabled")}})}else{c.legend.lines.forEach(function(i){i.series.enable();i.element.classList.remove("disabled")})}}};if(this.legend){var e=jQuery;if(typeof e!="undefined"&&e(this.legend.list).sortable){e(this.legend.list).sortable({start:function(f,g){g.item.bind("no.onclick",function(h){h.preventDefault()})},stop:function(f,g){setTimeout(function(){g.item.unbind("no.onclick")},250)}})}this.legend.lines.forEach(function(f){c.addAnchor(f)})}this._addBehavior=function(){this.graph.series.forEach(function(f){f.disable=function(){if(c.graph.series.length<=1){throw"only one series left"}f.disabled=true;c.graph.update()};f.enable=function(){f.disabled=false;c.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};a.namespace("Rickshaw.Graph.HoverDetail");a.Graph.HoverDetail=a.Class.create({initialize:function(c){var e=this.graph=c.graph;this.xFormatter=c.xFormatter||function(f){return new Date(f*1000).toUTCString()};this.yFormatter=c.yFormatter||function(f){return f===null?f:f.toFixed(2)};var d=this.element=document.createElement("div");d.className="detail";this.visible=true;e.element.appendChild(d);this.lastEvent=null;this._addListeners();this.onShow=c.onShow;this.onHide=c.onHide;this.onRender=c.onRender;this.formatter=c.formatter||this.formatter},formatter:function(g,c,i,f,e,h){return g.name+":&nbsp;"+e},update:function(i){i=i||this.lastEvent;if(!i){return}this.lastEvent=i;if(!i.target.nodeName.match(/^(path|svg|rect|circle)$/)){return}var m=this.graph;var d=i.offsetX||i.layerX;var c=i.offsetY||i.layerY;var g=0;var l=[];var k;this.graph.series.active().forEach(function(p){var o=this.graph.stackedData[g++];if(!o.length){return}var j=m.x.invert(d);var r=b.scale.linear().domain([o[0].x,o.slice(-1)[0].x]).range([0,o.length-1]);var w=Math.round(r(j));if(w==o.length-1){w--}var t=Math.min(w||0,o.length-1);for(var q=w;q<o.length-1;){if(!o[q]||!o[q+1]){break}if(o[q].x<=j&&o[q+1].x>j){t=Math.abs(j-o[q].x)<Math.abs(j-o[q+1].x)?q:q+1;break}if(o[q+1].x<=j){q++}else{q--}}if(t<0){t=0}var v=o[t];var e=Math.sqrt(Math.pow(Math.abs(m.x(v.x)-d),2)+Math.pow(Math.abs(m.y(v.y+v.y0)-c),2));var n=p.xFormatter||this.xFormatter;var s=p.yFormatter||this.yFormatter;var u={formattedXValue:n(v.x),formattedYValue:s(p.scale?p.scale.invert(v.y):v.y),series:p,value:v,distance:e,order:g,name:p.name};if(!k||e<k.distance){k=u}l.push(u)},this);if(!k){return}k.active=true;var f=k.value.x;var h=k.formattedXValue;this.element.innerHTML="";this.element.style.left=m.x(f)+"px";this.visible&&this.render({points:l,detail:l,mouseX:d,mouseY:c,formattedXValue:h,domainX:f})},hide:function(){this.visible=false;this.element.classList.add("inactive");if(typeof this.onHide=="function"){this.onHide()}},show:function(){this.visible=true;this.element.classList.remove("inactive");if(typeof this.onShow=="function"){this.onShow()}},render:function(j){var o=this.graph;var n=j.points;var l=n.filter(function(q){return q.active}).shift();if(l.value.y===null){return}var i=l.formattedXValue;var m=l.formattedYValue;this.element.innerHTML="";this.element.style.left=o.x(l.value.x)+"px";var g=document.createElement("div");g.className="x_label";g.innerHTML=i;this.element.appendChild(g);var p=document.createElement("div");p.className="item";var h=l.series;var c=h.scale?h.scale.invert(l.value.y):l.value.y;p.innerHTML=this.formatter(h,l.value.x,c,i,m,l);p.style.top=this.graph.y(l.value.y0+l.value.y)+"px";this.element.appendChild(p);var d=document.createElement("div");d.className="dot";d.style.top=p.style.top;d.style.borderColor=h.color;this.element.appendChild(d);if(l.active){p.classList.add("active");d.classList.add("active")}var k=[g,p];k.forEach(function(q){q.classList.add("left")});this.show();var e=this._calcLayoutError(k);if(e>0){k.forEach(function(q){q.classList.remove("left");q.classList.add("right")});var f=this._calcLayoutError(k);if(f>e){k.forEach(function(q){q.classList.remove("right");q.classList.add("left")})}}if(typeof this.onRender=="function"){this.onRender(j)}},_calcLayoutError:function(e){var c=this.element.parentNode.getBoundingClientRect();var d=0;var f=e.forEach(function(g){var h=g.getBoundingClientRect();if(!h.width){return}if(h.right>c.right){d+=h.right-c.right}if(h.left<c.left){d+=c.left-h.left}});return d},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(c){this.visible=true;this.update(c)}.bind(this),false);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(c){if(c.relatedTarget&&!(c.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){this.hide()}}.bind(this),false)}});a.namespace("Rickshaw.Graph.JSONP");a.Graph.JSONP=a.Class.create(a.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});a.namespace("Rickshaw.Graph.Legend");a.Graph.Legend=a.Class.create({className:"rickshaw_legend",initialize:function(c){this.element=c.element;this.graph=c.graph;this.naturalOrder=c.naturalOrder;this.element.classList.add(this.className);this.list=document.createElement("ul");this.element.appendChild(this.list);this.render();this.graph.onUpdate(function(){})},render:function(){var c=this;while(this.list.firstChild){this.list.removeChild(this.list.firstChild)}this.lines=[];var d=this.graph.series.map(function(e){return e});if(!this.naturalOrder){d=d.reverse()}d.forEach(function(e){c.addLine(e)})},addLine:function(e){var c=document.createElement("li");c.className="line";if(e.disabled){c.className+=" disabled"}if(e.className){b.select(c).classed(e.className,true)}var f=document.createElement("div");f.className="swatch";f.style.backgroundColor=e.color;c.appendChild(f);var d=document.createElement("span");d.className="label";d.innerHTML=e.name;c.appendChild(d);this.list.appendChild(c);c.series=e;if(e.noLegend){c.style.display="none"}var g={element:c,series:e};if(this.shelving){this.shelving.addAnchor(g);this.shelving.updateBehaviour()}if(this.highlighter){this.highlighter.addHighlightEvents(g)}this.lines.push(g);return c}});a.namespace("Rickshaw.Graph.RangeSlider");a.Graph.RangeSlider=a.Class.create({initialize:function(c){var d=this.element=c.element;var e=this.graph=c.graph;this.slideCallbacks=[];this.build();e.onUpdate(function(){this.update()}.bind(this))},build:function(){var d=this.element;var g=this.graph;var f=jQuery;var e=g.dataDomain();var c=this;f(function(){f(d).slider({range:true,min:e[0],max:e[1],values:[e[0],e[1]],slide:function(h,j){if(j.values[1]<=j.values[0]){return}g.window.xMin=j.values[0];g.window.xMax=j.values[1];g.update();var i=g.dataDomain();if(i[0]==j.values[0]){g.window.xMin=undefined}if(i[1]==j.values[1]){g.window.xMax=undefined}c.slideCallbacks.forEach(function(k){k(g,g.window.xMin,g.window.xMax)})}})});f(d)[0].style.width=g.width+"px"},update:function(){var d=this.element;var g=this.graph;var f=jQuery;var c=f(d).slider("option","values");var e=g.dataDomain();f(d).slider("option","min",e[0]);f(d).slider("option","max",e[1]);if(g.window.xMin==null){c[0]=e[0]}if(g.window.xMax==null){c[1]=e[1]}f(d).slider("option","values",c)},onSlide:function(c){this.slideCallbacks.push(c)}});a.namespace("Rickshaw.Graph.RangeSlider.Preview");a.Graph.RangeSlider.Preview=a.Class.create({initialize:function(c){if(!c.element){throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element"}if(!c.graph&&!c.graphs){throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs"}this.element=c.element;this.element.style.position="relative";this.graphs=c.graph?[c.graph]:c.graphs;this.defaults={height:75,width:400,gripperColor:undefined,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:0.2};this.heightRatio=c.heightRatio||this.defaults.heightRatio;this.defaults.gripperColor=b.rgb(this.defaults.frameColor).darker().toString();this.configureCallbacks=[];this.slideCallbacks=[];this.previews=[];if(!c.width){this.widthFromGraph=true}if(!c.height){this.heightFromGraph=true}if(this.widthFromGraph||this.heightFromGraph){this.graphs[0].onConfigure(function(){this.configure(c);this.render()}.bind(this))}c.width=c.width||this.graphs[0].width||this.defaults.width;c.height=c.height||this.graphs[0].height*this.heightRatio||this.defaults.height;this.configure(c);this.render()},onSlide:function(c){this.slideCallbacks.push(c)},onConfigure:function(c){this.configureCallbacks.push(c)},configure:function(c){this.config=this.config||{};this.configureCallbacks.forEach(function(d){d(c)});a.keys(this.defaults).forEach(function(d){this.config[d]=d in c?c[d]:d in this.config?this.config[d]:this.defaults[d]},this);if("width" in c||"height" in c){if(this.widthFromGraph){this.config.width=this.graphs[0].width}if(this.heightFromGraph){this.config.height=this.graphs[0].height*this.heightRatio;this.previewHeight=this.config.height}this.previews.forEach(function(h){var d=this.previewHeight/this.graphs.length-this.config.frameTopThickness*2;var g=this.config.width-this.config.frameHandleThickness*2;h.setSize({width:g,height:d});if(this.svg){var e=d+this.config.frameHandleThickness*2;var f=g+this.config.frameHandleThickness*2;this.svg.style("width",f+"px");this.svg.style("height",e+"px")}},this)}},render:function(){var f=this;this.svg=b.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]);this.previewHeight=this.config.height-this.config.frameTopThickness*2;this.previewWidth=this.config.width-this.config.frameHandleThickness*2;this.currentFrame=[0,this.previewWidth];var h=function(m,k){var l=a.extend({},m.config);var j=f.previewHeight/f.graphs.length;var o=m.renderer.name;a.extend(l,{element:this.appendChild(document.createElement("div")),height:j,width:f.previewWidth,series:m.series,renderer:o});var n=new a.Graph(l);f.previews.push(n);m.onUpdate(function(){n.render();f.render()});m.onConfigure(function(p){delete p.height;p.width=p.width-f.config.frameHandleThickness*2;n.configure(p);n.render()});n.render()};var g=b.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs);var e="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";g.enter().append("div").classed("rickshaw_range_slider_preview_container",true).style("-webkit-transform",e).style("-moz-transform",e).style("-ms-transform",e).style("transform",e).each(h);g.exit().remove();var d=this.graphs[0];var c=b.scale.linear().domain([0,this.previewWidth]).range(d.dataDomain());var i=[d.window.xMin,d.window.xMax];this.currentFrame[0]=i[0]===undefined?0:Math.round(c.invert(i[0]));if(this.currentFrame[0]<0){this.currentFrame[0]=0}this.currentFrame[1]=i[1]===undefined?this.previewWidth:c.invert(i[1]);if(this.currentFrame[1]-this.currentFrame[0]<f.config.minimumFrameWidth){this.currentFrame[1]=(this.currentFrame[0]||0)+f.config.minimumFrameWidth}this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",true).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0);this._renderDimming();this._renderFrame();this._renderGrippers();this._renderHandles();this._renderMiddle();this._registerMouseEvents()},_renderDimming:function(){var c=this.svg.selectAll("path.dimming").data([null]);c.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",true);var d="";d+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness;d+=" h "+this.previewWidth;d+=" v "+this.previewHeight;d+=" h "+-this.previewWidth;d+=" z ";d+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness;d+=" H "+Math.min(this.currentFrame[1]+this.config.frameHandleThickness*2,this.previewWidth+this.config.frameHandleThickness);d+=" v "+this.previewHeight;d+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness);d+=" z";c.attr("d",d)},_renderFrame:function(){var c=this.svg.selectAll("path.frame").data([null]);c.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",true);var d="";d+=" M "+this.currentFrame[0]+" 0";d+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness*2);d+=" V "+this.config.height;d+=" H "+this.currentFrame[0];d+=" z";d+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness;d+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness);d+=" v "+this.previewHeight;d+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness);d+=" z";c.attr("d",d)},_renderGrippers:function(){var c=this.svg.selectAll("path.gripper").data([null]);c.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",true);var d="";[0.4,0.6].forEach(function(e){d+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*e)+" "+Math.round(this.config.height*0.3);d+=" V "+Math.round(this.config.height*0.7);d+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+e))+" "+Math.round(this.config.height*0.3);d+=" V "+Math.round(this.config.height*0.7)}.bind(this));c.attr("d",d)},_renderHandles:function(){var c=this.svg.selectAll("rect.left_handle").data([null]);c.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",true);c.attr("x",this.currentFrame[0]).attr("height",this.config.height);var d=this.svg.selectAll("rect.right_handle").data([null]);d.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",true);d.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var c=this.svg.selectAll("rect.middle_handle").data([null]);c.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",true);c.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){var f=b.select(this.element);var i={target:null,start:null,stop:null,left:false,right:false,rigid:false};var k=this;function j(l,m){i.stop=k._getClientXFromEvent(b.event,i);var p=i.stop-i.start;var q=k.frameBeforeDrag.slice(0);var o=k.config.minimumFrameWidth;if(i.rigid){o=k.frameBeforeDrag[1]-k.frameBeforeDrag[0]}if(i.left){q[0]=Math.max(q[0]+p,0)}if(i.right){q[1]=Math.min(q[1]+p,k.previewWidth)}var n=q[1]-q[0];if(n<=o){if(i.left){q[0]=q[1]-o}if(i.right){q[1]=q[0]+o}if(q[0]<=0){q[1]-=q[0];q[0]=0}if(q[1]>=k.previewWidth){q[0]-=q[1]-k.previewWidth;q[1]=k.previewWidth}}k.graphs.forEach(function(t){var r=b.scale.linear().interpolate(b.interpolateNumber).domain([0,k.previewWidth]).range(t.dataDomain());var s=[r(q[0]),r(q[1])];k.slideCallbacks.forEach(function(u){u(t,s[0],s[1])});if(q[0]===0){s[0]=undefined}if(q[1]===k.previewWidth){s[1]=undefined}t.window.xMin=s[0];t.window.xMax=s[1];t.update()})}function g(){i.target=b.event.target;i.start=k._getClientXFromEvent(b.event,i);k.frameBeforeDrag=k.currentFrame.slice();b.event.preventDefault?b.event.preventDefault():b.event.returnValue=false;b.select(document).on("mousemove.rickshaw_range_slider_preview",j);b.select(document).on("mouseup.rickshaw_range_slider_preview",e);b.select(document).on("touchmove.rickshaw_range_slider_preview",j);b.select(document).on("touchend.rickshaw_range_slider_preview",e);b.select(document).on("touchcancel.rickshaw_range_slider_preview",e)}function d(l,m){i.left=true;g()}function h(l,m){i.right=true;g()}function c(l,m){i.left=true;i.right=true;i.rigid=true;g()}function e(l,m){b.select(document).on("mousemove.rickshaw_range_slider_preview",null);b.select(document).on("mouseup.rickshaw_range_slider_preview",null);b.select(document).on("touchmove.rickshaw_range_slider_preview",null);b.select(document).on("touchend.rickshaw_range_slider_preview",null);b.select(document).on("touchcancel.rickshaw_range_slider_preview",null);delete k.frameBeforeDrag;i.left=false;i.right=false;i.rigid=false}f.select("rect.left_handle").on("mousedown",d);f.select("rect.right_handle").on("mousedown",h);f.select("rect.middle_handle").on("mousedown",c);f.select("rect.left_handle").on("touchstart",d);f.select("rect.right_handle").on("touchstart",h);f.select("rect.middle_handle").on("touchstart",c)},_getClientXFromEvent:function(e,d){switch(e.type){case"touchstart":case"touchmove":var c=e.changedTouches;var g=null;for(var f=0;f<c.length;f++){if(c[f].target===d.target){g=c[f];break}}return g!==null?g.clientX:undefined;default:return e.clientX}}});a.namespace("Rickshaw.Graph.Renderer");a.Graph.Renderer=a.Class.create({initialize:function(c){this.graph=c.graph;this.tension=c.tension||this.tension;this.configure(c)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:0.8,strokeWidth:2,unstack:true,padding:{top:0.01,right:0,bottom:0.01,left:0},stroke:false,fill:false}},domain:function(g){var e=g||this.graph.stackedData||this.graph.stackData();var d=+Infinity;var h=-Infinity;var c=+Infinity;var f=-Infinity;e.forEach(function(i){i.forEach(function(j){if(j.y==null){return}var k=j.y+j.y0;if(k<c){c=k}if(k>f){f=k}});if(!i.length){return}if(i[0].x<d){d=i[0].x}if(i[i.length-1].x>h){h=i[i.length-1].x}});d-=(h-d)*this.padding.left;h+=(h-d)*this.padding.right;c=this.graph.min==="auto"?c:this.graph.min||0;f=this.graph.max===undefined?f:this.graph.max;if(this.graph.min==="auto"||c<0){c-=(f-c)*this.padding.bottom}if(this.graph.max===undefined){f+=(f-c)*this.padding.top}return{x:[d,h],y:[c,f]}},render:function(c){c=c||{};var j=this.graph;var e=c.series||j.series;var h=c.vis||j.vis;h.selectAll("*").remove();var g=e.filter(function(i){return !i.disabled}).map(function(i){return i.stack});var k=h.selectAll("path.path").data(g).enter().append("svg:path").classed("path",true).attr("d",this.seriesPathFactory());if(this.stroke){var f=h.selectAll("path.stroke").data(g).enter().append("svg:path").classed("stroke",true).attr("d",this.seriesStrokeFactory())}var d=0;e.forEach(function(i){if(i.disabled){return}i.path=k[0][d];if(this.stroke){i.stroke=f[0][d]}this._styleSeries(i);d++},this)},_styleSeries:function(c){var e=this.fill?c.color:"none";var d=this.stroke?c.color:"none";c.path.setAttribute("fill",e);c.path.setAttribute("stroke",d);c.path.setAttribute("stroke-width",this.strokeWidth);if(c.className){b.select(c.path).classed(c.className,true)}if(c.className&&this.stroke){b.select(c.stroke).classed(c.className,true)}},configure:function(c){c=c||{};a.keys(this.defaults()).forEach(function(d){if(!c.hasOwnProperty(d)){this[d]=this[d]||this.graph[d]||this.defaults()[d];return}if(typeof this.defaults()[d]=="object"){a.keys(this.defaults()[d]).forEach(function(e){this[d][e]=c[d][e]!==undefined?c[d][e]:this[d][e]!==undefined?this[d][e]:this.defaults()[d][e]},this)}else{this[d]=c[d]!==undefined?c[d]:this[d]!==undefined?this[d]:this.graph[d]!==undefined?this.graph[d]:this.defaults()[d]}},this)},setStrokeWidth:function(c){if(c!==undefined){this.strokeWidth=c}},setTension:function(c){if(c!==undefined){this.tension=c}}});a.namespace("Rickshaw.Graph.Renderer.Line");a.Graph.Renderer.Line=a.Class.create(a.Graph.Renderer,{name:"line",defaults:function($super){return a.extend($super(),{unstack:true,fill:false,stroke:true})},seriesPathFactory:function(){var d=this.graph;var c=b.svg.line().x(function(e){return d.x(e.x)}).y(function(e){return d.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);c.defined&&c.defined(function(e){return e.y!==null});return c}});a.namespace("Rickshaw.Graph.Renderer.Stack");a.Graph.Renderer.Stack=a.Class.create(a.Graph.Renderer,{name:"stack",defaults:function($super){return a.extend($super(),{fill:true,stroke:false,unstack:false})},seriesPathFactory:function(){var d=this.graph;var c=b.svg.area().x(function(e){return d.x(e.x)}).y0(function(e){return d.y(e.y0)}).y1(function(e){return d.y(e.y+e.y0)}).interpolate(this.graph.interpolation).tension(this.tension);c.defined&&c.defined(function(e){return e.y!==null});return c}});a.namespace("Rickshaw.Graph.Renderer.Bar");a.Graph.Renderer.Bar=a.Class.create(a.Graph.Renderer,{name:"bar",defaults:function($super){var c=a.extend($super(),{gapSize:0.05,unstack:false});delete c.tension;return c},initialize:function($super,c){c=c||{};this.gapSize=c.gapSize||this.gapSize;$super(c)},domain:function($super){var d=$super();var c=this._frequentInterval(this.graph.stackedData.slice(-1).shift());d.x[1]+=Number(c.magnitude);return d},barWidth:function(d){var c=this._frequentInterval(d.stack);var e=this.graph.x.magnitude(c.magnitude)*(1-this.gapSize);return e},render:function(i){i=i||{};var j=this.graph;var h=i.series||j.series;var f=i.vis||j.vis;f.selectAll("*").remove();var k=this.barWidth(h.active()[0]);var e=0;var c=h.filter(function(l){return !l.disabled}).length;var d=this.unstack?k/c:k;var g=function(m){var l=[1,0,0,m.y<0?-1:1,0,m.y<0?j.y.magnitude(Math.abs(m.y))*2:0];return"matrix("+l.join(",")+")"};h.forEach(function(m){if(m.disabled){return}var n=this.barWidth(m);var l=f.selectAll("path").data(m.stack.filter(function(o){return o.y!==null})).enter().append("svg:rect").attr("x",function(o){return j.x(o.x)+e}).attr("y",function(o){return j.y(o.y0+Math.abs(o.y))*(o.y<0?-1:1)}).attr("width",d).attr("height",function(o){return j.y.magnitude(Math.abs(o.y))}).attr("transform",g);Array.prototype.forEach.call(l[0],function(o){o.setAttribute("fill",m.color)});if(this.unstack){e+=d}},this)},_frequentInterval:function(g){var f={};for(var e=0;e<g.length-1;e++){var c=g[e+1].x-g[e].x;f[c]=f[c]||0;f[c]++}var d={count:0,magnitude:1};a.keys(f).forEach(function(h){if(d.count<f[h]){d={count:f[h],magnitude:h}}});return d}});a.namespace("Rickshaw.Graph.Renderer.Area");a.Graph.Renderer.Area=a.Class.create(a.Graph.Renderer,{name:"area",defaults:function($super){return a.extend($super(),{unstack:false,fill:false,stroke:false})},seriesPathFactory:function(){var d=this.graph;var c=b.svg.area().x(function(e){return d.x(e.x)}).y0(function(e){return d.y(e.y0)}).y1(function(e){return d.y(e.y+e.y0)}).interpolate(d.interpolation).tension(this.tension);c.defined&&c.defined(function(e){return e.y!==null});return c},seriesStrokeFactory:function(){var d=this.graph;var c=b.svg.line().x(function(e){return d.x(e.x)}).y(function(e){return d.y(e.y+e.y0)}).interpolate(d.interpolation).tension(this.tension);c.defined&&c.defined(function(e){return e.y!==null});return c},render:function(d){d=d||{};var j=this.graph;var f=d.series||j.series;var h=d.vis||j.vis;h.selectAll("*").remove();var k=this.unstack?"append":"insert";var g=f.filter(function(i){return !i.disabled}).map(function(i){return i.stack});var c=h.selectAll("path").data(g).enter()[k]("svg:g","g");c.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.stroke){c.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var e=0;f.forEach(function(i){if(i.disabled){return}i.path=c[0][e++];this._styleSeries(i)},this)},_styleSeries:function(c){if(!c.path){return}b.select(c.path).select(".area").attr("fill",c.color);if(this.stroke){b.select(c.path).select(".line").attr("fill","none").attr("stroke",c.stroke||b.interpolateRgb(c.color,"black")(0.125)).attr("stroke-width",this.strokeWidth)}if(c.className){c.path.setAttribute("class",c.className)}}});a.namespace("Rickshaw.Graph.Renderer.ScatterPlot");a.Graph.Renderer.ScatterPlot=a.Class.create(a.Graph.Renderer,{name:"scatterplot",defaults:function($super){return a.extend($super(),{unstack:true,fill:true,stroke:false,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:4})},initialize:function($super,c){$super(c)},render:function(d){d=d||{};var g=this.graph;var e=d.series||g.series;var f=d.vis||g.vis;var c=this.dotSize;f.selectAll("*").remove();e.forEach(function(i){if(i.disabled){return}var h=f.selectAll("path").data(i.stack.filter(function(j){return j.y!==null})).enter().append("svg:circle").attr("cx",function(j){return g.x(j.x)}).attr("cy",function(j){return g.y(j.y)}).attr("r",function(j){return"r" in j?j.r:c});if(i.className){h.classed(i.className,true)}Array.prototype.forEach.call(h[0],function(j){j.setAttribute("fill",i.color)})},this)}});a.namespace("Rickshaw.Graph.Renderer.Multi");a.Graph.Renderer.Multi=a.Class.create(a.Graph.Renderer,{name:"multi",initialize:function($super,c){$super(c)},defaults:function($super){return a.extend($super(),{unstack:true,fill:false,stroke:true})},configure:function($super,c){c=c||{};this.config=c;$super(c)},domain:function($super){this.graph.stackData();var e=[];var d=this._groups();this._stack(d);d.forEach(function(k){var j=k.series.filter(function(l){return !l.disabled}).map(function(l){return l.stack});if(!j.length){return}var i=null;if(k.renderer&&k.renderer.domain){i=k.renderer.domain(j)}else{i=$super(j)}e.push(i)});var f=b.min(e.map(function(i){return i.x[0]}));var h=b.max(e.map(function(i){return i.x[1]}));var c=b.min(e.map(function(i){return i.y[0]}));var g=b.max(e.map(function(i){return i.y[1]}));return{x:[f,h],y:[c,g]}},_groups:function(){var d=this.graph;var e={};d.series.forEach(function(g){if(g.disabled){return}if(!e[g.renderer]){var h="http://www.w3.org/2000/svg";var j=document.createElementNS(h,"g");d.vis[0][0].appendChild(j);var i=d._renderers[g.renderer];var f={};var k=[this.defaults(),i.defaults(),this.config,this.graph];k.forEach(function(l){a.extend(f,l)});i.configure(f);e[g.renderer]={renderer:i,series:[],vis:b.select(j)}}e[g.renderer].series.push(g)},this);var c=[];Object.keys(e).forEach(function(f){var g=e[f];c.push(g)});return c},_stack:function(c){c.forEach(function(h){var e=h.series.filter(function(i){return !i.disabled});var g=e.map(function(i){return i.stack});if(!h.renderer.unstack){var f=b.layout.stack();var d=a.clone(f(g));e.forEach(function(j,i){j._stack=a.clone(d[i])})}},this);return c},render:function(){this.graph.series.forEach(function(d){if(!d.renderer){throw new Error("Each series needs a renderer for graph 'multi' renderer")}});this.graph.vis.selectAll("*").remove();var c=this._groups();c=this._stack(c);c.forEach(function(e){var d=e.series.filter(function(f){return !f.disabled});d.active=function(){return d};e.renderer.render({series:d,vis:e.vis});d.forEach(function(f){f.stack=f._stack||f.stack||f.data})})}});a.namespace("Rickshaw.Graph.Renderer.LinePlot");a.Graph.Renderer.LinePlot=a.Class.create(a.Graph.Renderer,{name:"lineplot",defaults:function($super){return a.extend($super(),{unstack:true,fill:false,stroke:true,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var d=this.graph;var c=b.svg.line().x(function(e){return d.x(e.x)}).y(function(e){return d.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);c.defined&&c.defined(function(e){return e.y!==null});return c},render:function(e){e=e||{};var k=this.graph;var g=e.series||k.series;var j=e.vis||k.vis;var c=this.dotSize;j.selectAll("*").remove();var h=g.filter(function(i){return !i.disabled}).map(function(i){return i.stack});var d=j.selectAll("path").data(h).enter().append("svg:path").attr("d",this.seriesPathFactory());var f=0;g.forEach(function(i){if(i.disabled){return}i.path=d[0][f++];this._styleSeries(i)},this);g.forEach(function(l){if(l.disabled){return}var i=j.selectAll("x").data(l.stack.filter(function(m){return m.y!==null})).enter().append("svg:circle").attr("cx",function(m){return k.x(m.x)}).attr("cy",function(m){return k.y(m.y)}).attr("r",function(m){return"r" in m?m.r:c});Array.prototype.forEach.call(i[0],function(m){if(!m){return}m.setAttribute("data-color",l.color);m.setAttribute("fill","white");m.setAttribute("stroke",l.color);m.setAttribute("stroke-width",this.strokeWidth)}.bind(this))},this)}});a.namespace("Rickshaw.Graph.Smoother");a.Graph.Smoother=a.Class.create({initialize:function(c){this.graph=c.graph;this.element=c.element;this.aggregationScale=1;this.build();this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var c=this;var d=jQuery;if(this.element){d(function(){d(c.element).slider({min:1,max:100,slide:function(e,f){c.setScale(f.value);c.graph.update()}})})}},setScale:function(c){if(c<1){throw"scale out of range: "+c}this.aggregationScale=c;this.graph.update()},transformer:function(d){if(this.aggregationScale==1){return d}var c=[];d.forEach(function(h){var e=[];while(h.length){var g=0,f=0;var i=h.splice(0,this.aggregationScale);i.forEach(function(j){g+=j.x/i.length;f+=j.y/i.length});e.push({x:g,y:f})}c.push(e)}.bind(this));return c}});a.namespace("Rickshaw.Graph.Socketio");a.Graph.Socketio=a.Class.create(a.Graph.Ajax,{request:function(){var c=io.connect(this.dataURL);var d=this;c.on("rickshaw",function(e){d.success(e)})}});a.namespace("Rickshaw.Series");a.Series=a.Class.create(Array,{initialize:function(f,c,e){e=e||{};this.palette=new a.Color.Palette(c);this.timeBase=typeof e.timeBase==="undefined"?Math.floor((new Date).getTime()/1000):e.timeBase;var d=typeof e.timeInterval=="undefined"?1000:e.timeInterval;this.setTimeInterval(d);if(f&&typeof f=="object"&&Array.isArray(f)){f.forEach(function(g){this.addItem(g)},this)}},addItem:function(c){if(typeof c.name==="undefined"){throw"addItem() needs a name"}c.color=c.color||this.palette.color(c.name);c.data=c.data||[];if(c.data.length===0&&this.length&&this.getIndex()>0){this[0].data.forEach(function(d){c.data.push({x:d.x,y:0})})}else{if(c.data.length===0){c.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}}this.push(c);if(this.legend){this.legend.addLine(this.itemByName(c.name))}},addData:function(e,c){var d=this.getIndex();a.keys(e).forEach(function(f){if(!this.itemByName(f)){this.addItem({name:f})}},this);this.forEach(function(f){f.data.push({x:c||(d*this.timeInterval||1)+this.timeBase,y:e[f.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(c){for(var d=0;d<this.length;d++){if(this[d].name==c){return this[d]}}},setTimeInterval:function(c){this.timeInterval=c/1000},setTimeBase:function(c){this.timeBase=c},dump:function(){var c={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};this.forEach(function(e){var d={color:e.color,name:e.name,data:[]};e.data.forEach(function(f){d.data.push({x:f.x,y:f.y})});c.items.push(d)});return c},load:function(c){if(c.timeInterval){this.timeInterval=c.timeInterval}if(c.timeBase){this.timeBase=c.timeBase}if(c.items){c.items.forEach(function(d){this.push(d);if(this.legend){this.legend.addLine(this.itemByName(d.name))}},this)}}});a.Series.zeroFill=function(c){a.Series.fill(c,0)};a.Series.fill=function(e,g){var c;var d=0;var f=e.map(function(h){return h.data});while(d<Math.max.apply(null,f.map(function(h){return h.length}))){c=Math.min.apply(null,f.filter(function(h){return h[d]}).map(function(h){return h[d].x}));f.forEach(function(h){if(!h[d]||h[d].x!=c){h.splice(d,0,{x:c,y:g})}});d++}};a.namespace("Rickshaw.Series.FixedDuration");a.Series.FixedDuration=a.Class.create(a.Series,{initialize:function(f,c,d){d=d||{};if(typeof d.timeInterval==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof d.maxDataPoints==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new a.Color.Palette(c);this.timeBase=typeof d.timeBase==="undefined"?Math.floor((new Date).getTime()/1000):d.timeBase;this.setTimeInterval(d.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=d.maxDataPoints;if(f&&typeof f=="object"&&Array.isArray(f)){f.forEach(function(g){this.addItem(g)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if(typeof this.maxDataPoints!=="undefined"&&this.currentSize<this.maxDataPoints){for(var e=this.maxDataPoints-this.currentSize-1;e>1;e--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(g){g.data.unshift({x:((e-1)*this.timeInterval||1)+this.timeBase,y:0,i:e})},this)}}},addData:function($super,d,c){$super(d,c);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(c){c.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});return a});
!function(){function hZ(b,a){return a>b?-1:b>a?1:b>=a?0:0/0}function hR(a){return null!=a&&!isNaN(a)}function ik(a){return{left:function(d,g,f,b){for(arguments.length<3&&(f=0),arguments.length<4&&(b=d.length);b>f;){var c=f+b>>>1;a(d[c],g)<0?f=c+1:b=c}return f},right:function(d,g,f,b){for(arguments.length<3&&(f=0),arguments.length<4&&(b=d.length);b>f;){var c=f+b>>>1;a(d[c],g)>0?b=c:f=c+1}return f}}}function hU(a){return a.length}function hP(b){for(var a=1;b*a%1;){a*=10}return a}function h9(d,a){try{for(var c in a){Object.defineProperty(d.prototype,c,{value:a[c],enumerable:!1})}}catch(b){d.prototype=a}}function hY(){}function iy(a){return dN+a in this}function iq(a){return a=dN+a,a in this&&delete this[a]}function h4(){var a=[];return this.forEach(function(b){a.push(b)}),a}function hS(){var b=0;for(var a in this){a.charCodeAt(0)===jQ&&++b}return b}function ih(){for(var a in this){if(a.charCodeAt(0)===jQ){return !1}}return !0}function id(){}function ig(c,a,b){return function(){var d=b.apply(a,arguments);return d===a?c:d}}function hX(f,b){if(b in f){return b}b=b.charAt(0).toUpperCase()+b.slice(1);for(var d=0,c=iv.length;c>d;++d){var a=iv[d]+b;if(a in f){return a}}}function hN(){}function ip(){}function h2(d){function a(){for(var g,h=c,e=-1,f=h.length;++e<f;){(g=h[e].on)&&g.apply(this,arguments)}return d}var c=[],b=new hY;return a.on=function(g,e){var f,h=b.get(g);return arguments.length<2?h&&h.on:(h&&(h.on=null,c=c.slice(0,f=c.indexOf(h)).concat(c.slice(f+1)),b.remove(g)),e&&c.push(b.set(g,{on:e})),d)},a}function hK(){dK.event.preventDefault()}function hL(){for(var b,a=dK.event;b=a.sourceEvent;){a=b}return a}function iX(d){for(var a=new ip,c=0,b=arguments.length;++c<b;){a[arguments[c]]=h2(a)}return a.of=function(g,f){return function(e){try{var h=e.sourceEvent=dK.event;e.target=d,dK.event=e,a[e.type].apply(g,f)}finally{dK.event=h}}},a}function iz(a){return cn(a,bh),a}function ix(a){return"function"==typeof a?a:function(){return gX(a,this)}}function hM(a){return"function"==typeof a?a:function(){return gh(a,this)}}function iN(k,f){function h(){this.removeAttribute(k)}function g(){this.removeAttributeNS(k.space,k.local)}function c(){this.setAttribute(k,f)}function d(){this.setAttributeNS(k.space,k.local,f)}function j(){var a=f.apply(this,arguments);null==a?this.removeAttribute(k):this.setAttribute(k,a)}function b(){var a=f.apply(this,arguments);null==a?this.removeAttributeNS(k.space,k.local):this.setAttributeNS(k.space,k.local,a)}return k=dK.ns.qualify(k),null==f?k.local?g:h:"function"==typeof f?k.local?b:j:k.local?d:c}function h5(a){return a.trim().replace(/\s+/g," ")}function jd(a){return new RegExp("(?:^|\\s+)"+dK.requote(a)+"(?:\\s+|$)","g")}function jm(a){return(a+"").trim().split(/^|\s+/)}function jj(f,b){function d(){for(var g=-1;++g<a;){f[g](this,b)}}function c(){for(var h=-1,g=b.apply(this,arguments);++h<a;){f[h](this,g)}}f=jm(f).map(iV);var a=f.length;return"function"==typeof b?c:d}function iV(b){var a=jd(b);return function(f,d){if(c=f.classList){return d?c.add(b):c.remove(b)}var c=f.getAttribute("class")||"";d?(a.lastIndex=0,a.test(c)||f.setAttribute("class",h5(c+" "+b))):f.setAttribute("class",h5(c.replace(a," ")))}}function hI(g,c,f){function d(){this.style.removeProperty(g)}function a(){this.style.setProperty(g,c,f)}function b(){var e=c.apply(this,arguments);null==e?this.style.removeProperty(g):this.style.setProperty(g,e,f)}return null==c?d:"function"==typeof c?b:a}function iY(f,b){function d(){delete this[f]}function c(){this[f]=b}function a(){var g=b.apply(this,arguments);null==g?delete this[f]:this[f]=g}return null==b?d:"function"==typeof b?a:c}function iL(a){return"function"==typeof a?a:(a=dK.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function hV(a){return{__data__:a}}function iO(a){return function(){return dw(this,a)}}function jf(a){return arguments.length||(a=hZ),function(c,b){return c&&b?a(c.__data__,b.__data__):!c-!b}}function iR(k,f){for(var h=0,g=k.length;g>h;h++){for(var c,d=k[h],j=0,b=d.length;b>j;j++){(c=d[j])&&f(c,j,h)}}return k}function iK(a){return cn(a,eE),a}function h7(c){var a,b;return function(g,e,f){var h,d=c[f].update,j=d.length;for(f!=b&&(b=f,a=0),e>=a&&(a=e+1);!(h=d[a])&&++a<j;){}return h}}function i5(){var a=this.__transition__;a&&++a.active}function i9(f,q,j){function b(){var a=this[d];a&&(this.removeEventListener(f,a,a.$),delete this[d])}function p(){var a=k(q,dV(arguments));b.call(this),this.addEventListener(f,this[d]=a,a.$=j),a._=q}function h(){var c,l=new RegExp("^__on([^.]+)"+dK.requote(f)+"$");for(var i in this){if(c=i.match(l)){var a=this[i];this.removeEventListener(c[1],a,a.$),delete this[i]}}}var d="__on"+f,m=f.indexOf("."),k=iS;m>0&&(f=f.slice(0,m));var g=aA.get(f);return g&&(f=g,k=iE),m?q?p:b:q?hN:h}function iS(b,a){return function(d){var c=dK.event;dK.event=d,a[0]=this.__data__;try{b.apply(this,a)}finally{dK.event=c}}}function iE(c,a){var b=iS(c,a);return function(f){var d=this,e=f.relatedTarget;e&&(e===d||8&e.compareDocumentPosition(d))||b.call(d,f)}}function i4(){var f=".dragsuppress-"+ ++aG,b="click"+f,d=dK.select(ib).on("touchmove"+f,hK).on("dragstart"+f,hK).on("selectstart"+f,hK);if(g1){var c=dq.style,a=c[g1];c[g1]="none"}return function(e){function g(){d.on(b,null)}d.on(f,null),g1&&(c[g1]=a),e&&(d.on(b,function(){hK(),g()},!0),setTimeout(g,0))}}function iD(g,c){c.changedTouches&&(c=c.changedTouches[0]);var f=g.ownerSVGElement||g;if(f.createSVGPoint){var d=f.createSVGPoint();if(0>jg&&(ib.scrollX||ib.scrollY)){f=dK.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=f[0][0].getScreenCTM();jg=!(a.f||a.e),f.remove()}return jg?(d.x=c.pageX,d.y=c.pageY):(d.x=c.clientX,d.y=c.clientY),d=d.matrixTransform(g.getScreenCTM().inverse()),[d.x,d.y]}var b=g.getBoundingClientRect();return[c.clientX-b.left-g.clientLeft,c.clientY-b.top-g.clientTop]}function iI(){return dK.event.changedTouches[0].identifier}function iF(){return dK.event.target}function jS(){return ib}function jk(a){return a>0?1:0>a?-1:0}function iG(c,a,b){return(a[0]-c[0])*(b[1]-c[1])-(a[1]-c[1])*(b[0]-c[0])}function i2(a){return a>1?0:-1>a?aW:Math.acos(a)}function i6(a){return a>1?fh:-1>a?-fh:Math.asin(a)}function i1(a){return((a=Math.exp(a))-1/a)/2}function iQ(a){return((a=Math.exp(a))+1/a)/2}function dX(a){return((a=Math.exp(2*a))-1)/(a+1)}function bL(a){return(a=Math.sin(a/2))*a}function g3(){}function cB(c,a,b){return this instanceof cB?(this.h=+c,this.s=+a,void (this.l=+b)):arguments.length<2?c instanceof cB?new cB(c.h,c.s,c.l):ep(""+c,jV,cB):new cB(c,a,b)}function bq(h,c,f){function d(e){return e>360?e-=360:0>e&&(e+=360),60>e?b+(g-b)*e/60:180>e?g:240>e?b+(g-b)*(240-e)/60:b}function a(e){return Math.round(255*d(e))}var b,g;return h=isNaN(h)?0:(h%=360)<0?h+360:h,c=isNaN(c)?0:0>c?0:c>1?1:c,f=0>f?0:f>1?1:f,g=0.5>=f?f*(1+c):f+c-f*c,b=2*f-g,new gq(a(h+120),a(h),a(h-120))}function fK(c,a,b){return this instanceof fK?(this.h=+c,this.c=+a,void (this.l=+b)):arguments.length<2?c instanceof fK?new fK(c.h,c.c,c.l):c instanceof jA?eK(c.l,c.a,c.b):eK((c=kf((c=dK.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new fK(c,a,b)}function dC(c,a,b){return isNaN(c)&&(c=0),isNaN(a)&&(a=0),new jA(b,Math.cos(c*=bO)*a,Math.sin(c)*a)}function jA(c,a,b){return this instanceof jA?(this.l=+c,this.a=+a,void (this.b=+b)):arguments.length<2?c instanceof jA?new jA(c.l,c.a,c.b):c instanceof fK?dC(c.l,c.c,c.h):kf((c=gq(c)).r,c.g,c.b):new jA(c,a,b)}function hQ(g,c,f){var d=(g+16)/116,a=d+c/500,b=d-f/200;return a=b2(a)*jY,d=b2(d)*aN,b=b2(b)*gn,new gq(f2(3.2404542*a-1.5371385*d-0.4985314*b),f2(-0.969266*a+1.8760108*d+0.041556*b),f2(0.0556434*a-0.2040259*d+1.0572252*b))}function eK(c,a,b){return c>0?new fK(Math.atan2(b,a)*gJ,Math.sqrt(a*a+b*b),c):new fK(0/0,0/0,c)}function b2(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function gL(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function f2(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function gq(c,a,b){return this instanceof gq?(this.r=~~c,this.g=~~a,void (this.b=~~b)):arguments.length<2?c instanceof gq?new gq(c.r,c.g,c.b):ep(""+c,gq,bq):new gq(c,a,b)}function df(a){return new gq(a>>16,255&a>>8,255&a)}function a2(a){return df(a)+""}function hs(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ep(f,m,h){var b,l,g,d=0,k=0,j=0;if(b=/([a-z]+)\((.*)\)/i.exec(f)){switch(l=b[2].split(","),b[1]){case"hsl":return h(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100);case"rgb":return m(ak(l[0]),ak(l[1]),ak(l[2]))}}return(g=cx.get(f))?m(g.r,g.g,g.b):(null==f||"#"!==f.charAt(0)||isNaN(g=parseInt(f.slice(1),16))||(4===f.length?(d=(3840&g)>>4,d=d>>4|d,k=240&g,k=k>>4|k,j=15&g,j=j<<4|j):7===f.length&&(d=(16711680&g)>>16,k=(65280&g)>>8,j=255&g)),m(d,k,j))}function jV(f,m,h){var b,l,g=Math.min(f/=255,m/=255,h/=255),d=Math.max(f,m,h),k=d-g,j=(d+g)/2;return k?(l=0.5>j?k/(d+g):k/(2-d-g),b=f==d?(m-h)/k+(h>m?6:0):m==d?(h-f)/k+2:(f-m)/k+4,b*=60):(b=0/0,l=j>0&&1>j?0:b),new cB(b,l,j)}function kf(g,c,f){g=gQ(g),c=gQ(c),f=gQ(f);var d=gL((0.4124564*g+0.3575761*c+0.1804375*f)/jY),a=gL((0.2126729*g+0.7151522*c+0.072175*f)/aN),b=gL((0.0193339*g+0.119192*c+0.9503041*f)/gn);return jA(116*a-16,500*(d-a),200*(a-b))}function gQ(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function ak(b){var a=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*a):a}function iJ(a){return"function"==typeof a?a:function(){return a}}function aK(a){return a}function eP(a){return function(b,d,c){return 2===arguments.length&&"function"==typeof d&&(c=d,d=null),e2(b,d,a,c)}}function e2(f,q,j,b){function p(){var e,a=k.status;if(!a&&cj(k)||a>=200&&300>a||304===a){try{e=j.call(h,k)}catch(c){return d.error.call(h,c),void 0}d.load.call(h,e)}else{d.error.call(h,k)}}var h={},d=dK.dispatch("beforesend","progress","load","error"),m={},k=new XMLHttpRequest,g=null;return !ib.XDomainRequest||"withCredentials" in k||!/^(http(s)?:)?\/\//.test(f)||(k=new XDomainRequest),"onload" in k?k.onload=k.onerror=p:k.onreadystatechange=function(){k.readyState>3&&p()},k.onprogress=function(c){var a=dK.event;dK.event=c;try{d.progress.call(h,k)}finally{dK.event=a}},h.header=function(c,a){return c=(c+"").toLowerCase(),arguments.length<2?m[c]:(null==a?delete m[c]:m[c]=a+"",h)},h.mimeType=function(a){return arguments.length?(q=null==a?null:a+"",h):q},h.responseType=function(a){return arguments.length?(g=a,h):g},h.response=function(a){return j=a,h},["get","post"].forEach(function(a){h[a]=function(){return h.send.apply(h,[a].concat(dV(arguments)))}}),h.send=function(l,i,a){if(2===arguments.length&&"function"==typeof i&&(a=i,i=null),k.open(l,f,!0),null==q||"accept" in m||(m.accept=q+",*/*"),k.setRequestHeader){for(var c in m){k.setRequestHeader(c,m[c])}}return null!=q&&k.overrideMimeType&&k.overrideMimeType(q),null!=g&&(k.responseType=g),null!=a&&h.on("error",a).on("load",function(e){a(null,e)}),d.beforesend.call(h,k),k.send(null==i?null:i),h},h.abort=function(){return k.abort(),h},dK.rebind(h,d,"on"),null==b?h:h.get(aT(b))}function aT(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function cj(b){var a=b.responseType;return a&&"text"!==a?b.response:b.responseText}function bC(){var b=gy(),a=jq()-b;a>24?(isFinite(a)&&(clearTimeout(b5),b5=setTimeout(bC,a)),d8=0):(d8=1,iC(bC))}function gy(){var a=Date.now();for(dA=dU;dA;){a>=dA.t&&(dA.f=dA.c(a-dA.t)),dA=dA.n}return a}function jq(){for(var c,a=dU,b=1/0;a;){a.f?a=c?c.n=a.n:dU=a.n:(a.t<b&&(b=a.t),a=(c=a).n)}return db=c,b}function g8(b,a){return a-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function ex(c,a){var b=Math.pow(10,3*fW(8-a));return{scale:a>8?function(d){return d/b}:function(d){return d*b},symbol:c}}function cV(g){var c=g.decimal,f=g.thousands,d=g.grouping,a=g.currency,b=d?function(l){for(var j=l.length,e=[],h=0,k=d[0];k>0&&j>0;){e.push(l.substring(j-=k,j+k)),k=d[h=(h+1)%d.length]}return e.reverse().join(f)}:aK;return function(q){var A=hJ.exec(q),i=A[1]||" ",k=A[2]||">",E=A[3]||"",C=A[4]||"",u=A[5],G=+A[6],z=A[7],w=A[8],x=A[9],j=1,F="",B="",t=!1;switch(w&&(w=+w.substring(1)),(u||"0"===i&&"="===k)&&(u=i="0",k="=",z&&(G-=Math.floor((G-1)/4))),x){case"n":z=!0,x="g";break;case"%":j=100,B="%",x="f";break;case"p":j=100,B="%",x="r";break;case"b":case"o":case"x":case"X":"#"===C&&(F="0"+x.toLowerCase());case"c":case"d":t=!0,w=0;break;case"s":j=-1,x="r"}"$"===C&&(F=a[0],B=a[1]),"r"!=x||w||(x="g"),null!=w&&("g"==x?w=Math.max(1,Math.min(21,w)):("e"==x||"f"==x)&&(w=Math.max(0,Math.min(20,w)))),x=fI.get(x)||e7;var D=u&&z;return function(h){var l=B;if(t&&h%1){return""}var y=0>h||0===h&&0>1/h?(h=-h,"-"):E;if(0>j){var o=dK.formatPrefix(h,w);h=o.scale(h),l=o.symbol+B}else{h*=j}h=x(h,w);var r=h.lastIndexOf("."),m=0>r?h:h.substring(0,r),v=0>r?"":c+h.substring(r+1);!u&&z&&(m=b(m));var p=F.length+m.length+v.length+(D?0:y.length),s=G>p?new Array(p=G-p+1).join(i):"";return D&&(m=b(s+m)),y+=F,h=m+v,("<"===k?y+h+s:">"===k?s+y+h:"^"===k?s.substring(0,p>>=1)+y+h+s.substring(p):y+(D?h:s+h))+l}}}function e7(a){return a+""}function bd(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function fP(f,m,h){function b(a){var i=f(a),c=g(i,1);return c-a>a-i?i:c}function l(a){return m(a=f(new bV(a-1)),1),a}function g(c,a){return m(c=new bV(+c),a),c}function d(s,p,e){var q=l(s),c=[];if(e>1){for(;p>q;){h(q)%e||c.push(new Date(+q)),m(q,1)}}else{for(;p>q;){c.push(new Date(+q)),m(q,1)}}return c}function k(o,a,i){try{bV=bd;var c=new bd;return c._=o,d(c,a,i)}finally{bV=Date}}f.floor=f,f.round=b,f.ceil=l,f.offset=g,f.range=d;var j=f.utc=d4(f);return j.floor=j,j.round=d4(b),j.ceil=d4(l),j.offset=d4(g),j.range=k,f}function d4(a){return function(b,d){try{bV=bd;var c=new bd;return c._=b,a(c,d)._}finally{bV=Date}}}function fq(T){function J(c){function a(h){for(var k,f,g,l=[],d=-1,m=0;++d<b;){37===c.charCodeAt(d)&&(l.push(c.slice(m,d)),null!=(f=cO[k=c.charAt(++d)])&&(k=c.charAt(++d)),(g=L[k])&&(k=g(h,null==f?"e"===k?" ":"0":f)),l.push(k),m=d+1)}return l.push(c.slice(m,d)),l.join("")}var b=c.length;return a.parse=function(f){var g={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},d=ac(g,c,f,0);if(d!=f.length){return null}"p" in g&&(g.H=g.H%12+12*g.p);var e=null!=g.Z&&bV!==bd,h=new (e?bd:bV);return"j" in g?h.setFullYear(g.y,0,g.j):"w" in g&&("W" in g||"U" in g)?(h.setFullYear(g.y,0,1),h.setFullYear(g.y,0,"W" in g?(g.w+6)%7+7*g.W-(h.getDay()+5)%7:g.w+7*g.U-(h.getDay()+6)%7)):h.setFullYear(g.y,g.m,g.d),h.setHours(g.H+(0|g.Z/100),g.M+g.Z%100,g.S,g.L),e?h._:h},a.toString=function(){return c},a}function ac(f,v,k,b){for(var s,h,d,p=0,m=v.length,g=k.length;m>p;){if(b>=g){return -1}if(s=v.charCodeAt(p++),37===s){if(d=v.charAt(p++),h=q[d in cO?v.charAt(p++):d],!h||(b=h(f,k,b))<0){return -1}}else{if(s!=k.charCodeAt(b++)){return -1}}}return b}function O(d,a,c){al.lastIndex=0;var b=al.exec(a.slice(c));return b?(d.w=F.get(b[0].toLowerCase()),c+b[0].length):-1}function H(d,a,c){z.lastIndex=0;var b=z.exec(a.slice(c));return b?(d.w=ar.get(b[0].toLowerCase()),c+b[0].length):-1}function X(d,a,c){I.lastIndex=0;var b=I.exec(a.slice(c));return b?(d.m=P.get(b[0].toLowerCase()),c+b[0].length):-1}function R(d,a,c){j.lastIndex=0;var b=j.exec(a.slice(c));return b?(d.m=W.get(b[0].toLowerCase()),c+b[0].length):-1}function ao(c,a,b){return ac(c,L.c.toString(),a,b)}function ai(c,a,b){return ac(c,L.x.toString(),a,b)}function V(c,a,b){return ac(c,L.X.toString(),a,b)}function K(d,a,c){var b=D.get(a.slice(c,c+=2).toLowerCase());return null==b?-1:(d.p=b,c)}var aa=T.dateTime,Y=T.date,Z=T.time,Q=T.periods,G=T.days,ae=T.shortDays,U=T.months,B=T.shortMonths;J.utc=function(c){function b(e){try{bV=bd;var d=new bV;return d._=e,a(d)}finally{bV=Date}}var a=J(c);return b.parse=function(e){try{bV=bd;var d=a.parse(e);return d&&d._}finally{bV=Date}},b.toString=a.toString,b},J.multi=J.utc.multi=bB;var D=dK.map(),z=ax(G),ar=f7(G),al=ax(ae),F=f7(ae),j=ax(U),W=f7(U),I=ax(B),P=f7(B);Q.forEach(function(b,a){D.set(b.toLowerCase(),a)});var L={a:function(a){return ae[a.getDay()]},A:function(a){return G[a.getDay()]},b:function(a){return B[a.getMonth()]},B:function(a){return U[a.getMonth()]},c:J(aa),d:function(b,a){return jH(b.getDate(),a,2)},e:function(b,a){return jH(b.getDate(),a,2)},H:function(b,a){return jH(b.getHours(),a,2)},I:function(b,a){return jH(b.getHours()%12||12,a,2)},j:function(b,a){return jH(1+ef.dayOfYear(b),a,3)},L:function(b,a){return jH(b.getMilliseconds(),a,3)},m:function(b,a){return jH(b.getMonth()+1,a,2)},M:function(b,a){return jH(b.getMinutes(),a,2)},p:function(a){return Q[+(a.getHours()>=12)]},S:function(b,a){return jH(b.getSeconds(),a,2)},U:function(b,a){return jH(ef.sundayOfYear(b),a,2)},w:function(a){return a.getDay()},W:function(b,a){return jH(ef.mondayOfYear(b),a,2)},x:J(Y),X:J(Z),y:function(b,a){return jH(b.getFullYear()%100,a,2)},Y:function(b,a){return jH(b.getFullYear()%10000,a,4)},Z:hf,"%":function(){return"%"}},q={a:O,A:H,b:X,B:R,c:ao,d:h3,e:h3,H:hy,I:hy,j:j4,L:bT,m:dm,M:fy,p:K,S:eb,U:iW,w:cI,W:b9,x:ai,X:V,y:c0,Y:dH,Z:dR,"%":cM};return J}function jH(g,c,f){var d=0>g?"-":"",a=(d?-g:g)+"",b=a.length;return d+(f>b?new Array(f-b+1).join(c)+a:a)}function ax(a){return new RegExp("^(?:"+a.map(dK.requote).join("|")+")","i")}function f7(d){for(var a=new hY,c=-1,b=d.length;++c<b;){a.set(d[c].toLowerCase(),c)}return a}function cI(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+1));return b?(d.w=+b[0],c+b[0].length):-1}function iW(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c));return b?(d.U=+b[0],c+b[0].length):-1}function b9(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c));return b?(d.W=+b[0],c+b[0].length):-1}function dH(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+4));return b?(d.y=+b[0],c+b[0].length):-1}function c0(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.y=bU(+b[0]),c+b[0].length):-1}function dR(c,a,b){return/^[+-]\d{4}$/.test(a=a.slice(b,b+5))?(c.Z=-a,b+5):-1}function bU(a){return a+(a>68?1900:2000)}function dm(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.m=b[0]-1,c+b[0].length):-1}function h3(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.d=+b[0],c+b[0].length):-1}function j4(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+3));return b?(d.j=+b[0],c+b[0].length):-1}function hy(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.H=+b[0],c+b[0].length):-1}function fy(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.M=+b[0],c+b[0].length):-1}function eb(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+2));return b?(d.S=+b[0],c+b[0].length):-1}function bT(d,a,c){bD.lastIndex=0;var b=bD.exec(a.slice(c,c+3));return b?(d.L=+b[0],c+b[0].length):-1}function hf(f){var b=f.getTimezoneOffset(),d=b>0?"-":"+",c=0|fW(b)/60,a=fW(b)%60;return d+jH(c,"0",2)+jH(a,"0",2)}function cM(d,a,c){fV.lastIndex=0;var b=fV.exec(a.slice(c,c+1));return b?c+b[0].length:-1}function bB(c){for(var a=c.length,b=-1;++b<a;){c[b][0]=this(c[b][0])}return function(d){for(var g=0,f=c[g];!f[1](d);){f=c[++g]}return f[0](d)}}function fT(){}function dL(g,c,f){var d=f.s=g+c,a=d-g,b=d-a;f.t=g-b+(c-a)}function jN(b,a){b&&eV.hasOwnProperty(b.type)&&eV[b.type](b,a)}function ij(g,c,f){var d,a=-1,b=g.length-f;for(c.lineStart();++a<b;){d=g[a],c.point(d[0],d[1],d[2])}c.lineEnd()}function eT(d,a){var c=-1,b=d.length;for(a.polygonStart();++c<b;){ij(d[c],a,1)}a.polygonEnd()}function ch(){function g(j,v){j*=bO,v=v*bO/2+aW/4;var q=j-d,i=q>=0?1:-1,u=i*q,r=Math.cos(v),k=Math.sin(v),w=b*k,p=a*r+w*Math.cos(u),m=w*i*Math.sin(u);gW.add(Math.atan2(m,p)),d=j,a=r,b=k}var c,f,d,a,b;gg.point=function(h,e){gg.point=g,d=(c=h)*bO,a=Math.cos(e=(f=e)*bO/2+aW/4),b=Math.sin(e)},gg.lineEnd=function(){g(c,f)}}function gU(d){var a=d[0],c=d[1],b=Math.cos(c);return[b*Math.cos(a),b*Math.sin(a),Math.sin(c)]}function gd(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}function gC(b,a){return[b[1]*a[2]-b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]-b[1]*a[0]]}function ds(b,a){b[0]+=a[0],b[1]+=a[1],b[2]+=a[2]}function bb(b,a){return[b[0]*a,b[1]*a,b[2]*a]}function hC(b){var a=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=a,b[1]/=a,b[2]/=a}function eB(a){return[Math.atan2(a[1],a[0]),i6(a[2])]}function j3(b,a){return fW(b[0]-a[0])<a5&&fW(b[1]-a[1])<a5}function av(c,a){c*=bO;var b=Math.cos(a*=bO);gZ(b*Math.cos(c),b*Math.sin(c),Math.sin(a))}function gZ(c,a,b){++gE,bf+=(c-bf)/gE,hD+=(a-hD)/gE,eD+=(b-eD)/gE}function aD(){function d(m,g){m*=bO;var h=Math.cos(g*=bO),j=h*Math.cos(m),f=h*Math.sin(m),k=Math.sin(g),e=Math.atan2(Math.sqrt((e=c*k-b*f)*e+(e=b*j-a*k)*e+(e=a*f-c*j)*e),a*j+c*f+b*k);dv+=e,j5+=e*(a+(a=j)),ay+=e*(c+(c=f)),g0+=e*(b+(b=k)),gZ(a,c,b)}var a,c,b;eZ.point=function(e,f){e*=bO;var g=Math.cos(f*=bO);a=g*Math.cos(e),c=g*Math.sin(e),b=Math.sin(f),eZ.point=d,gZ(a,c,b)}}function i7(){eZ.point=av}function aS(){function g(k,A){k*=bO;var w=Math.cos(A*=bO),j=w*Math.cos(k),y=w*Math.sin(k),x=Math.sin(A),m=a*x-b*y,B=b*j-d*x,u=d*y-a*j,q=Math.sqrt(m*m+B*B+u*u),r=d*j+a*y+b*x,i=q&&-i2(r)/q,z=Math.atan2(q,r);aF+=i*m,jb+=i*B,aU+=i*u,dv+=z,j5+=z*(d+(d=j)),ay+=z*(a+(a=y)),g0+=z*(b+(b=x)),gZ(d,a,b)}var c,f,d,a,b;eZ.point=function(h,e){c=h,f=e,eZ.point=g,h*=bO;var i=Math.cos(e*=bO);d=i*Math.cos(h),a=i*Math.sin(h),b=Math.sin(e),gZ(d,a,b)},eZ.lineEnd=function(){g(c,f),eZ.lineEnd=i7,eZ.point=av}}function eY(){return !0}function fd(k,C,y,b,B){var q=[],j=[];if(k.forEach(function(s){if(!((h=s.length-1)<=0)){var h,o=s[0],i=s[h];if(j3(o,i)){B.lineStart();for(var g=0;h>g;++g){B.point((o=s[g])[0],o[1])}return B.lineEnd(),void 0}var p=new cA(o,s,null,!0),f=new cA(o,null,p,!1);p.o=f,q.push(p),j.push(f),p=new cA(i,s,null,!1),f=new cA(i,null,p,!0),p.o=f,q.push(p),j.push(f)}}),j.sort(C),a1(q),a1(j),q.length){for(var A=0,z=y,m=j.length;m>A;++A){j[A].e=z=!z}for(var D,x,v=q[0];;){for(var w=v,d=!0;w.v;){if((w=w.n)===v){return}}D=w.z,B.lineStart();do{if(w.v=w.o.v=!0,w.e){if(d){for(var A=0,m=D.length;m>A;++A){B.point((x=D[A])[0],x[1])}}else{b(w.x,w.n.x,1,B)}w=w.n}else{if(d){D=w.p.z;for(var A=D.length-1;A>=0;--A){B.point((x=D[A])[0],x[1])}}else{b(w.x,w.p.x,-1,B)}w=w.p}w=w.o,D=w.z,d=!d}while(!w.v);B.lineEnd()}}}function a1(f){if(b=f.length){for(var b,d,c=0,a=f[0];++c<b;){a.n=d=f[c],d.p=a,a=d}a.n=d=f[0],d.p=a}}function cA(d,a,c,b){this.x=d,this.z=a,this.o=c,this.e=b,this.v=!1,this.n=this.p=null}function bK(d,a,c,b){return function(q,B){function w(f,h){var g=q(f,h);d(f=g[0],h=g[1])&&B.point(f,h)}function H(h,f){var g=q(h,f);F.point(g[0],g[1])}function G(){j.point=H,F.lineStart()}function A(){j.point=w,F.lineEnd()}function r(h,f){n.push([h,f]);var g=q(h,f);e.point(g[0],g[1])}function E(){e.lineStart(),n=[]}function C(){r(n[0][0],n[0][1]),e.lineEnd();var m,g=e.clean(),i=k.buffer(),h=i.length;if(n.pop(),t.push(n),n=null,h){if(1&g){m=i[0];var f,h=m.length-1,l=-1;if(h>0){for(I||(B.polygonStart(),I=!0),B.lineStart();++l<h;){B.point((f=m[l])[0],f[1])}B.lineEnd()}}else{h>1&&2&g&&i.push(i.pop().concat(i.shift())),D.push(i.filter(gH))}}}var D,t,n,F=a(B),z=q.invert(b[0],b[1]),j={point:w,lineStart:G,lineEnd:A,polygonStart:function(){j.point=r,j.lineStart=E,j.lineEnd=C,D=[],t=[]},polygonEnd:function(){j.point=w,j.lineStart=G,j.lineEnd=A,D=dK.merge(D);var f=bp(z,t);D.length?(I||(B.polygonStart(),I=!0),fd(D,hm,f,c,B)):f&&(I||(B.polygonStart(),I=!0),B.lineStart(),c(null,null,1,B),B.lineEnd()),I&&(B.polygonEnd(),I=!1),D=t=null},sphere:function(){B.polygonStart(),B.lineStart(),c(null,null,1,B),B.lineEnd(),B.polygonEnd()}},k=jF(),e=a(k),I=!1;return j}}function gH(a){return a.length>1}function jF(){var b,a=[];return{lineStart:function(){a.push(b=[])},point:function(c,d){b.push([c,d])},lineEnd:hN,buffer:function(){var c=a;return a=[],b=null,c},rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))}}}function hm(b,a){return((b=b.x)[0]<0?b[1]-fh-a5:fh-b[1])-((a=a.x)[0]<0?a[1]-fh-a5:fh-a[1])}function eG(f){var b,d=0/0,c=0/0,a=0/0;return{lineStart:function(){f.lineStart(),b=1},point:function(g,h){var e=g>0?aW:-aW,j=fW(g-d);fW(j-aW)<a5?(f.point(d,c=(c+h)/2>0?fh:-fh),f.point(a,c),f.lineEnd(),f.lineStart(),f.point(e,c),f.point(g,c),b=0):a!==e&&j>=aW&&(fW(d-a)<a5&&(d-=a*a5),fW(g-e)<a5&&(g-=e*a5),c=c4(d,c,g,h),f.point(a,c),f.lineEnd(),f.lineStart(),f.point(e,c),b=0),f.point(d=g,c=h),a=e},lineEnd:function(){f.lineEnd(),d=c=0/0},clean:function(){return 2-b}}}function c4(h,c,f,d){var a,b,g=Math.sin(h-f);return fW(g)>a5?Math.atan((Math.sin(c)*(b=Math.cos(d))*Math.sin(f)-Math.sin(d)*(a=Math.cos(c))*Math.sin(h))/(a*b*g)):(c+d)/2}function fk(g,c,f,d){var a;if(null==g){a=f*fh,d.point(-aW,a),d.point(0,a),d.point(aW,a),d.point(aW,0),d.point(aW,-a),d.point(0,-a),d.point(-aW,-a),d.point(-aW,0),d.point(-aW,a)}else{if(fW(g[0]-c[0])>a5){var b=g[0]<c[0]?aW:-aW;a=f*b/2,d.point(-b,a),d.point(0,a),d.point(b,a)}else{d.point(c[0],c[1])}}}function bp(Q,I){var Z=Q[0],L=Q[1],G=[Math.sin(Z),-Math.cos(Z),0],V=0,P=0;gW.reset();for(var ai=0,ac=I.length;ac>ai;++ai){var T=I[ai],J=T.length;if(J){for(var Y=T[0],W=Y[0],X=Y[1]/2+aW/4,O=Math.sin(X),F=Math.cos(X),aa=1;;){aa===J&&(aa=0),Q=T[aa];var R=Q[0],z=Q[1]/2+aW/4,B=Math.sin(z),q=Math.cos(z),al=R-W,ae=al>=0?1:-1,D=ae*al,j=D>aW,U=O*B;if(gW.add(Math.atan2(U*ae*Math.sin(D),F*q+U*Math.cos(D))),V+=j?al+ae*e0:al,j^W>=Z^R>=Z){var H=gC(gU(Y),gU(Q));hC(H);var N=gC(G,H);hC(N);var K=(j^al>=0?-1:1)*i6(N[2]);(L>K||L===K&&(H[0]||H[1]))&&(P+=j^al>=0?1:-1)}if(!aa++){break}W=R,O=B,F=q,Y=Q}}}return(-a5>V||a5>V&&0>gW)^1&P}function fY(f){function m(c,a){return Math.cos(c)*Math.cos(a)>g}function h(t){var q,o,r,a,p;return{lineStart:function(){a=r=!1,p=1},point:function(s,i){var n,u=[s,i],e=m(s,i),w=d?e?0:l(s,i):e?l(s+(0>s?aW:-aW),i):0;if(!q&&(a=r=e)&&t.lineStart(),e!==r&&(n=b(q,u),(j3(q,n)||j3(u,n))&&(u[0]+=a5,u[1]+=a5,e=m(u[0],u[1]))),e!==r){p=0,e?(t.lineStart(),n=b(u,q),t.point(n[0],n[1])):(n=b(q,u),t.point(n[0],n[1]),t.lineEnd()),q=n}else{if(k&&q&&d^e){var c;w&o||!(c=b(u,q,!0))||(p=0,d?(t.lineStart(),t.point(c[0][0],c[0][1]),t.point(c[1][0],c[1][1]),t.lineEnd()):(t.point(c[1][0],c[1][1]),t.lineEnd(),t.lineStart(),t.point(c[0][0],c[0][1])))}}!e||q&&j3(q,u)||t.point(u[0],u[1]),q=u,r=e,o=w},lineEnd:function(){r&&t.lineEnd(),q=null},clean:function(){return p|(a&&r)<<1}}}function b(V,L,ae){var Q=gU(V),J=gU(L),U=[1,0,0],ar=gC(Q,J),al=gd(ar,ar),X=ar[0],O=al-X*X;if(!O){return !ae&&V}var ac=g*al/O,Z=-g*X/O,aa=gC(U,ar),T=bb(U,ac),I=bb(ar,Z);ds(T,I);var ai=aa,W=gd(T,ai),F=gd(ai,ai),G=W*W-F*(gd(T,T)-1);if(!(0>G)){var B=Math.sqrt(G),at=bb(ai,(-W-B)/F);if(ds(at,T),at=eB(at),!ae){return at}var ao,H=V[0],i=L[0],Y=V[1],K=L[1];H>i&&(ao=H,H=i,i=ao);var R=i-H,P=fW(R-aW)<a5,q=P||a5>R;if(!P&&Y>K&&(ao=Y,Y=K,K=ao),q?P?Y+K>0^at[1]<(fW(at[0]-H)<a5?Y:K):Y<=at[1]&&at[1]<=K:R>aW^(H<=at[0]&&at[0]<=i)){var D=bb(ai,(-W+B)/F);return ds(D,T),[at,eB(D)]}}}function l(c,n){var i=d?f:aW-f,a=0;return -i>c?a|=1:c>i&&(a|=2),-i>n?a|=4:n>i&&(a|=8),a}var g=Math.cos(f),d=g>0,k=fW(g)>a5,j=b4(f,6*bO);return bK(m,h,j,d?[0,-f]:[-aW,f-aW])}function ej(d,a,c,b){return function(y){var m,j=y.a,w=y.b,t=j.x,k=j.y,z=w.x,r=w.y,n=0,q=1,e=z-t,x=r-k;if(m=d-t,e||!(m>0)){if(m/=e,0>e){if(n>m){return}q>m&&(q=m)}else{if(e>0){if(m>q){return}m>n&&(n=m)}}if(m=c-t,e||!(0>m)){if(m/=e,0>e){if(m>q){return}m>n&&(n=m)}else{if(e>0){if(n>m){return}q>m&&(q=m)}}if(m=a-k,x||!(m>0)){if(m/=x,0>x){if(n>m){return}q>m&&(q=m)}else{if(x>0){if(m>q){return}m>n&&(n=m)}}if(m=b-k,x||!(0>m)){if(m/=x,0>x){if(m>q){return}m>n&&(n=m)}else{if(x>0){if(n>m){return}q>m&&(q=m)}}return n>0&&(y.a={x:t+n*e,y:k+n*x}),1>q&&(y.b={x:t+q*e,y:k+q*x}),y}}}}}}function fC(h,c,f,d){function a(i,e){return fW(i[0]-h)<a5?e>0?0:3:fW(i[0]-f)<a5?e>0?2:1:fW(i[1]-c)<a5?e>0?1:0:e>0?3:2}function b(i,e){return g(i.x,e.x)}function g(l,i){var k=a(l,1),j=a(i,1);return k!==j?k-j:0===k?i[1]-l[1]:1===k?l[0]-i[0]:2===k?l[1]-i[1]:i[0]-l[0]}return function(Q){function O(p){for(var C=0,w=L.length,k=p[1],A=0;w>A;++A){for(var v,m=1,y=L[A],x=y.length,s=y[0];x>m;++m){v=y[m],s[1]<=k?v[1]>k&&iG(s,v,p)>0&&++C:v[1]<=k&&iG(s,v,p)<0&&--C,s=v}}return 0!==C}function G(p,m,x,k){var v=0,w=0;if(null==p||(v=a(p,x))!==(w=a(m,x))||g(p,m)<0^x>0){do{k.point(0===v||3===v?h:f,v>1?d:c)}while((v=(v+x+4)%4)!==w)}else{k.point(m[0],m[1])}}function u(k,l){return k>=h&&f>=k&&l>=c&&d>=l}function K(l,k){u(l,k)&&Q.point(l,k)}function I(){i.point=D,L&&L.push(F=[]),e=!0,q=!1,R=P=0/0}function J(){r&&(D(n,o),j&&q&&B.rejoin(),r.push(B.buffer())),i.point=K,q&&Q.lineEnd()}function D(p,k){p=Math.max(-a3,Math.min(a3,p)),k=Math.max(-a3,Math.min(a3,k));var m=u(p,k);if(L&&F.push([p,k]),e){n=p,o=k,j=m,e=!1,m&&(Q.lineStart(),Q.point(p,k))}else{if(m&&q){Q.point(p,k)}else{var l={a:{x:R,y:P},b:{x:p,y:k}};z(l)?(q||(Q.lineStart(),Q.point(l.a.x,l.a.y)),Q.point(l.b.x,l.b.y),m||Q.lineEnd(),H=!1):m&&(Q.lineStart(),Q.point(p,k),H=!1)}}R=p,P=k,q=m}var r,L,F,n,o,j,R,P,q,e,H,t=Q,B=jF(),z=ej(h,c,f,d),i={point:K,lineStart:I,lineEnd:J,polygonStart:function(){Q=B,r=[],L=[],H=!0},polygonEnd:function(){Q=t,r=dK.merge(r);var l=O([h,d]),m=H&&l,k=r.length;(m||k)&&(Q.polygonStart(),m&&(Q.lineStart(),G(null,null,1,Q),Q.lineEnd()),k&&fd(r,b,l,G,Q),Q.polygonEnd()),r=L=F=null}};return i}}function jU(c,a){function b(f,d){return f=c(f,d),a(f[0],f[1])}return c.invert&&a.invert&&(b.invert=function(f,d){return f=a.invert(f,d),f&&c.invert(f[0],f[1])}),b}function aJ(f){var b=0,d=aW/3,c=g4(f),a=c(b,d);return a.parallels=function(e){return arguments.length?c(b=e[0]*aW/180,d=e[1]*aW/180):[180*(b/aW),180*(d/aW)]},a}function gk(h,c){function f(k,i){var j=Math.sqrt(b-2*a*Math.sin(i))/a;return[j*Math.sin(k*=a),g-j*Math.cos(k)]}var d=Math.sin(h),a=(d+Math.sin(c))/2,b=1+d*(2*a-d),g=Math.sqrt(b)/a;return f.invert=function(k,i){var j=g-i;return[Math.atan2(k,j)/a,i6((b-(k*k+j*j)*a*a)/(2*a))]},f}function cR(){function f(g,e){bM+=a*g-c*e,c=g,a=e}var b,d,c,a;c5.point=function(e,g){c5.point=f,b=c=e,d=a=g},c5.lineEnd=function(){f(b,d)}}function jp(b,a){gI>b&&(gI=b),b>hn&&(hn=b),jI>a&&(jI=a),a>eH&&(eH=a)}function cs(){function k(e,a){j.push("M",e,",",a,d)}function f(e,a){j.push("M",e,",",a),b.point=h}function h(e,a){j.push("L",e,",",a)}function g(){b.point=k}function c(){j.push("Z")}var d=dQ(4.5),j=[],b={point:k,lineStart:function(){b.point=f},lineEnd:g,polygonStart:function(){b.lineEnd=c},polygonEnd:function(){b.lineEnd=g,b.point=k},pointRadius:function(a){return d=dQ(a),b},result:function(){if(j.length){var a=j.join("");return j=[],a}}};return b}function dQ(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function c8(b,a){bf+=b,hD+=a,++eD}function d3(){function c(h,f){var d=h-a,e=f-b,g=Math.sqrt(d*d+e*e);j5+=g*(a+h)/2,ay+=g*(b+f)/2,g0+=g,c8(a=h,b=f)}var a,b;bs.point=function(e,d){bs.point=c,c8(a=e,b=d)}}function b1(){bs.point=c8}function dy(){function f(l,h){var j=l-c,g=h-a,k=Math.sqrt(j*j+g*g);j5+=k*(c+l)/2,ay+=k*(a+h)/2,g0+=k,k=a*l-c*h,aF+=k*(c+l),jb+=k*(a+h),aU+=3*k,c8(c=l,a=h)}var b,d,c,a;bs.point=function(e,g){bs.point=f,c8(b=c=e,d=a=g)},bs.lineEnd=function(){f(b,d)}}function iA(k){function f(a,i){k.moveTo(a,i),k.arc(a,i,j,0,e0)}function h(a,i){k.moveTo(a,i),b.point=g}function g(a,i){k.lineTo(a,i)}function c(){b.point=f}function d(){k.closePath()}var j=4.5,b={point:f,lineStart:function(){b.point=h},lineEnd:c,polygonStart:function(){b.lineEnd=d},polygonEnd:function(){b.lineEnd=c,b.point=f},pointRadius:function(a){return j=a,b},result:hN};return b}function kd(k){function f(a){return(b?g:h)(a)}function h(a){return dY(a,function(l,i){l=k(l,i),a.point(l[0],l[1])})}function g(B){function N(l,i){l=k(l,i),B.point(l[0],l[1])}function D(){u=0/0,a.point=I,B.lineStart()}function I(p,m){var l=gU([p,m]),s=k(p,m);c(u,n,q,R,Q,z,u=s[0],n=s[1],q=p,R=l[0],Q=l[1],z=l[2],b,B),B.point(u,n)}function F(){a.point=N,B.lineEnd()}function P(){D(),a.point=H,a.lineEnd=C}function H(i,e){I(L=i,J=e),K=u,E=n,A=R,O=Q,G=z,a.point=I}function C(){c(u,n,q,R,Q,z,K,E,L,A,O,G,b,B),a.lineEnd=F,F()}var L,J,K,E,A,O,G,q,u,n,R,Q,z,a={point:N,lineStart:D,lineEnd:F,polygonStart:function(){B.polygonStart(),a.lineStart=P},polygonEnd:function(){B.polygonEnd(),a.lineStart=D}};return a}function c(J,aa,P,al,ae,V,K,Z,X,Y,R,H,ac,U){var D=K-J,F=Z-aa,q=D*D+F*F;if(q>4*d&&ac--){var ao=al+Y,ai=ae+R,G=V+H,n=Math.sqrt(ao*ao+ai*ai+G*G),W=Math.asin(G/=n),I=fW(fW(G)-1)<a5||fW(P-X)<a5?(P+X)/2:Math.atan2(ai,ao),Q=k(I,W),O=Q[0],o=Q[1],B=O-J,u=o-aa,i=F*B-D*u;(i*i/q>d||fW((D*B+F*u)/q-0.5)>0.3||j>al*Y+ae*R+V*H)&&(c(J,aa,P,al,ae,V,O,o,I,ao/=n,ai/=n,G,ac,U),U.point(O,o),c(O,o,I,ao,ai,G,K,Z,X,Y,R,H,ac,U))}}var d=0.5,j=Math.cos(30*bO),b=16;return f.precision=function(a){return arguments.length?(b=(d=a*a)>0&&16,f):Math.sqrt(d)},f}function hG(b){var a=kd(function(c,d){return b([c*gJ,d*gJ])});return function(c){return cD(a(c))}}function fG(a){this.stream=a}function dY(b,a){return{point:a,sphere:function(){b.sphere()},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}}}function bN(a){return g4(function(){return a})()}function g4(H){function C(a){return a=T(a[0]*bO,a[1]*bO),[a[0]*L+R,J-a[1]*L]}function P(a){return a=T.invert((a[0]-R)/L,(J-a[1])/L),a&&[a[0]*gJ,a[1]*gJ]}function E(){T=jU(G=dD(I,k,q),K);var a=K(A,Q);return R=N-a[0]*L,J=F+a[1]*L,B()}function B(){return D&&(D.valid=!1,D=null),C}var K,G,T,R,J,D,O=kd(function(b,a){return b=K(b,a),[b[0]*L+R,J-b[1]*L]}),L=150,N=480,F=250,A=0,Q=0,I=0,k=0,q=0,j=fg,U=aK,S=null,z=null;return C.stream=function(a){return D&&(D.valid=!1),D=cD(j(G,O(U(a)))),D.valid=!0,D},C.clipAngle=function(a){return arguments.length?(j=null==a?(S=a,fg):fY((S=+a)*bO),B()):S},C.clipExtent=function(a){return arguments.length?(z=a,U=a?fC(a[0][0],a[0][1],a[1][0],a[1][1]):aK,B()):z},C.scale=function(a){return arguments.length?(L=+a,E()):L},C.translate=function(a){return arguments.length?(N=+a[0],F=+a[1],E()):[N,F]},C.center=function(a){return arguments.length?(A=a[0]%360*bO,Q=a[1]%360*bO,E()):[A*gJ,Q*gJ]},C.rotate=function(a){return arguments.length?(I=a[0]%360*bO,k=a[1]%360*bO,q=a.length>2?a[2]%360*bO:0,E()):[I*gJ,k*gJ,q*gJ]},dK.rebind(C,O,"precision"),function(){return K=H.apply(this,arguments),C.invert=K.invert&&P,E()}}function cD(a){return dY(a,function(b,c){a.point(b*bO,c*bO)})}function bv(b,a){return[b,a]}function fL(b,a){return[b>aW?b-e0:-aW>b?b+e0:b,a]}function dD(c,a,b){return c?a||b?jU(hT(c),eL(a,b)):hT(c):a||b?eL(a,b):fL}function jB(a){return function(b,c){return b+=a,[b>aW?b-e0:-aW>b?b+e0:b,c]}}function hT(b){var a=jB(b);return a.invert=jB(-b),a}function eL(h,c){function f(q,k){var o=Math.cos(k),j=Math.cos(q)*o,p=Math.sin(q)*o,i=Math.sin(k),m=i*d+j*a;return[Math.atan2(p*b-m*g,j*d-i*a),i6(m*b+p*g)]}var d=Math.cos(h),a=Math.sin(h),b=Math.cos(c),g=Math.sin(c);return f.invert=function(q,k){var o=Math.cos(k),j=Math.cos(q)*o,p=Math.sin(q)*o,i=Math.sin(k),m=i*b-p*g;return[Math.atan2(p*b+i*g,j*d+m*a),i6(m*d-j*a)]},f}function b4(d,a){var c=Math.cos(d),b=Math.sin(d);return function(g,h,k,f){var m=k*a;null!=g?(g=gM(c,g),h=gM(c,h),(k>0?h>g:g>h)&&(g+=k*e0)):(g=d+k*e0,h=d-0.5*m);for(var e,j=g;k>0?j>h:h>j;j-=m){f.point((e=eB([c,-b*Math.cos(j),-b*Math.sin(j)]))[0],e[1])}}}function gM(d,a){var c=gU(a);c[0]-=d,hC(c);var b=i2(-c[1]);return((-c[2]<0?-b:b)+2*Math.PI-a5)%(2*Math.PI)}function f3(d,a,c){var b=dK.range(d,a-a5,c).concat(a);return function(e){return b.map(function(f){return[e,f]})}}function gs(d,a,c){var b=dK.range(d,a-a5,c).concat(a);return function(e){return b.map(function(f){return[f,e]})}}function dg(a){return a.source}function a4(a){return a.target}function hv(k,C,y,b){var B=Math.cos(C),q=Math.sin(C),j=Math.cos(b),A=Math.sin(b),z=B*Math.cos(k),m=B*Math.sin(k),D=j*Math.cos(y),x=j*Math.sin(y),v=2*Math.asin(Math.sqrt(bL(b-C)+B*j*bL(y-k))),w=1/Math.sin(v),d=v?function(i){var c=Math.sin(i*=v)*w,g=Math.sin(v-i)*w,f=g*z+c*D,a=g*m+c*x,h=g*q+c*A;return[Math.atan2(a,f)*gJ,Math.atan2(h,Math.sqrt(f*f+a*a))*gJ]}:function(){return[k*gJ,C*gJ]};return d.distance=v,d}function eq(){function d(k,f){var g=Math.sin(f*=bO),h=Math.cos(f),e=fW((k*=bO)-a),j=Math.cos(e);fZ+=Math.atan2(Math.sqrt((e=h*Math.sin(e))*e+(e=b*g-c*h*j)*e),c*g+b*h*j),a=k,c=g,b=h}var a,c,b;ek.point=function(e,f){a=e*bO,c=Math.sin(f*=bO),b=Math.cos(f),ek.point=d},ek.lineEnd=function(){ek.point=ek.lineEnd=hN}}function jX(c,a){function b(g,j){var h=Math.cos(g),d=Math.cos(j),f=c(h*d);return[f*d*Math.sin(g),f*Math.sin(j)]}return b.invert=function(k,h){var g=Math.sqrt(k*k+h*h),d=a(g),f=Math.sin(d),j=Math.cos(d);return[Math.atan2(k*f,g*j),Math.asin(g&&h*f/g)]},b}function ad(h,c){function f(k,i){g>0?-fh+a5>i&&(i=-fh+a5):i>fh-a5&&(i=fh-a5);var j=g/Math.pow(a(i),b);return[j*Math.sin(b*k),g-j*Math.cos(b*k)]}var d=Math.cos(h),a=function(e){return Math.tan(aW/4+e/2)},b=h===c?Math.sin(h):Math.log(d/Math.cos(c))/Math.log(a(c)/a(h)),g=d*Math.pow(a(h),b)/b;return b?(f.invert=function(l,i){var k=g-i,j=jk(b)*Math.sqrt(l*l+k*k);return[Math.atan2(l,k)/b,2*Math.atan(Math.pow(g/j,1/b))-fh]},f):am}function gR(g,c){function f(j,h){var i=b-h;return[i*Math.sin(a*j),b-i*Math.cos(a*j)]}var d=Math.cos(g),a=g===c?Math.sin(g):(d-Math.cos(c))/(c-g),b=d/a+g;return fW(a)<a5?bv:(f.invert=function(j,h){var i=b-h;return[Math.atan2(j,i)/a,b-jk(a)*Math.sqrt(j*j+i*i)]},f)}function am(b,a){return[b,Math.log(Math.tan(aW/4+a/2))]}function iM(g){var c,f=bN(g),d=f.scale,a=f.translate,b=f.clipExtent;return f.scale=function(){var e=d.apply(f,arguments);return e===f?c?f.clipExtent(null):f:e},f.translate=function(){var e=a.apply(f,arguments);return e===f?c?f.clipExtent(null):f:e},f.clipExtent=function(j){var h=b.apply(f,arguments);if(h===f){if(c=null==j){var e=aW*d(),i=a();b([[i[0]-e,i[1]-e],[i[0]+e,i[1]+e]])}}else{c&&(h=null)}return h},f.clipExtent(null)}function aM(b,a){return[Math.log(Math.tan(aW/4+a/2)),-b]}function eQ(a){return a[0]}function e3(a){return a[1]}function aV(f){for(var b=f.length,d=[0,1],c=2,a=2;b>a;a++){for(;c>1&&iG(f[d[c-2]],f[d[c-1]],f[a])<=0;){--c}d[c++]=a}return d.slice(0,c)}function cm(b,a){return b[0]-a[0]||b[1]-a[1]}function bE(c,a,b){return(b[0]-a[0])*(c[1]-a[1])<(b[1]-a[1])*(c[0]-a[0])}function gz(g,y,q,b){var x=g[0],k=q[0],d=y[0]-x,w=b[0]-k,v=g[1],j=q[1],z=y[1]-v,p=b[1]-j,m=(w*(v-j)-p*(x-k))/(p*d-w*z);return[x+m*d,v+m*z]}function jv(c){var a=c[0],b=c[c.length-1];return !(a[0]-b[0]||a[1]-b[1])}function g9(){hz(this),this.edge=this.site=this.circle=null}function ey(b){var a=dz.pop()||new g9;return a.site=b,a}function cW(a){iZ(a),c9.remove(a),dz.push(a),hz(a)}function e8(g){var w=g.circle,m=w.x,b=w.cy,v={x:m,y:b},j=g.P,d=g.N,q=[g];cW(g);for(var p=j;p.circle&&fW(m-p.circle.x)<a5&&fW(b-p.circle.cy)<a5;){j=p.P,q.unshift(p),cW(p),p=j}q.unshift(p),iZ(p);for(var h=d;h.circle&&fW(m-h.circle.x)<a5&&fW(b-h.circle.cy)<a5;){d=h.N,q.push(h),cW(h),h=d}q.push(h),iZ(h);var x,k=q.length;for(x=1;k>x;++x){h=q[x],p=q[x-1],dn(h.edge,p.site,h.site,v)}p=q[0],h=q[k-1],h.edge=dT(p.site,h.site,null,v),cJ(p),cJ(h)}function bg(E){for(var z,L,B,w,H=E.x,D=E.y,P=c9._;P;){if(B=fQ(P,D)-H,B>a5){P=P.L}else{if(w=H-d6(P,D),!(w>a5)){B>-a5?(z=P.P,L=P):w>-a5?(z=P,L=P.N):z=L=P;break}if(!P.R){z=P;break}P=P.R}}var O=ey(E);if(c9.insert(z,O),z||L){if(z===L){return iZ(z),L=ey(z.site),c9.insert(O,L),O.edge=L.edge=dT(z.site,O.site),cJ(z),cJ(L),void 0}if(!L){return O.edge=dT(z.site,O.site),void 0}iZ(z),iZ(L);var G=z.site,A=G.x,K=G.y,I=E.x-A,J=E.y-K,C=L.site,q=C.x-A,N=C.y-K,F=2*(I*N-J*q),j=I*I+J*J,k=q*q+N*N,b={x:(N*j-J*k)/F+A,y:(I*k-q*j)/F+K};dn(L.edge,G,C,b),O.edge=dT(G,E,null,b),L.edge=dT(E,C,null,b),cJ(z),cJ(L)}}function fQ(g,y){var q=g.site,b=q.x,x=q.y,k=x-y;if(!k){return b}var d=g.P;if(!d){return -1/0}q=d.site;var w=q.x,v=q.y,j=v-y;if(!j){return w}var z=w-b,p=1/k-1/j,m=z/j;return p?(-m+Math.sqrt(m*m-2*p*(z*z/(-2*j)-v+j/2+x-k/2)))/p+b:(b+w)/2}function d6(d,a){var c=d.N;if(c){return fQ(c,a)}var b=d.site;return b.y===a?b.x:1/0}function fs(a){this.site=a,this.edges=[]}function jJ(m){for(var G,A,b,F,w,k,D,C,q,H,z=m[0][0],x=m[1][0],y=m[0][1],j=m[1][1],E=dS,B=E.length;B--;){if(w=E[B],w&&w.prepare()){for(D=w.edges,C=D.length,k=0;C>k;){H=D[k].end(),b=H.x,F=H.y,q=D[++k%C].start(),G=q.x,A=q.y,(fW(b-G)>a5||fW(F-A)>a5)&&(D.splice(k,0,new h6(bW(w.site,H,fW(b-z)<a5&&j-F>a5?{x:z,y:fW(G-z)<a5?A:j}:fW(F-j)<a5&&x-b>a5?{x:fW(A-j)<a5?G:x,y:j}:fW(b-x)<a5&&F-y>a5?{x:x,y:fW(G-x)<a5?A:y}:fW(F-y)<a5&&b-z>a5?{x:fW(A-y)<a5?G:z,y:y}:null),w.site,null)),++C)}}}}function az(b,a){return a.angle-b.angle}function f8(){hz(this),this.x=this.y=this.arc=this.site=this.cy=null}function cJ(D){var w=D.P,K=D.N;if(w&&K){var A=w.site,q=D.site,G=K.site;if(A!==G){var C=q.x,N=q.y,M=A.x-C,F=A.y-N,z=G.x-C,J=G.y-N,H=2*(M*J-F*z);if(!(H>=-cE)){var I=M*M+F*F,B=z*z+J*J,k=(J*I-F*B)/H,L=(M*B-z*I)/H,J=L+N,E=iB.pop()||new f8;E.arc=D,E.site=q,E.x=k+C,E.y=J+Math.sqrt(k*k+L*L),E.cy=J,D.circle=E;for(var b=null,j=b3._;j;){if(E.y<j.y||E.y===j.y&&E.x<=j.x){if(!j.L){b=j.P;break}j=j.L}else{if(!j.R){b=j;break}j=j.R}}b3.insert(b,E),b||(d5=E)}}}}function iZ(b){var a=b.circle;a&&(a.P||(d5=a.N),b3.remove(a),iB.push(a),hz(a),b.circle=null)}function cb(f){for(var b,d=cw,c=ej(f[0][0],f[0][1],f[1][0],f[1][1]),a=d.length;a--;){b=d[a],(!dI(b,f)||!c(b)||fW(b.a.x-b.b.x)<a5&&fW(b.a.y-b.b.y)<a5)&&(b.a=b.b=null,d.splice(a,1))}}function dI(z,k){var G=z.b;if(G){return !0}var w,j,C=z.a,y=k[0][0],J=k[1][0],I=k[0][1],B=k[1][1],q=z.l,F=z.r,D=q.x,E=q.y,x=F.x,b=F.y,H=(D+x)/2,A=(E+b)/2;if(b===E){if(y>H||H>=J){return}if(D>x){if(C){if(C.y>=B){return}}else{C={x:H,y:I}}G={x:H,y:B}}else{if(C){if(C.y<I){return}}else{C={x:H,y:B}}G={x:H,y:I}}}else{if(w=(D-x)/(b-E),j=A-w*H,-1>w||w>1){if(D>x){if(C){if(C.y>=B){return}}else{C={x:(I-j)/w,y:I}}G={x:(B-j)/w,y:B}}else{if(C){if(C.y<I){return}}else{C={x:(B-j)/w,y:B}}G={x:(I-j)/w,y:I}}}else{if(b>E){if(C){if(C.x>=J){return}}else{C={x:y,y:w*y+j}}G={x:J,y:w*J+j}}else{if(C){if(C.x<y){return}}else{C={x:J,y:w*J+j}}G={x:y,y:w*y+j}}}}return z.a=C,z.b=G,!0}function c1(b,a){this.l=b,this.r=a,this.a=this.b=null}function dT(f,b,d,c){var a=new c1(f,b);return cw.push(a),d&&dn(a,f,b,d),c&&dn(a,b,f,c),dS[f.i].edges.push(new h6(a,f,b)),dS[b.i].edges.push(new h6(a,b,f)),a}function bW(d,a,c){var b=new c1(d,null);return b.a=a,b.b=c,cw.push(b),b}function dn(d,a,c,b){d.a||d.b?d.l===c?d.b=b:d.a=b:(d.a=b,d.l=a,d.r=c)}function h6(f,b,d){var c=f.a,a=f.b;this.edge=f,this.site=b,this.angle=d?Math.atan2(d.y-b.y,d.x-b.x):f.l===b?Math.atan2(a.x-c.x,c.y-a.y):Math.atan2(c.x-a.x,a.y-c.y)}function j6(){this._=null}function hz(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function fz(f,b){var d=b,c=b.R,a=d.U;a?a.L===d?a.L=c:a.R=c:f._=c,c.U=a,d.U=c,d.R=c.L,d.R&&(d.R.U=d),c.L=d}function dW(f,b){var d=b,c=b.L,a=d.U;a?a.L===d?a.L=c:a.R=c:f._=c,c.U=a,d.U=c,d.L=c.R,d.L&&(d.L.U=d),c.R=d}function bJ(a){for(;a.L;){a=a.L}return a}function g2(h,c){var f,d,a,b=h.sort(cz).pop();for(cw=[],dS=new Array(h.length),c9=new j6,b3=new j6;;){if(a=d5,b&&(!a||b.y<a.y||b.y===a.y&&b.x<a.x)){(b.x!==f||b.y!==d)&&(dS[b.i]=new fs(b),bg(b),f=b.x,d=b.y),b=h.pop()}else{if(!a){break}e8(a.arc)}}c&&(cb(c),jJ(c));var g={cells:dS,edges:cw};return c9=b3=cw=dS=null,g}function cz(b,a){return a.y-b.y||a.x-b.x}function bn(c,a,b){return(c.x-b.x)*(a.y-c.y)-(c.x-a.x)*(b.y-c.y)}function fJ(a){return a.x}function dB(a){return a.y}function jy(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hO(f,m,h,b,l,g){if(!f(m,h,b,l,g)){var d=0.5*(h+l),k=0.5*(b+g),j=m.nodes;j[0]&&hO(f,j[0],h,b,d,k),j[1]&&hO(f,j[1],d,b,l,k),j[2]&&hO(f,j[2],h,k,d,g),j[3]&&hO(f,j[3],d,k,l,g)}}function eJ(k,f){k=dK.rgb(k),f=dK.rgb(f);var h=k.r,g=k.g,c=k.b,d=f.r-h,j=f.g-g,b=f.b-c;return function(a){return"#"+hs(Math.round(h+d*a))+hs(Math.round(g+j*a))+hs(Math.round(c+b*a))}}function b0(f,b){var d,c={},a={};for(d in f){d in b?c[d]=gp(f[d],b[d]):a[d]=f[d]}for(d in b){d in f||(a[d]=b[d])}return function(e){for(d in c){a[d]=c[d](e)}return a}}function gK(b,a){return a-=b=+b,function(c){return b+a*c}}function f1(f,m){var h,b,l,g=hH.lastIndex=fH.lastIndex=0,d=-1,k=[],j=[];for(f+="",m+="";(h=hH.exec(f))&&(b=fH.exec(m));){(l=b.index)>g&&(l=m.slice(g,l),k[d]?k[d]+=l:k[++d]=l),(h=h[0])===(b=b[0])?k[d]?k[d]+=b:k[++d]=b:(k[++d]=null,j.push({i:d,x:gK(h,b)})),g=fH.lastIndex}return g<m.length&&(l=m.slice(g),k[d]?k[d]+=l:k[++d]=l),k.length<2?j[0]?(m=j[0].x,function(a){return m(a)+""}):function(){return m}:(m=j.length,function(i){for(var c,a=0;m>a;++a){k[(c=j[a]).i]=c.x(i)}return k.join("")})}function gp(d,a){for(var c,b=dK.interpolators.length;--b>=0&&!(c=dK.interpolators[b](d,a));){}return c}function dd(k,f){var h,g=[],c=[],d=k.length,j=f.length,b=Math.min(k.length,f.length);for(h=0;b>h;++h){g.push(gp(k[h],f[h]))}for(;d>h;++h){c[h]=k[h]}for(;j>h;++h){c[h]=f[h]}return function(a){for(h=0;b>h;++h){c[h]=g[h](a)}return c}}function a0(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function hq(a){return function(b){return 1-a(1-b)}}function en(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function jT(a){return a*a}function kb(a){return a*a*a}function gO(c){if(0>=c){return 0}if(c>=1){return 1}var a=c*c,b=a*c;return 4*(0.5>c?b:3*(c-a)+b-0.75)}function ah(a){return function(b){return Math.pow(b,a)}}function iH(a){return 1-Math.cos(a*fh)}function aI(a){return Math.pow(2,10*(a-1))}function eN(a){return 1-Math.sqrt(1-a*a)}function e1(c,a){var b;return arguments.length<2&&(a=0.45),arguments.length?b=a/e0*Math.asin(1/c):(c=1,b=a/4),function(d){return 1+c*Math.pow(2,-10*d)*Math.sin((d-b)*e0/a)}}function aR(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function cg(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function bA(k,f){k=dK.hcl(k),f=dK.hcl(f);var h=k.h,g=k.c,c=k.l,d=f.h-h,j=f.c-g,b=f.l-c;return isNaN(j)&&(j=0,g=isNaN(g)?f.c:g),isNaN(d)?(d=0,h=isNaN(h)?f.h:h):d>180?d-=360:-180>d&&(d+=360),function(a){return dC(h+d*a,g+j*a,c+b*a)+""}}function gw(k,f){k=dK.hsl(k),f=dK.hsl(f);var h=k.h,g=k.s,c=k.l,d=f.h-h,j=f.s-g,b=f.l-c;return isNaN(j)&&(j=0,g=isNaN(g)?f.s:g),isNaN(d)?(d=0,h=isNaN(h)?f.h:h):d>180?d-=360:-180>d&&(d+=360),function(a){return bq(h+d*a,g+j*a,c+b*a)+""}}function jn(k,f){k=dK.lab(k),f=dK.lab(f);var h=k.l,g=k.a,c=k.b,d=f.l-h,j=f.a-g,b=f.b-c;return function(a){return hQ(h+d*a,g+j*a,c+b*a)+""}}function g6(b,a){return a-=b,function(c){return Math.round(b+a*c)}}function ev(g){var c=[g.a,g.b],f=[g.c,g.d],d=e5(c),a=cU(c,f),b=e5(a9(f,c,-a))||0;c[0]*f[1]<f[0]*c[1]&&(c[0]*=-1,c[1]*=-1,d*=-1,a*=-1),this.rotate=(d?Math.atan2(c[1],c[0]):Math.atan2(-f[0],f[1]))*gJ,this.translate=[g.e,g.f],this.scale=[d,b],this.skew=b?Math.atan2(a,b)*gJ:0}function cU(b,a){return b[0]*a[0]+b[1]*a[1]}function e5(b){var a=Math.sqrt(cU(b,b));return a&&(b[0]/=a,b[1]/=a),a}function a9(c,a,b){return c[0]+=b*a[0],c[1]+=b*a[1],c}function fN(k,C){var y,b=[],B=[],q=dK.transform(k),j=dK.transform(C),A=q.translate,z=j.translate,m=q.rotate,D=j.rotate,x=q.skew,v=j.skew,w=q.scale,d=j.scale;return A[0]!=z[0]||A[1]!=z[1]?(b.push("translate(",null,",",null,")"),B.push({i:1,x:gK(A[0],z[0])},{i:3,x:gK(A[1],z[1])})):z[0]||z[1]?b.push("translate("+z+")"):b.push(""),m!=D?(m-D>180?D+=360:D-m>180&&(m+=360),B.push({i:b.push(b.pop()+"rotate(",null,")")-2,x:gK(m,D)})):D&&b.push(b.pop()+"rotate("+D+")"),x!=v?B.push({i:b.push(b.pop()+"skewX(",null,")")-2,x:gK(x,v)}):v&&b.push(b.pop()+"skewX("+v+")"),w[0]!=d[0]||w[1]!=d[1]?(y=b.push(b.pop()+"scale(",null,",",null,")"),B.push({i:y-4,x:gK(w[0],d[0])},{i:y-2,x:gK(w[1],d[1])})):(1!=d[0]||1!=d[1])&&b.push(b.pop()+"scale("+d+")"),y=B.length,function(e){for(var c,a=-1;++a<y;){b[(c=B[a]).i]=c.x(e)}return b.join("")}}function d1(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return(c-b)*a}}function fp(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return Math.max(0,Math.min(1,(c-b)*a))}}function jE(g){for(var c=g.source,f=g.target,d=f5(c,f),a=[c];c!==d;){c=c.parent,a.push(c)}for(var b=a.length;f!==d;){a.splice(b,0,f),f=f.parent}return a}function aq(c){for(var a=[],b=c.parent;null!=b;){a.push(c),c=b,b=b.parent}return a.push(c),a}function f5(h,c){if(h===c){return h}for(var f=aq(h),d=aq(c),a=f.pop(),b=d.pop(),g=null;a===b;){g=a,a=f.pop(),b=d.pop()}return g}function cG(a){a.fixed|=2}function iT(a){a.fixed&=-7}function b7(a){a.fixed|=4,a.px=a.x,a.py=a.y}function dF(a){a.fixed&=-5}function cY(f,q,j){var b=0,p=0;if(f.charge=0,!f.leaf){for(var h,d=f.nodes,m=d.length,k=-1;++k<m;){h=d[k],null!=h&&(cY(h,q,j),f.charge+=h.charge,b+=h.charge*h.cx,p+=h.charge*h.cy)}}if(f.point){f.leaf||(f.point.x+=Math.random()-0.5,f.point.y+=Math.random()-0.5);var g=q*j[f.point.index];f.charge+=f.pointCharge=g,b+=g*f.point.x,p+=g*f.point.y}f.cx=b/f.charge,f.cy=p/f.charge}function dP(b,a){return dK.rebind(b,a,"sort","children","value"),b.nodes=b,b.links=fw,b}function bS(f,b){for(var d=[f];null!=(f=d.pop());){if(b(f),(a=f.children)&&(c=a.length)){for(var c,a;--c>=0;){d.push(a[c])}}}}function dj(h,c){for(var f=[h],d=[];null!=(h=f.pop());){if(d.push(h),(b=h.children)&&(a=b.length)){for(var a,b,g=-1;++g<a;){f.push(b[g])}}}for(;null!=(h=d.pop());){c(h)}}function h0(a){return a.children}function j2(a){return a.value}function hw(b,a){return a.value-b.value}function fw(a){return dK.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}function d7(a){return a.x}function bR(a){return a.y}function hb(c,a,b){c.y0=a,c.y=b}function cK(a){return dK.range(a.length)}function bz(d){for(var a=-1,c=d[0].length,b=[];++a<c;){b[a]=0}return b}function fR(g){for(var c,f=1,d=0,a=g[0][1],b=g.length;b>f;++f){(c=g[f][1])>a&&(d=f,a=c)}return d}function dJ(a){return a.reduce(jL,0)}function jL(b,a){return b+a[1]}function h8(b,a){return eR(b,Math.ceil(Math.log(a.length)/Math.LN2+1))}function eR(g,c){for(var f=-1,d=+g[0],a=(g[1]-d)/c,b=[];++f<=c;){b[f]=a*f+d}return b}function cd(a){return[dK.min(a),dK.max(a)]}function gS(b,a){return b.value-a.value}function f9(c,a){var b=c._pack_next;c._pack_next=a,a._pack_prev=c,a._pack_next=b,b._pack_prev=a}function gA(b,a){b._pack_next=a,a._pack_prev=b}function dp(f,b){var d=b.x-f.x,c=b.y-f.y,a=f.r+b.r;return 0.999*a*a>d*d+c*c}function a8(D){function w(a){z=Math.min(a.x-a.r,z),J=Math.max(a.x+a.r,J),H=Math.min(a.y-a.r,H),I=Math.max(a.y+a.r,I)}if((K=D.children)&&(F=K.length)){var K,A,q,G,C,N,M,F,z=1/0,J=-1/0,H=1/0,I=-1/0;if(K.forEach(hA),A=K[0],A.x=-A.r,A.y=0,w(A),F>1&&(q=K[1],q.x=q.r,q.y=0,w(q),F>2)){for(G=K[2],an(A,q,G),w(G),f9(A,G),A._pack_prev=G,f9(G,q),q=A._pack_next,C=3;F>C;C++){an(A,q,G=K[C]);var B=0,k=1,L=1;for(N=q._pack_next;N!==q;N=N._pack_next,k++){if(dp(N,G)){B=1;break}}if(1==B){for(M=A._pack_prev;M!==N._pack_prev&&!dp(M,G);M=M._pack_prev,L++){}}B?(L>k||k==L&&q.r<A.r?gA(A,q=N):gA(A=M,q),C--):(f9(A,G),q=G,w(G))}}var E=(z+J)/2,b=(H+I)/2,j=0;for(C=0;F>C;C++){G=K[C],G.x-=E,G.y-=b,j=Math.max(j,G.r+Math.sqrt(G.x*G.x+G.y*G.y))}D.r=j,K.forEach(ez)}}function hA(a){a._pack_next=a._pack_prev=a}function ez(a){delete a._pack_next,delete a._pack_prev}function j1(h,c,f,d){var a=h.children;if(h.x=c+=d*h.x,h.y=f+=d*h.y,h.r*=d,a){for(var b=-1,g=a.length;++b<g;){j1(a[b],c,f,d)}}}function an(f,q,j){var b=f.r+j.r,p=q.x-f.x,h=q.y-f.y;if(b&&(p||h)){var d=q.r+j.r,m=p*p+h*h;d*=d,b*=b;var k=0.5+(b-d)/(2*m),g=Math.sqrt(Math.max(0,2*d*(b+m)-(b-=m)*b-d*d))/(2*m);j.x=f.x+k*p+g*h,j.y=f.y+k*h-g*p}else{j.x=f.x+b,j.y=f.y}}function gY(b,a){return b.parent==a.parent?1:2}function aB(b){var a=b.children;return a.length?a[0]:b.t}function i0(c){var a,b=c.children;return(a=b.length)?b[a-1]:c.t}function aQ(d,a,c){var b=c/(a.i-d.i);a.c-=b,a.s+=c,d.c+=b,a.z+=c,a.m+=c}function eX(g){for(var c,f=0,d=0,a=g.children,b=a.length;--b>=0;){c=a[b],c.z+=f,c.m+=f,f+=c.s+(d+=c.c)}}function e9(c,a,b){return c.a.parent===a.parent?c.a:b}function aZ(a){return 1+dK.max(a,function(b){return b.y})}function cy(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function bI(b){var a=b.children;return a&&a.length?bI(a[0]):b}function gG(c){var a,b=c.children;return b&&(a=b.length)?gG(b[a-1]):c}function jC(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function hk(g,c){var f=g.x+c[3],d=g.y+c[0],a=g.dx-c[1]-c[3],b=g.dy-c[0]-c[2];return 0>a&&(f+=a/2,a=0),0>b&&(d+=b/2,b=0),{x:f,y:d,dx:a,dy:b}}function eF(c){var a=c[0],b=c[c.length-1];return b>a?[a,b]:[b,a]}function c2(a){return a.rangeExtent?a.rangeExtent():eF(a.range())}function fj(g,c,f,d){var a=f(g[0],g[1]),b=d(c[0],c[1]);return function(e){return b(a(e))}}function bm(h,c){var f,d=0,a=h.length-1,b=h[d],g=h[a];return b>g&&(f=d,d=a,a=f,f=b,b=g,g=f),h[d]=c.floor(b),h[a]=c.ceil(g),h}function fX(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:b8}function eh(k,f,h,g){var c=[],d=[],j=0,b=Math.min(k.length,f.length)-1;for(k[b]<k[0]&&(k=k.slice().reverse(),f=f.slice().reverse());++j<=b;){c.push(h(k[j-1],k[j])),d.push(g(f[j-1],f[j]))}return function(a){var i=dK.bisect(k,a,1,b)-1;return d[i](c[i](a))}}function fA(k,f,h,g){function c(){var a=Math.min(k.length,f.length)>2?eh:fj,e=g?fp:d1;return j=a(k,f,e,h),b=a(f,k,e,gp),d}function d(a){return j(a)}var j,b;return d.invert=function(a){return b(a)},d.domain=function(a){return arguments.length?(k=a.map(Number),c()):k},d.range=function(a){return arguments.length?(f=a,c()):f},d.rangeRound=function(a){return d.range(a).interpolate(g6)},d.clamp=function(a){return arguments.length?(g=a,c()):g},d.interpolate=function(a){return arguments.length?(h=a,c()):h},d.ticks=function(a){return cQ(k,a)},d.tickFormat=function(a,i){return jh(k,a,i)},d.nice=function(a){return aH(k,a),c()},d.copy=function(){return fA(k,f,h,g)},c()}function jR(b,a){return dK.rebind(b,a,"range","rangeRound","interpolate","clamp")}function aH(b,a){return bm(b,fX(gj(b,a)[2]))}function gj(g,c){null==c&&(c=10);var f=eF(g),d=f[1]-f[0],a=Math.pow(10,Math.floor(Math.log(d/c)/Math.LN10)),b=c/d*a;return 0.15>=b?a*=10:0.35>=b?a*=5:0.75>=b&&(a*=2),f[0]=Math.ceil(f[0]/a)*a,f[1]=Math.floor(f[1]/a)*a+0.5*a,f[2]=a,f}function cQ(b,a){return dK.range.apply(dK,gj(b,a))}function jh(g,c,f){var d=gj(g,c);if(f){var a=hJ.exec(f);if(a.shift(),"s"===a[8]){var b=dK.formatPrefix(Math.max(fW(d[0]),fW(d[1])));return a[7]||(a[7]="."+cp(b.scale(d[2]))),a[8]="f",f=dK.format(a.join("")),function(e){return f(b.scale(e))+b.symbol}}a[7]||(a[7]="."+dO(a[8],d)),f=a.join("")}else{f=",."+cp(d[2])+"f"}return dK.format(f)}function cp(a){return -Math.floor(Math.log(a)/Math.LN10+0.01)}function dO(c,a){var b=cp(a[2]);return c in gP?Math.abs(b-cp(Math.max(fW(a[0]),fW(a[1]))))+ +("e"!==c):b-2*("%"===c)}function c7(h,c,f,d){function a(e){return(f?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(c)}function b(e){return f?Math.pow(c,e):-Math.pow(c,-e)}function g(e){return h(a(e))}return g.invert=function(e){return b(h.invert(e))},g.domain=function(e){return arguments.length?(f=e[0]>=0,h.domain((d=e.map(Number)).map(a)),g):d},g.base=function(i){return arguments.length?(c=+i,h.domain(d.map(a)),g):c},g.nice=function(){var e=bm(d.map(a),f?Math:gx);return h.domain(e),d=e.map(b),g},g.ticks=function(){var r=eF(d),p=[],i=r[0],q=r[1],e=Math.floor(a(i)),k=Math.ceil(a(q)),m=c%1?2:c;if(isFinite(k-e)){if(f){for(;k>e;e++){for(var j=1;m>j;j++){p.push(b(e)*j)}}p.push(b(e))}else{for(p.push(b(e));e++<k;){for(var j=m-1;j>0;j--){p.push(b(e)*j)}}}for(e=0;p[e]<i;e++){}for(k=p.length;p[k-1]>q;k--){}p=p.slice(e,k)}return p},g.tickFormat=function(l,i){if(!arguments.length){return f6}arguments.length<2?i=f6:"function"!=typeof i&&(i=dK.format(i));var j,e=Math.max(0.1,l/g.ticks().length),k=f?(j=1e-12,Math.ceil):(j=-1e-12,Math.floor);return function(m){return m/b(k(a(m)+j))<=e?i(m):""}},g.copy=function(){return c7(h.copy(),c,f,d)},jR(g,h)}function dZ(g,c,f){function d(e){return g(a(e))}var a=bZ(c),b=bZ(1/c);return d.invert=function(e){return b(g.invert(e))},d.domain=function(e){return arguments.length?(g.domain((f=e.map(Number)).map(a)),d):f},d.ticks=function(e){return cQ(f,e)},d.tickFormat=function(h,e){return jh(f,h,e)},d.nice=function(e){return d.domain(aH(f,e))},d.exponent=function(e){return arguments.length?(a=bZ(c=e),b=bZ(1/c),g.domain(f.map(a)),d):c},d.copy=function(){return dZ(g.copy(),c,f)},jR(d,g)}function bZ(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function dx(j,f){function h(a){return d[((c.get(a)||("range"===f.t?c.set(a,j.push(a)):0/0))-1)%d.length]}function g(a,i){return dK.range(j.length).map(function(e){return a+i*e})}var c,d,b;return h.domain=function(l){if(!arguments.length){return j}j=[],c=new hY;for(var k,e=-1,m=l.length;++e<m;){c.has(k=l[e])||c.set(k,j.push(k))}return h[f.t].apply(h,f.a)},h.range=function(a){return arguments.length?(d=a,b=0,f={t:"range",a:arguments},h):d},h.rangePoints=function(e,k){arguments.length<2&&(k=0);var m=e[0],a=e[1],i=(a-m)/(Math.max(1,j.length-1)+k);return d=g(j.length<2?(m+a)/2:m+i*k/2,i),b=0,f={t:"rangePoints",a:arguments},h},h.rangeBands=function(e,n,p){arguments.length<2&&(n=0),arguments.length<3&&(p=n);var a=e[1]<e[0],k=e[a-0],m=e[1-a],i=(m-k)/(j.length-n+2*p);return d=g(k+i*p,i),a&&d.reverse(),b=i*(1-n),f={t:"rangeBands",a:arguments},h},h.rangeRoundBands=function(e,p,q){arguments.length<2&&(p=0),arguments.length<3&&(q=p);var a=e[1]<e[0],k=e[a-0],n=e[1-a],i=Math.floor((n-k)/(j.length-p+2*q)),m=n-k-(j.length-p)*i;return d=g(k+Math.round(m/2),i),a&&d.reverse(),b=Math.round(i*(1-p)),f={t:"rangeRoundBands",a:arguments},h},h.rangeBand=function(){return b},h.rangeExtent=function(){return eF(f.a[0])},h.copy=function(){return dx(j,f)},h.domain(j)}function iw(d,c){function a(){var g=0,e=c.length;for(f=[];++g<e;){f[g-1]=dK.quantile(d,g/e)}return b}function b(e){return isNaN(e=+e)?void 0:c[dK.bisect(f,e)]}var f;return b.domain=function(e){return arguments.length?(d=e.filter(hR).sort(hZ),a()):d},b.range=function(e){return arguments.length?(c=e,a()):c},b.quantiles=function(){return f},b.invertExtent=function(e){return e=c.indexOf(e),0>e?[0/0,0/0]:[e>0?f[e-1]:d[0],e<f.length?f[e]:d[d.length-1]]},b.copy=function(){return iw(d,c)},a()}function j9(h,c,f){function d(e){return f[Math.max(0,Math.min(g,Math.floor(b*(e-h))))]}function a(){return b=f.length/(c-h),g=f.length-1,d}var b,g;return d.domain=function(i){return arguments.length?(h=+i[0],c=+i[i.length-1],a()):[h,c]},d.range=function(e){return arguments.length?(f=e,a()):f},d.invertExtent=function(e){return e=f.indexOf(e),e=0>e?0/0:e/b+h,[e,e+1/b]},d.copy=function(){return j9(h,c,f)},a()}function hF(c,a){function b(d){return d>=d?a[dK.bisect(c,d)]:void 0}return b.domain=function(d){return arguments.length?(c=d,b):c},b.range=function(d){return arguments.length?(a=d,b):a},b.invertExtent=function(d){return d=a.indexOf(d),[c[d-1],c[d]]},b.copy=function(){return hF(c,a)},b}function fF(b){function a(c){return +c}return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=c.map(a),a):b},a.ticks=function(c){return cQ(b,c)},a.tickFormat=function(c,d){return jh(b,c,d)},a.copy=function(){return fF(b)},a}function d0(a){return a.innerRadius}function bP(a){return a.outerRadius}function g5(a){return a.startAngle}function cF(a){return a.endAngle}function bx(k){function f(u){function e(){i.push("M",d(k(v),b))}for(var r,i=[],v=[],q=-1,m=u.length,n=iJ(h),a=iJ(g);++q<m;){c.call(this,r=u[q],q)?v.push([+n.call(this,r,q),+a.call(this,r,q)]):v.length&&(e(),v=[])}return v.length&&e(),i.length?i.join(""):null}var h=eQ,g=e3,c=eY,d=fM,j=d.key,b=0.7;return f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(g=a,f):g},f.defined=function(a){return arguments.length?(c=a,f):c},f.interpolate=function(a){return arguments.length?(j="function"==typeof a?d=a:(d=gV.get(a)||fM).key,f):j},f.tension=function(a){return arguments.length?(b=a,f):b},f}function fM(a){return a.join("L")}function dE(a){return fM(a)+"Z"}function jD(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("H",(c[0]+(c=f[b])[0])/2,"V",c[1])}return d>1&&a.push("H",c[0]),a.join("")}function hW(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("V",(c=f[b])[1],"H",c[0])}return a.join("")}function eM(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("H",(c=f[b])[0],"V",c[1])}return a.join("")}function b6(b,a){return b.length<4?fM(b):b[1]+gv(b.slice(1,b.length-1),dh(b,a))}function gN(b,a){return b.length<3?fM(b):b[0]+gv((b.push(b[0]),b),dh([b[b.length-2]].concat(b,[b[1]]),a))}function f4(b,a){return b.length<3?fM(b):b[0]+gv(b,dh(b,a))}function gv(f,q){if(q.length<1||f.length!=q.length&&f.length!=q.length+2){return fM(f)}var j=f.length!=q.length,b="",p=f[0],h=f[1],d=q[0],m=d,k=1;if(j&&(b+="Q"+(h[0]-2*d[0]/3)+","+(h[1]-2*d[1]/3)+","+h[0]+","+h[1],p=f[1],k=2),q.length>1){m=q[1],h=f[k],k++,b+="C"+(p[0]+d[0])+","+(p[1]+d[1])+","+(h[0]-m[0])+","+(h[1]-m[1])+","+h[0]+","+h[1];for(var g=2;g<q.length;g++,k++){h=f[k],m=q[g],b+="S"+(h[0]-m[0])+","+(h[1]-m[1])+","+h[0]+","+h[1]}}if(j){var v=f[k];b+="Q"+(h[0]+2*m[0]/3)+","+(h[1]+2*m[1]/3)+","+v[0]+","+v[1]}return b}function dh(f,m){for(var h,b=[],l=(1-m)/2,g=f[0],d=f[1],k=1,j=f.length;++k<j;){h=g,g=d,d=f[k],b.push([l*(d[0]-h[0]),l*(d[1]-h[1])])}return b}function a6(f){if(f.length<3){return fM(f)}var m=1,h=f.length,b=f[0],l=b[0],g=b[1],d=[l,l,l,(b=f[1])[0]],k=[g,g,g,b[1]],j=[l,",",g,"L",gT(aP,d),",",gT(aP,k)];for(f.push(f[h-1]);++m<=h;){b=f[m],d.shift(),d.push(b[0]),k.shift(),k.push(b[1]),ap(j,d,k)}return f.pop(),j.push("L",b),j.join("")}function es(h){if(h.length<4){return fM(h)}for(var c,f=[],d=-1,a=h.length,b=[0],g=[0];++d<3;){c=h[d],b.push(c[0]),g.push(c[1])}for(f.push(gT(aP,b)+","+gT(aP,g)),--d;++d<a;){c=h[d],b.shift(),b.push(c[0]),g.shift(),g.push(c[1]),ap(f,b,g)}return f.join("")}function jZ(k){for(var f,h,g=-1,c=k.length,d=c+4,j=[],b=[];++g<4;){h=k[g%c],j.push(h[0]),b.push(h[1])}for(f=[gT(aP,j),",",gT(aP,b)],--g;++g<d;){h=k[g%c],j.shift(),j.push(h[0]),b.shift(),b.push(h[1]),ap(f,j,b)}return f.join("")}function ag(f,q){var j=f.length-1;if(j){for(var b,p,h=f[0][0],d=f[0][1],m=f[j][0]-h,k=f[j][1]-d,g=-1;++g<=j;){b=f[g],p=g/j,b[0]=q*b[0]+(1-q)*(h+p*m),b[1]=q*b[1]+(1-q)*(d+p*k)}}return a6(f)}function gT(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}function ap(c,a,b){c.push("C",gT(aw,a),",",gT(aw,b),",",gT(iU,a),",",gT(iU,b),",",gT(aP,a),",",gT(aP,b))}function iP(b,a){return(a[1]-b[1])/(a[0]-b[0])}function aO(h){for(var c=0,f=h.length-1,d=[],a=h[0],b=h[1],g=d[0]=iP(a,b);++c<f;){d[c]=(g+(g=iP(a=b,b=h[c+1])))/2}return d[c]=g,d}function eS(f){for(var m,h,b,l,g=[],d=aO(f),k=-1,j=f.length-1;++k<j;){m=iP(f[k],f[k+1]),fW(m)<a5?d[k]=d[k+1]=0:(h=d[k]/m,b=d[k+1]/m,l=h*h+b*b,l>9&&(l=3*m/Math.sqrt(l),d[k]=l*h,d[k+1]=l*b))}for(k=-1;++k<=j;){l=(f[Math.min(j,k+1)][0]-f[Math.max(0,k-1)][0])/(6*(1+d[k]*d[k])),g.push([l||0,d[k]*l||0])}return g}function e4(a){return a.length<3?fM(a):a[0]+gv(a,eS(a))}function aX(g){for(var c,f,d,a=-1,b=g.length;++a<b;){c=g[a],f=c[0],d=c[1]+j0,c[0]=f*Math.cos(d),c[1]=f*Math.sin(d)}return g}function cq(g){function w(C){function o(){B.push("M",q(g(e),k),x,h(g(n.reverse()),k),"Z")}for(var f,i,a,B=[],n=[],e=[],s=-1,u=C.length,l=iJ(m),A=iJ(v),r=m===b?function(){return i}:iJ(b),z=v===j?function(){return a}:iJ(j);++s<u;){d.call(this,f=C[s],s)?(n.push([i=+l.call(this,f,s),a=+A.call(this,f,s)]),e.push([+r.call(this,f,s),+z.call(this,f,s)])):n.length&&(o(),n=[],e=[])}return n.length&&o(),B.length?B.join(""):null}var m=eQ,b=eQ,v=0,j=e3,d=eY,q=fM,p=q.key,h=q,x="L",k=0.7;return w.x=function(a){return arguments.length?(m=b=a,w):b},w.x0=function(a){return arguments.length?(m=a,w):m},w.x1=function(a){return arguments.length?(b=a,w):b},w.y=function(a){return arguments.length?(v=j=a,w):j},w.y0=function(a){return arguments.length?(v=a,w):v},w.y1=function(a){return arguments.length?(j=a,w):j},w.defined=function(a){return arguments.length?(d=a,w):d},w.interpolate=function(a){return arguments.length?(p="function"==typeof a?q=a:(q=gV.get(a)||fM).key,h=q.reverse||q,x=q.closed?"M":"L",w):p},w.tension=function(a){return arguments.length?(k=a,w):k},w}function bG(a){return a.radius}function gB(a){return[a.x,a.y]}function jx(a){return function(){var b=a.apply(this,arguments),d=b[0],c=b[1]+j0;return[d*Math.cos(c),d*Math.sin(c)]}}function hd(){return 64}function eA(){return"circle"}function cX(b){var a=Math.sqrt(b/aW);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function fb(b,a){return cn(b,gD),b.id=a,b}function bj(f,b,d,c){var a=f.id;return iR(f,"function"==typeof d?function(h,e,g){h.__transition__[a].tween.set(b,c(d.call(h,h.__data__,e,g)))}:(d=c(d),function(e){e.__transition__[a].tween.set(b,d)}))}function fS(a){return null==a&&(a=""),function(){this.textContent=a}}function d9(j,f,h,g){var c=j.__transition__||(j.__transition__={active:0,count:0}),d=c[h];if(!d){var b=g.time;d=c[h]={tween:new hY,time:b,ease:g.ease,delay:g.delay,duration:g.duration},++c.count,dK.timer(function(a){function i(l){return c.active>h?k():(c.active=h,d.event&&d.event.start.call(j,w,f),d.tween.forEach(function(p,o){(o=o.call(j,w,f))&&u.push(o)}),dK.timer(function(){return e.c=t(l||1)?eY:t,1},0,b),void 0)}function t(p){if(c.active!==h){return k()}for(var s=p/n,l=q(s),v=u.length;v>0;){u[--v].call(j,l)}return s>=1?(d.event&&d.event.end.call(j,w,f),k()):void 0}function k(){return --c.count?delete c[h]:delete j.__transition__,1}var w=j.__data__,q=d.ease,m=d.delay,n=d.duration,e=dA,u=[];return e.t=m+b,a>=m?i(a-m):(e.c=i,void 0)},0,b)}}function fv(b,a){b.attr("transform",function(c){return"translate("+a(c)+",0)"})}function jM(b,a){b.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function aC(a){return a.toISOString()}function gb(f,b,d){function c(e){return f(e)}function a(l,k){var j=l[1]-l[0],g=j/k,h=dK.bisect(fx,g);return h==fx.length?[b.year,gj(l.map(function(e){return e/31536000000}),k)[2]]:h?b[g/fx[h-1]<fx[h]/g?h-1:h]:[gf,gj(l,k)[2]]}return c.invert=function(e){return cL(f.invert(e))},c.domain=function(e){return arguments.length?(f.domain(e),c):f.domain().map(cL)},c.nice=function(m,j){function k(i){return !isNaN(i)&&!m.range(i,cL(+i+1),j).length}var h=c.domain(),l=eF(h),g=null==m?a(l,10):"number"==typeof m&&a(l,m);return g&&(m=g[0],j=g[1]),c.domain(bm(h,j>1?{floor:function(e){for(;k(e=m.floor(e));){e=cL(e-1)}return e},ceil:function(e){for(;k(e=m.ceil(e));){e=cL(+e+1)}return e}}:m))},c.ticks=function(k,h){var j=eF(c.domain()),g=null==k?a(j,10):"number"==typeof k?a(j,k):!k.range&&[{range:k},h];return g&&(k=g[0],h=g[1]),k.range(j[0],cL(+j[1]+1),1>h?1:h)},c.tickFormat=function(){return d},c.copy=function(){return gb(f.copy(),b,d)},jR(c,f)}function cL(a){return new Date(a)}function i3(a){return JSON.parse(a.responseText)}function cf(b){var a=bY.createRange();return a.selectNode(bY.body),a.createContextualFragment(b.responseText)}var dK={version:"3.4.12"};Date.now||(Date.now=function(){return +new Date});var c3=[].slice,dV=function(a){return c3.call(a)},bY=document,dq=bY.documentElement,ib=window;try{dV(dq.childNodes)[0].nodeType}catch(j8){dV=function(c){for(var a=c.length,b=new Array(a);a--;){b[a]=c[a]}return b}}try{bY.createElement("div").style.setProperty("opacity",0,"")}catch(hB){var fB=ib.Element.prototype,eg=fB.setAttribute,bX=fB.setAttributeNS,hj=ib.CSSStyleDeclaration.prototype,cP=hj.setProperty;fB.setAttribute=function(b,a){eg.call(this,b,a+"")},fB.setAttributeNS=function(c,a,b){bX.call(this,c,a,b+"")},hj.setProperty=function(c,a,b){cP.call(this,c,a+"",b)}}dK.ascending=hZ,dK.descending=function(b,a){return b>a?-1:a>b?1:a>=b?0:0/0},dK.min=function(g,c){var f,d,a=-1,b=g.length;if(1===arguments.length){for(;++a<b&&!(null!=(f=g[a])&&f>=f);){f=void 0}for(;++a<b;){null!=(d=g[a])&&f>d&&(f=d)}}else{for(;++a<b&&!(null!=(f=c.call(g,g[a],a))&&f>=f);){f=void 0}for(;++a<b;){null!=(d=c.call(g,g[a],a))&&f>d&&(f=d)}}return f},dK.max=function(g,c){var f,d,a=-1,b=g.length;if(1===arguments.length){for(;++a<b&&!(null!=(f=g[a])&&f>=f);){f=void 0}for(;++a<b;){null!=(d=g[a])&&d>f&&(f=d)}}else{for(;++a<b&&!(null!=(f=c.call(g,g[a],a))&&f>=f);){f=void 0}for(;++a<b;){null!=(d=c.call(g,g[a],a))&&d>f&&(f=d)}}return f},dK.extent=function(h,c){var f,d,a,b=-1,g=h.length;if(1===arguments.length){for(;++b<g&&!(null!=(f=a=h[b])&&f>=f);){f=a=void 0}for(;++b<g;){null!=(d=h[b])&&(f>d&&(f=d),d>a&&(a=d))}}else{for(;++b<g&&!(null!=(f=a=c.call(h,h[b],b))&&f>=f);){f=void 0}for(;++b<g;){null!=(d=c.call(h,h[b],b))&&(f>d&&(f=d),d>a&&(a=d))}}return[f,a]},dK.sum=function(g,c){var f,d=0,a=g.length,b=-1;if(1===arguments.length){for(;++b<a;){isNaN(f=+g[b])||(d+=f)}}else{for(;++b<a;){isNaN(f=+c.call(g,g[b],b))||(d+=f)}}return d},dK.mean=function(j,g){var f,c=0,d=j.length,h=-1,b=d;if(1===arguments.length){for(;++h<d;){hR(f=j[h])?c+=f:--b}}else{for(;++h<d;){hR(f=g.call(j,j[h],h))?c+=f:--b}}return b?c/b:void 0},dK.quantile=function(g,c){var f=(g.length-1)*c+1,d=Math.floor(f),a=+g[d-1],b=f-d;return b?a+b*(g[d]-a):a},dK.median=function(b,a){return arguments.length>1&&(b=b.map(a)),b=b.filter(hR),b.length?dK.quantile(b.sort(hZ),0.5):void 0};var bF=ik(hZ);dK.bisectLeft=bF.left,dK.bisect=dK.bisectRight=bF.right,dK.bisector=function(a){return ik(1===a.length?function(c,b){return hZ(a(c),b)}:a)},dK.shuffle=function(d){for(var a,c,b=d.length;b;){c=0|Math.random()*b--,a=d[b],d[b]=d[c],d[c]=a}return d},dK.permute=function(d,a){for(var c=a.length,b=new Array(c);c--;){b[c]=d[a[c]]}return b},dK.pairs=function(g){for(var c,f=0,d=g.length-1,a=g[0],b=new Array(0>d?0:d);d>f;){b[f]=[c=a,a=g[++f]]}return b},dK.zip=function(){if(!(a=arguments.length)){return[]}for(var g=-1,c=dK.min(arguments,hU),d=new Array(c);++g<c;){for(var a,b=-1,f=d[g]=new Array(a);++b<a;){f[b]=arguments[b][g]}}return d},dK.transpose=function(a){return dK.zip.apply(dK,a)},dK.keys=function(c){var a=[];for(var b in c){a.push(b)}return a},dK.values=function(c){var a=[];for(var b in c){a.push(c[b])}return a},dK.entries=function(c){var a=[];for(var b in c){a.push({key:b,value:c[b]})}return a},dK.merge=function(h){for(var c,f,d,a=h.length,b=-1,g=0;++b<a;){g+=h[b].length}for(f=new Array(g);--a>=0;){for(d=h[a],c=d.length;--c>=0;){f[--g]=d[c]}}return f};var fW=Math.abs;dK.range=function(j,d,g){if(arguments.length<3&&(g=1,arguments.length<2&&(d=j,j=0)),1/0===(d-j)/g){throw new Error("infinite range")}var f,c=[],h=hP(fW(g)),b=-1;if(j*=h,d*=h,g*=h,0>g){for(;(f=j+g*++b)>d;){c.push(f/h)}}else{for(;(f=j+g*++b)<d;){c.push(f/h)}}return c},dK.map=function(c){var a=new hY;if(c instanceof hY){c.forEach(function(f,d){a.set(f,d)})}else{for(var b in c){a.set(b,c[b])}}return a},h9(hY,{has:iy,get:function(a){return this[dN+a]},set:function(b,a){return this[dN+b]=a},remove:iq,keys:h4,values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},size:hS,empty:ih,forEach:function(b){for(var a in this){a.charCodeAt(0)===jQ&&b.call(this,a.slice(1),this[a])}}});var dN="\x00",jQ=dN.charCodeAt(0);dK.nest=function(){function j(w,r,q){if(q>=d.length){return g?g.call(c,r):h?r.sort(h):r}for(var i,x,n,k,m=-1,e=r.length,u=d[q++],o=new hY;++m<e;){(k=o.get(i=u(x=r[m])))?k.push(x):o.set(i,[x])}return w?(x=w(),n=function(l,a){x.set(l,j(w,a,q))}):(x={},n=function(l,a){x[l]=j(w,a,q)}),o.forEach(n),x}function f(l,k){if(k>=d.length){return l}var i=[],a=b[k++];return l.forEach(function(m,e){i.push({key:m,values:f(e,k)})}),a?i.sort(function(m,e){return a(m.key,e.key)}):i}var h,g,c={},d=[],b=[];return c.map=function(a,i){return j(i,a,0)},c.entries=function(a){return f(j(dK.map,a,0),0)},c.key=function(a){return d.push(a),c},c.sortKeys=function(a){return b[d.length-1]=a,c},c.sortValues=function(a){return h=a,c},c.rollup=function(a){return g=a,c},c},dK.set=function(d){var a=new id;if(d){for(var c=0,b=d.length;b>c;++c){a.add(d[c])}}return a},h9(id,{has:iy,add:function(a){return this[dN+a]=!0,a},remove:function(a){return a=dN+a,a in this&&delete this[a]},values:h4,size:hS,empty:ih,forEach:function(b){for(var a in this){a.charCodeAt(0)===jQ&&b.call(this,a.slice(1))}}}),dK.behavior={},dK.rebind=function(f,b){for(var d,c=1,a=arguments.length;++c<a;){f[d=arguments[c]]=ig(f,b,b[d])}return f};var iv=["webkit","ms","moz","Moz","o","O"];dK.dispatch=function(){for(var c=new ip,a=-1,b=arguments.length;++a<b;){c[arguments[a]]=h2(c)}return c},ip.prototype.on=function(d,a){var c=d.indexOf("."),b="";if(c>=0&&(b=d.slice(c+1),d=d.slice(0,c)),d){return arguments.length<2?this[d].on(b):this[d].on(b,a)}if(2===arguments.length){if(null==a){for(d in this){this.hasOwnProperty(d)&&this[d].on(b,null)}}return this}},dK.event=null,dK.requote=function(a){return a.replace(eW,"\\$&")};var eW=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,cn={}.__proto__?function(b,a){b.__proto__=a}:function(c,a){for(var b in a){c[b]=a[b]}},gX=function(b,a){return a.querySelector(b)},gh=function(b,a){return a.querySelectorAll(b)},gF=dq.matches||dq[hX(dq,"matchesSelector")],dw=function(b,a){return gF.call(b,a)};"function"==typeof Sizzle&&(gX=function(b,a){return Sizzle(b,a)[0]||null},gh=Sizzle,dw=Sizzle.matchesSelector),dK.selection=function(){return j7};var bh=dK.selection.prototype=[];bh.select=function(f){var q,j,b,p,h=[];f=ix(f);for(var d=-1,m=this.length;++d<m;){h.push(q=[]),q.parentNode=(b=this[d]).parentNode;for(var k=-1,g=b.length;++k<g;){(p=b[k])?(q.push(j=f.call(p,p.__data__,k,d)),j&&"__data__" in p&&(j.__data__=p.__data__)):q.push(null)}}return iz(h)},bh.selectAll=function(f){var m,h,b=[];f=hM(f);for(var l=-1,g=this.length;++l<g;){for(var d=this[l],k=-1,j=d.length;++k<j;){(h=d[k])&&(b.push(m=dV(f.call(h,h.__data__,k,l))),m.parentNode=h)}}return iz(b)};var hE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};dK.ns={prefix:hE,qualify:function(c){var a=c.indexOf(":"),b=c;return a>=0&&(b=c.slice(0,a),c=c.slice(a+1)),hE.hasOwnProperty(b)?{space:hE[b],local:c}:c}},bh.attr=function(c,a){if(arguments.length<2){if("string"==typeof c){var b=this.node();return c=dK.ns.qualify(c),c.local?b.getAttributeNS(c.space,c.local):b.getAttribute(c)}for(a in c){this.each(iN(a,c[a]))}return this}return this.each(iN(c,a))},bh.classed=function(f,b){if(arguments.length<2){if("string"==typeof f){var d=this.node(),c=(f=jm(f)).length,a=-1;if(b=d.classList){for(;++a<c;){if(!b.contains(f[a])){return !1}}}else{for(b=d.getAttribute("class");++a<c;){if(!jd(f[a]).test(b)){return !1}}}return !0}for(b in f){this.each(jj(b,f[b]))}return this}return this.each(jj(f,b))},bh.style=function(d,a,c){var b=arguments.length;if(3>b){if("string"!=typeof d){2>b&&(a="");for(c in d){this.each(hI(c,d[c],a))}return this}if(2>b){return ib.getComputedStyle(this.node(),null).getPropertyValue(d)}c=""}return this.each(hI(d,a,c))},bh.property=function(b,a){if(arguments.length<2){if("string"==typeof b){return this.node()[b]}for(a in b){this.each(iY(a,b[a]))}return this}return this.each(iY(b,a))},bh.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},bh.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},bh.append=function(a){return a=iL(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},bh.insert=function(b,a){return b=iL(b),a=ix(a),this.select(function(){return this.insertBefore(b.apply(this,arguments),a.apply(this,arguments)||null)})},bh.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},bh.data=function(d,o){function h(q,B){var c,H,t,F=q.length,A=B.length,w=Math.min(F,A),z=new Array(A),l=new Array(A),G=new Array(F);if(o){var C,s=new hY,D=new hY,E=[];for(c=-1;++c<F;){C=o.call(H=q[c],H.__data__,c),s.has(C)?G[c]=H:s.set(C,H),E.push(C)}for(c=-1;++c<A;){C=o.call(B,t=B[c],c),(H=s.get(C))?(z[c]=H,H.__data__=t):D.has(C)||(l[c]=hV(t)),D.set(C,t),s.remove(C)}for(c=-1;++c<F;){s.has(E[c])&&(G[c]=q[c])}}else{for(c=-1;++c<w;){H=q[c],t=B[c],H?(H.__data__=t,z[c]=H):l[c]=hV(t)}for(;A>c;++c){l[c]=hV(B[c])}for(;F>c;++c){G[c]=q[c]}}l.update=z,l.parentNode=z.parentNode=G.parentNode=q.parentNode,j.push(l),f.push(z),p.push(G)}var b,m,g=-1,k=this.length;if(!arguments.length){for(d=new Array(k=(b=this[0]).length);++g<k;){(m=b[g])&&(d[g]=m.__data__)}return d}var j=iK([]),f=iz([]),p=iz([]);if("function"==typeof d){for(;++g<k;){h(b=this[g],d.call(b,b.parentNode.__data__,g))}}else{for(;++g<k;){h(b=this[g],d)}}return f.enter=function(){return j},f.exit=function(){return p},f},bh.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},bh.filter=function(f){var m,h,b,l=[];"function"!=typeof f&&(f=iO(f));for(var g=0,d=this.length;d>g;g++){l.push(m=[]),m.parentNode=(h=this[g]).parentNode;for(var k=0,j=h.length;j>k;k++){(b=h[k])&&f.call(b,b.__data__,k,g)&&m.push(b)}}return iz(l)},bh.order=function(){for(var g=-1,c=this.length;++g<c;){for(var f,d=this[g],a=d.length-1,b=d[a];--a>=0;){(f=d[a])&&(b&&b!==f.nextSibling&&b.parentNode.insertBefore(f,b),b=f)}}return this},bh.sort=function(c){c=jf.apply(this,arguments);for(var a=-1,b=this.length;++a<b;){this[a].sort(c)}return this.order()},bh.each=function(a){return iR(this,function(b,d,c){a.call(b,b.__data__,d,c)})},bh.call=function(b){var a=dV(arguments);return b.apply(a[0]=this,a),this},bh.empty=function(){return !this.node()},bh.node=function(){for(var g=0,c=this.length;c>g;g++){for(var f=this[g],d=0,a=f.length;a>d;d++){var b=f[d];if(b){return b}}}return null},bh.size=function(){var a=0;return iR(this,function(){++a}),a};var eE=[];dK.selection.enter=iK,dK.selection.enter.prototype=eE,eE.append=bh.append,eE.empty=bh.empty,eE.node=bh.node,eE.call=bh.call,eE.size=bh.size,eE.select=function(f){for(var q,j,b,p,h,d=[],m=-1,k=this.length;++m<k;){b=(p=this[m]).update,d.push(q=[]),q.parentNode=p.parentNode;for(var g=-1,v=p.length;++g<v;){(h=p[g])?(q.push(b[g]=j=f.call(p.parentNode,h.__data__,g,m)),j.__data__=h.__data__):q.push(null)}}return iz(d)},eE.insert=function(b,a){return arguments.length<2&&(a=h7(this)),bh.insert.call(this,b,a)},bh.transition=function(){for(var f,q,j=e6||++jz,b=[],p=aY||{time:Date.now(),ease:gO,delay:0,duration:250},h=-1,d=this.length;++h<d;){b.push(f=[]);for(var m=this[h],k=-1,g=m.length;++k<g;){(q=m[k])&&d9(q,k,j,p),f.push(q)}}return fb(b,j)},bh.interrupt=function(){return this.each(i5)},dK.select=function(b){var a=["string"==typeof b?gX(b,bY):b];return a.parentNode=dq,iz([a])},dK.selectAll=function(b){var a=dV("string"==typeof b?gh(b,bY):b);return a.parentNode=dq,iz([a])};var j7=dK.select(dq);bh.on=function(d,a,c){var b=arguments.length;if(3>b){if("string"!=typeof d){2>b&&(a=!1);for(c in d){this.each(i9(c,d[c],a))}return this}if(2>b){return(b=this.node()["__on"+d])&&b._}c=!1}return this.each(i9(d,a,c))};var aA=dK.map({mouseenter:"mouseover",mouseleave:"mouseout"});aA.forEach(function(a){"on"+a in bY&&aA.remove(a)});var g1="onselectstart" in bY?null:hX(dq.style,"userSelect"),aG=0;dK.mouse=function(a){return iD(a,hL())};var jg=/WebKit/.test(ib.navigator.userAgent)?-1:0;dK.touch=function(g,c,f){if(arguments.length<3&&(f=c,c=hL().changedTouches),c){for(var d,a=0,b=c.length;b>a;++a){if((d=c[a]).identifier===f){return iD(g,d)}}}},dK.behavior.drag=function(){function g(){this.on("mousedown.drag",a).on("touchstart.drag",b)}function c(l,j,e,h,k){return function(){function B(){var s,p,m=j(q,C);m&&(s=m[0]-A[0],p=m[1]-A[1],i|=s|p,A=m,r({type:"drag",x:m[0]+o[0],y:m[1]+o[1],dx:s,dy:p}))}function w(){j(q,C)&&(n.on(h+u,null).on(k+u,null),z(i&&dK.event.target===t),r({type:"dragend"}))}var o,D=this,t=dK.event.target,q=D.parentNode,r=f.of(D,arguments),i=0,C=l(),u=".drag"+(null==C?"":"-"+C),n=dK.select(e()).on(h+u,B).on(k+u,w),z=i4(),A=j(q,C);d?(o=d.apply(D,arguments),o=[o.x-A[0],o.y-A[1]]):o=[0,0],r({type:"dragstart"})}}var f=iX(g,"drag","dragstart","dragend"),d=null,a=c(hN,dK.mouse,jS,"mousemove","mouseup"),b=c(iI,dK.touch,iF,"touchmove","touchend");return g.origin=function(e){return arguments.length?(d=e,g):d},dK.rebind(g,f,"on")},dK.touches=function(b,a){return arguments.length<2&&(a=hL().touches),a?dV(a).map(function(c){var d=iD(b,c);return d.identifier=c.identifier,d}):[]};var aW=Math.PI,e0=2*aW,fh=aW/2,a5=0.000001,cE=a5*a5,bO=aW/180,gJ=180/aW,jK=Math.SQRT2,hp=2,eI=4;dK.interpolateZoom=function(B,q){function I(f){var a=f*b;if(C){var c=iQ(j),d=E/(hp*F)*(c*dX(jK*a+j)-i1(j));return[x+d*D,k+d*w,E*c/iQ(jK*a+j)]}return[x+f*D,k+f*w,E*Math.exp(jK*a)]}var x=B[0],k=B[1],E=B[2],A=q[0],L=q[1],K=q[2],D=A-x,w=L-k,H=D*D+w*w,F=Math.sqrt(H),G=(K*K-E*E+eI*H)/(2*E*hp*F),z=(K*K-E*E-eI*H)/(2*K*hp*F),j=Math.log(Math.sqrt(G*G+1)-G),J=Math.log(Math.sqrt(z*z+1)-z),C=J-j,b=(C||Math.log(K/E))/jK;return I.duration=1000*b,I},dK.behavior.zoom=function(){function T(a){a.on(P,V).on(bw+".zoom",aa).on("dblclick.zoom",Y).on(B,K)}function J(a){return[(a[0]-j.x)/j.k,(a[1]-j.y)/j.k]}function ac(a){return[a[0]*j.k+j.x,a[1]*j.k+j.y]}function O(a){j.k=Math.max(I[0],Math.min(I[1],a))}function H(b,a){a=ac(a),j.x+=b[0]-a[0],j.y+=b[1]-a[1]}function X(){ar&&ar.domain(D.range().map(function(a){return(a-j.x)/j.k}).map(D.invert)),F&&F.domain(al.range().map(function(a){return(a-j.y)/j.k}).map(al.invert))}function R(a){a({type:"zoomstart"})}function ao(a){X(),a({type:"zoom",scale:j.k,translate:[j.x,j.y]})}function ai(a){a({type:"zoomend"})}function V(){function b(){t=1,H(dK.mouse(a),k),ao(c)}function p(){o.on(M,null).on(q,null),m(t&&dK.event.target===d),ai(c)}var a=this,d=dK.event.target,c=y.of(a,arguments),t=0,o=dK.select(ib).on(M,b).on(q,p),k=J(dK.mouse(a)),m=i4();i5.call(a),R(c)}function K(){function c(){var b=dK.touches(r);return o=j.k,b.forEach(function(d){d.identifier in N&&(N[d.identifier]=J(d))}),b}function t(){var au=dK.event.target;dK.select(au).on(u,m).on(L,s),A.push(au);for(var p=dK.event.changedTouches,b=0,v=p.length;v>b;++b){N[p[b].identifier]=null}var d=c(),ba=Date.now();if(1===d.length){if(500>ba-U){var i=d[0],n=N[i.identifier];O(2*j.k),H(i,n),hK(),ao(a)}U=ba}else{if(d.length>1){var i=d[0],S=d[1],at=i[0]-S[0],f=i[1]-S[1];z=at*at+f*f}}}function m(){for(var d,w,p,h,b=dK.touches(r),v=0,g=b.length;g>v;++v,h=null){if(p=b[v],h=N[p.identifier]){if(w){break}d=p,w=h}}if(h){var x=(x=p[0]-d[0])*x+(x=p[1]-d[1])*x,k=z&&Math.sqrt(x/z);d=[(d[0]+p[0])/2,(d[1]+p[1])/2],w=[(w[0]+h[0])/2,(w[1]+h[1])/2],O(k*o)}U=null,H(d,w),ao(a)}function s(){if(dK.event.touches.length){for(var d=dK.event.changedTouches,g=0,f=d.length;f>g;++g){delete N[d[g].identifier]}for(var b in N){return void c()}}dK.selectAll(A).on(C,null),E.on(P,V).on(B,K),l(),ai(a)}var o,r=this,a=y.of(r,arguments),N={},z=0,C=".zoom-"+dK.event.changedTouches[0].identifier,u="touchmove"+C,L="touchend"+C,A=[],E=dK.select(r),l=i4();i5.call(r),t(),R(a),E.on(P,null).on(B,t)}function aa(){var a=y.of(this,arguments);ae?clearTimeout(ae):(Z=J(Q=G||dK.mouse(this)),i5.call(this),R(a)),ae=setTimeout(function(){ae=null,ai(a)},50),hK(),O(Math.pow(2,0.002*c6())*j.k),H(Q,Z),ao(a)}function Y(){var d=y.of(this,arguments),c=dK.mouse(this),b=J(c),a=Math.log(j.k)/Math.LN2;R(d),O(Math.pow(2,dK.event.shiftKey?Math.ceil(a)-1:Math.floor(a)+1)),H(c,b),ao(d),ai(d)}var Z,Q,G,ae,U,D,ar,al,F,j={x:0,y:0,k:1},W=[960,500],I=fn,P="mousedown.zoom",M="mousemove.zoom",q="mouseup.zoom",B="touchstart.zoom",y=iX(T,"zoomstart","zoom","zoomend");return T.event=function(a){a.each(function(){var c=y.of(this,arguments),b=j;e6?dK.select(this).transition().each("start.zoom",function(){j=this.__chart__||{x:0,y:0,k:1},R(c)}).tween("zoom:zoom",function(){var h=W[0],g=W[1],d=h/2,f=g/2,k=dK.interpolateZoom([(d-j.x)/j.k,(f-j.y)/j.k,h/j.k],[(d-b.x)/b.k,(f-b.y)/b.k,h/b.k]);return function(e){var i=k(e),l=h/i[2];this.__chart__=j={x:d-i[0]*l,y:f-i[1]*l,k:l},ao(c)}}).each("end.zoom",function(){ai(c)}):(this.__chart__=j,R(c),ao(c),ai(c))})},T.translate=function(a){return arguments.length?(j={x:+a[0],y:+a[1],k:j.k},X(),T):[j.x,j.y]},T.scale=function(a){return arguments.length?(j={x:j.x,y:j.y,k:+a},X(),T):j.k},T.scaleExtent=function(a){return arguments.length?(I=null==a?fn:[+a[0],+a[1]],T):I},T.center=function(a){return arguments.length?(G=a&&[+a[0],+a[1]],T):G},T.size=function(a){return arguments.length?(W=a&&[+a[0],+a[1]],T):W},T.x=function(a){return arguments.length?(ar=a,D=a.copy(),j={x:0,y:0,k:1},T):ar},T.y=function(a){return arguments.length?(F=a,al=a.copy(),j={x:0,y:0,k:1},T):F},dK.rebind(T,y,"on")};var c6,fn=[0,1/0],bw="onwheel" in bY?(c6=function(){return -dK.event.deltaY*(dK.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bY?(c6=function(){return dK.event.wheelDelta},"mousewheel"):(c6=function(){return -dK.event.detail},"MozMousePixelScroll");dK.color=g3,g3.prototype.toString=function(){return this.rgb()+""},dK.hsl=cB;var f0=cB.prototype=new g3;f0.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),new cB(this.h,this.s,this.l/a)},f0.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new cB(this.h,this.s,a*this.l)},f0.rgb=function(){return bq(this.h,this.s,this.l)},dK.hcl=fK;var em=fK.prototype=new g3;em.brighter=function(a){return new fK(this.h,this.c,Math.min(100,this.l+fE*(arguments.length?a:1)))},em.darker=function(a){return new fK(this.h,this.c,Math.max(0,this.l-fE*(arguments.length?a:1)))},em.rgb=function(){return dC(this.h,this.c,this.l).rgb()},dK.lab=jA;var fE=18,jY=0.95047,aN=1,gn=1.08883,cT=jA.prototype=new g3;cT.brighter=function(a){return new jA(Math.min(100,this.l+fE*(arguments.length?a:1)),this.a,this.b)},cT.darker=function(a){return new jA(Math.max(0,this.l-fE*(arguments.length?a:1)),this.a,this.b)},cT.rgb=function(){return hQ(this.l,this.a,this.b)},dK.rgb=gq;var jw=gq.prototype=new g3;jw.brighter=function(f){f=Math.pow(0.7,arguments.length?f:1);var b=this.r,d=this.g,c=this.b,a=30;return b||d||c?(b&&a>b&&(b=a),d&&a>d&&(d=a),c&&a>c&&(c=a),new gq(Math.min(255,b/f),Math.min(255,d/f),Math.min(255,c/f))):new gq(a,a,a)},jw.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new gq(a*this.r,a*this.g,a*this.b)},jw.hsl=function(){return jV(this.r,this.g,this.b)},jw.toString=function(){return"#"+hs(this.r)+hs(this.g)+hs(this.b)};var cx=dK.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cx.forEach(function(b,a){cx.set(b,df(a))}),dK.functor=iJ,dK.xhr=eP(aK),dK.dsv=function(f,m){function h(q,c,a){arguments.length<3&&(a=c,c=null);var p=e2(q,m,null==c?b:l(c),a);return p.row=function(e){return arguments.length?p.response(null==(c=e)?b:l(e)):c},p}function b(a){return h.parse(a.responseText)}function l(a){return function(c){return h.parse(c.responseText,a)}}function g(a){return a.map(d).join(f)}function d(a){return k.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var k=new RegExp('["'+f+"\n]"),j=f.charCodeAt(0);return h.parse=function(e,a){var c;return h.parseRows(e,function(p,o){if(c){return c(p,o-1)}var i=new Function("d","return {"+p.map(function(r,q){return JSON.stringify(r)+": d["+q+"]"}).join(",")+"}");c=a?function(r,q){return a(i(r),q)}:i})},h.parseRows=function(q,C){function z(){if(D>=v){return p}if(B){return B=!1,w}var n=D;if(34===q.charCodeAt(n)){for(var s=n;s++<v;){if(34===q.charCodeAt(s)){if(34!==q.charCodeAt(s+1)){break}++s}}D=s+2;var o=q.charCodeAt(s+1);return 13===o?(B=!0,10===q.charCodeAt(s+2)&&++D):10===o&&(B=!0),q.slice(n+1,s).replace(/""/g,'"')}for(;v>D;){var o=q.charCodeAt(D++),i=1;if(10===o){B=!0}else{if(13===o){B=!0,10===q.charCodeAt(D)&&(++D,++i)}else{if(o!==j){continue}}}return q.slice(n,D-i)}return q.slice(n)}for(var c,B,w={},p={},A=[],v=q.length,D=0,y=0;(c=z())!==p;){for(var x=[];c!==w&&c!==p;){x.push(c),c=z()}(!C||(x=C(x,y++)))&&A.push(x)}return A},h.format=function(c){if(Array.isArray(c[0])){return h.formatRows(c)}var e=new id,a=[];return c.forEach(function(o){for(var i in o){e.has(i)||a.push(e.add(i))}}),[a.map(d).join(f)].concat(c.map(function(i){return a.map(function(o){return d(i[o])}).join(f)})).join("\n")},h.formatRows=function(a){return a.map(g).join("\n")},h},dK.csv=dK.dsv(",","text/csv"),dK.tsv=dK.dsv("	","text/tab-separated-values");var dU,db,d8,b5,dA,iC=ib[hX(ib,"requestAnimationFrame")]||function(a){setTimeout(a,17)};dK.timer=function(g,c,f){var d=arguments.length;2>d&&(c=0),3>d&&(f=Date.now());var a=f+c,b={c:g,t:a,f:!1,n:null};db?db.n=b:dU=b,db=b,d8||(b5=clearTimeout(b5),d8=1,iC(bC))},dK.timer.flush=function(){gy(),jq()},dK.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)};var af=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(ex);dK.formatPrefix=function(c,a){var b=0;return c&&(0>c&&(c*=-1),a&&(c=dK.round(c,g8(c,a))),b=1+Math.floor(1e-12+Math.log(c)/Math.LN10),b=Math.max(-24,Math.min(24,3*Math.floor((b-1)/3)))),af[8+b/3]};var hJ=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fI=dK.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return(b=dK.round(b,g8(b,a))).toFixed(Math.max(0,Math.min(20,g8(b*(1+1e-15),a))))}}),ef=dK.time={},bV=Date;bd.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hh.setUTCDate.apply(this._,arguments)},setDay:function(){hh.setUTCDay.apply(this._,arguments)},setFullYear:function(){hh.setUTCFullYear.apply(this._,arguments)},setHours:function(){hh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hh.setUTCSeconds.apply(this._,arguments)},setTime:function(){hh.setTime.apply(this._,arguments)}};var hh=Date.prototype;ef.year=fP(function(a){return a=ef.day(a),a.setMonth(0,1),a},function(b,a){b.setFullYear(b.getFullYear()+a)},function(a){return a.getFullYear()}),ef.years=ef.year.range,ef.years.utc=ef.year.utc.range,ef.day=fP(function(b){var a=new bV(2000,0);return a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),a},function(b,a){b.setDate(b.getDate()+a)},function(a){return a.getDate()-1}),ef.days=ef.day.range,ef.days.utc=ef.day.utc.range,ef.dayOfYear=function(b){var a=ef.year(b);return Math.floor((b-a-60000*(b.getTimezoneOffset()-a.getTimezoneOffset()))/86400000)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(c,a){a=7-a;var b=ef[c]=fP(function(d){return(d=ef.day(d)).setDate(d.getDate()-(d.getDay()+a)%7),d},function(e,d){e.setDate(e.getDate()+7*Math.floor(d))},function(f){var d=ef.year(f).getDay();return Math.floor((ef.dayOfYear(f)+(d+a)%7)/7)-(d!==a)});ef[c+"s"]=b.range,ef[c+"s"].utc=b.utc.range,ef[c+"OfYear"]=function(f){var d=ef.year(f).getDay();return Math.floor((ef.dayOfYear(f)+(d+a)%7)/7)}}),ef.week=ef.sunday,ef.weeks=ef.sunday.range,ef.weeks.utc=ef.sunday.utc.range,ef.weekOfYear=ef.sundayOfYear;var cO={"-":"",_:" ",0:"0"},bD=/^\s*\d+/,fV=/^%/;dK.locale=function(a){return{numberFormat:cV(a),timeFormat:fq(a)}};var dM=dK.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});dK.format=dM.numberFormat,dK.geo={},fT.prototype={s:0,t:0,add:function(a){dL(a,this.t,jP),dL(jP.s,this.s,this),this.s?this.t+=jP.t:this.s=jP.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var jP=new fT;dK.geo.stream=function(b,a){b&&im.hasOwnProperty(b.type)?im[b.type](b,a):jN(b,a)};var im={Feature:function(b,a){jN(b.geometry,a)},FeatureCollection:function(f,b){for(var d=f.features,c=-1,a=d.length;++c<a;){jN(d[c].geometry,b)}}},eV={Sphere:function(b,a){a.sphere()},Point:function(b,a){b=b.coordinates,a.point(b[0],b[1],b[2])},MultiPoint:function(f,b){for(var d=f.coordinates,c=-1,a=d.length;++c<a;){f=d[c],b.point(f[0],f[1],f[2])}},LineString:function(b,a){ij(b.coordinates,a,0)},MultiLineString:function(f,b){for(var d=f.coordinates,c=-1,a=d.length;++c<a;){ij(d[c],b,0)}},Polygon:function(b,a){eT(b.coordinates,a)},MultiPolygon:function(f,b){for(var d=f.coordinates,c=-1,a=d.length;++c<a;){eT(d[c],b)}},GeometryCollection:function(f,b){for(var d=f.geometries,c=-1,a=d.length;++c<a;){jN(d[c],b)}}};dK.geo.area=function(a){return ck=0,dK.geo.stream(a,gg),ck};var ck,gW=new fT,gg={sphere:function(){ck+=4*aW},point:hN,lineStart:hN,lineEnd:hN,polygonStart:function(){gW.reset(),gg.lineStart=ch},polygonEnd:function(){var a=2*gW;ck+=0>a?4*aW+a:a,gg.lineStart=gg.lineEnd=gg.point=hN}};dK.geo.bounds=function(){function E(c,a){k.push(b=[A=c,I=c]),K>a&&(K=a),a>J&&(J=a)}function z(R,m){var a=gU([R*bO,m*bO]);if(F){var M=gC(F,a),h=[M[1],-M[0],0],f=gC(h,M);hC(f),f=eB(f);var p=R-C,g=p>0?1:-1,x=f[0]*gJ*g,n=fW(p)>180;if(n^(x>g*C&&g*R>x)){var s=f[1]*gJ;s>J&&(J=s)}else{if(x=(x+360)%360-180,n^(x>g*C&&g*R>x)){var s=-f[1]*gJ;K>s&&(K=s)}else{K>m&&(K=m),m>J&&(J=m)}}n?C>R?P(A,R)>P(A,I)&&(I=R):P(R,I)>P(A,I)&&(A=R):I>=A?(A>R&&(A=R),R>I&&(I=R)):R>C?P(A,R)>P(A,I)&&(I=R):P(R,I)>P(A,I)&&(A=R)}else{E(R,m)}F=a,C=R}function L(){Q.point=z}function B(){b[0]=A,b[1]=I,Q.point=E,F=null}function w(d,c){if(F){var a=d-C;j+=fW(a)>180?a+(a>0?360:-360):a}else{q=d,N=c}gg.point(d,c),z(d,c)}function H(){gg.lineStart()}function D(){w(q,N),gg.lineEnd(),fW(j)>a5&&(A=-(I=180)),b[0]=A,b[1]=I,F=null}function P(c,a){return(a-=c)<0?a+360:a}function O(c,a){return c[0]-a[0]}function G(c,a){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}var A,K,I,J,C,q,N,F,j,k,b,Q={point:E,lineStart:L,lineEnd:B,polygonStart:function(){Q.point=w,Q.lineStart=H,Q.lineEnd=D,j=0,gg.polygonStart()},polygonEnd:function(){gg.polygonEnd(),Q.point=E,Q.lineStart=L,Q.lineEnd=B,0>gW?(A=-(I=180),K=-(J=90)):j>a5?J=90:-a5>j&&(K=-90),b[0]=A,b[1]=I}};return function(m){J=I=-(A=K=1/0),k=[],dK.geo.stream(m,Q);var d=k.length;if(d){k.sort(O);for(var h,f=1,a=k[0],c=[a];d>f;++f){h=k[f],G(h[0],a)||G(h[1],a)?(P(a[0],h[1])>P(a[0],a[1])&&(a[1]=h[1]),P(h[0],a[1])>P(a[0],a[1])&&(a[0]=h[0])):c.push(a=h)}for(var l,h,g=-1/0,d=c.length-1,f=0,a=c[d];d>=f;a=h,++f){h=c[f],(l=P(a[1],h[0]))>g&&(g=l,A=h[0],I=a[1])}}return k=b=null,1/0===A||1/0===K?[[0/0,0/0],[0/0,0/0]]:[[A,K],[I,J]]}}(),dK.geo.centroid=function(f){gE=dv=bf=hD=eD=j5=ay=g0=aF=jb=aU=0,dK.geo.stream(f,eZ);var b=aF,d=jb,c=aU,a=b*b+d*d+c*c;return cE>a&&(b=j5,d=ay,c=g0,a5>dv&&(b=bf,d=hD,c=eD),a=b*b+d*d+c*c,cE>a)?[0/0,0/0]:[Math.atan2(d,b)*gJ,i6(c/Math.sqrt(a))*gJ]};var gE,dv,bf,hD,eD,j5,ay,g0,aF,jb,aU,eZ={sphere:hN,point:av,lineStart:aD,lineEnd:i7,polygonStart:function(){eZ.lineStart=aS},polygonEnd:function(){eZ.lineStart=aD}},fg=bK(eY,eG,fk,[-aW,-aW/2]),a3=1000000000;dK.geo.clipExtent=function(){var h,c,f,d,a,b,g={stream:function(e){return a&&(a.valid=!1),a=b(e),a.valid=!0,a},extent:function(e){return arguments.length?(b=fC(h=+e[0][0],c=+e[0][1],f=+e[1][0],d=+e[1][1]),a&&(a.valid=!1,a=null),g):[[h,c],[f,d]]}};return g.extent([[0,0],[960,500]])},(dK.geo.conicEqualArea=function(){return aJ(gk)}).raw=gk,dK.geo.albers=function(){return dK.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},dK.geo.albersUsa=function(){function f(e){var a=e[0],c=e[1];return m=null,h(a,c),m||(b(a,c),m)||l(a,c),m}var m,h,b,l,g=dK.geo.albers(),d=dK.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),k=dK.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),j={point:function(c,a){m=[c,a]}};return f.invert=function(p){var c=g.scale(),o=g.translate(),i=(p[0]-o[0])/c,a=(p[1]-o[1])/c;return(a>=0.12&&0.234>a&&i>=-0.425&&-0.214>i?d:a>=0.166&&0.234>a&&i>=-0.214&&-0.115>i?k:g).invert(p)},f.stream=function(o){var a=g.stream(o),i=d.stream(o),c=k.stream(o);return{point:function(p,e){a.point(p,e),i.point(p,e),c.point(p,e)},sphere:function(){a.sphere(),i.sphere(),c.sphere()},lineStart:function(){a.lineStart(),i.lineStart(),c.lineStart()},lineEnd:function(){a.lineEnd(),i.lineEnd(),c.lineEnd()},polygonStart:function(){a.polygonStart(),i.polygonStart(),c.polygonStart()},polygonEnd:function(){a.polygonEnd(),i.polygonEnd(),c.polygonEnd()}}},f.precision=function(a){return arguments.length?(g.precision(a),d.precision(a),k.precision(a),f):g.precision()},f.scale=function(a){return arguments.length?(g.scale(a),d.scale(0.35*a),k.scale(a),f.translate(g.translate())):g.scale()},f.translate=function(c){if(!arguments.length){return g.translate()}var a=g.scale(),e=+c[0],i=+c[1];return h=g.translate(c).clipExtent([[e-0.455*a,i-0.238*a],[e+0.455*a,i+0.238*a]]).stream(j).point,b=d.translate([e-0.307*a,i+0.201*a]).clipExtent([[e-0.425*a+a5,i+0.12*a+a5],[e-0.214*a-a5,i+0.234*a-a5]]).stream(j).point,l=k.translate([e-0.205*a,i+0.212*a]).clipExtent([[e-0.214*a+a5,i+0.166*a+a5],[e-0.115*a-a5,i+0.234*a-a5]]).stream(j).point,f},f.scale(1070)};var cC,bM,gI,jI,hn,eH,c5={point:hN,lineStart:hN,lineEnd:hN,polygonStart:function(){bM=0,c5.lineStart=cR},polygonEnd:function(){c5.lineStart=c5.lineEnd=c5.point=hN,cC+=fW(bM/2)}},fm={point:jp,lineStart:hN,lineEnd:hN,polygonStart:hN,polygonEnd:hN},bs={point:c8,lineStart:d3,lineEnd:b1,polygonStart:function(){bs.lineStart=dy},polygonEnd:function(){bs.point=c8,bs.lineStart=d3,bs.lineEnd=b1}};dK.geo.path=function(){function k(a){return a&&("function"==typeof b&&d.pointRadius(+b.apply(this,arguments)),j&&j.valid||(j=c(d)),dK.geo.stream(a,j)),d.result()}function f(){return j=null,k}var h,g,c,d,j,b=4.5;return k.area=function(a){return cC=0,dK.geo.stream(a,c(c5)),cC},k.centroid=function(a){return bf=hD=eD=j5=ay=g0=aF=jb=aU=0,dK.geo.stream(a,c(bs)),aU?[aF/aU,jb/aU]:g0?[j5/g0,ay/g0]:eD?[bf/eD,hD/eD]:[0/0,0/0]},k.bounds=function(a){return hn=eH=-(gI=jI=1/0),dK.geo.stream(a,c(fm)),[[gI,jI],[hn,eH]]},k.projection=function(a){return arguments.length?(c=(h=a)?a.stream||hG(a):aK,f()):h},k.context=function(a){return arguments.length?(d=null==(g=a)?new cs:new iA(a),"function"!=typeof b&&d.pointRadius(b),f()):g},k.pointRadius=function(a){return arguments.length?(b="function"==typeof a?a:(d.pointRadius(+a),+a),k):b},k.projection(dK.geo.albersUsa()).context(null)},dK.geo.transform=function(a){return{stream:function(b){var d=new fG(b);for(var c in a){d[c]=a[c]}return d}}},fG.prototype={point:function(b,a){this.stream.point(b,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},dK.geo.projection=bN,dK.geo.projectionMutator=g4,(dK.geo.equirectangular=function(){return bN(bv)}).raw=bv.invert=bv,dK.geo.rotation=function(b){function a(c){return c=b(c[0]*bO,c[1]*bO),c[0]*=gJ,c[1]*=gJ,c}return b=dD(b[0]%360*bO,b[1]*bO,b.length>2?b[2]*bO:0),a.invert=function(c){return c=b.invert(c[0]*bO,c[1]*bO),c[0]*=gJ,c[1]*=gJ,c},a},fL.invert=bv,dK.geo.circle=function(){function f(){var h="function"==typeof c?c.apply(this,arguments):c,g=dD(-h[0]*bO,-h[1]*bO,0).invert,e=[];return d(null,null,1,{point:function(j,i){e.push(j=g(j,i)),j[0]*=gJ,j[1]*=gJ}}),{type:"Polygon",coordinates:[e]}}var b,d,c=[0,0],a=6;return f.origin=function(e){return arguments.length?(c=e,f):c},f.angle=function(e){return arguments.length?(d=b4((b=+e)*bO,a*bO),f):b},f.precision=function(e){return arguments.length?(d=b4(b*bO,(a=+e)*bO),f):a},f.angle(90)},dK.geo.distance=function(g,w){var m,b=(w[0]-g[0])*bO,v=g[1]*bO,j=w[1]*bO,d=Math.sin(b),q=Math.cos(b),p=Math.sin(v),h=Math.cos(v),x=Math.sin(j),k=Math.cos(j);return Math.atan2(Math.sqrt((m=k*d)*m+(m=h*x-p*k*q)*m),p*x+h*k*q)},dK.geo.graticule=function(){function B(){return{type:"MultiLineString",coordinates:q()}}function q(){return dK.range(Math.ceil(E/J)*J,k,J).map(F).concat(dK.range(Math.ceil(D/C)*C,K,C).map(G)).concat(dK.range(Math.ceil(x/z)*z,I,z).filter(function(a){return fW(a%J)>a5}).map(w)).concat(dK.range(Math.ceil(L/j)*j,A,j).filter(function(a){return fW(a%C)>a5}).map(H))}var I,x,k,E,A,L,K,D,w,H,F,G,z=10,j=z,J=90,C=360,b=2.5;return B.lines=function(){return q().map(function(a){return{type:"LineString",coordinates:a}})},B.outline=function(){return{type:"Polygon",coordinates:[F(E).concat(G(K).slice(1),F(k).reverse().slice(1),G(D).reverse().slice(1))]}},B.extent=function(a){return arguments.length?B.majorExtent(a).minorExtent(a):B.minorExtent()},B.majorExtent=function(a){return arguments.length?(E=+a[0][0],k=+a[1][0],D=+a[0][1],K=+a[1][1],E>k&&(a=E,E=k,k=a),D>K&&(a=D,D=K,K=a),B.precision(b)):[[E,D],[k,K]]},B.minorExtent=function(a){return arguments.length?(x=+a[0][0],I=+a[1][0],L=+a[0][1],A=+a[1][1],x>I&&(a=x,x=I,I=a),L>A&&(a=L,L=A,A=a),B.precision(b)):[[x,L],[I,A]]},B.step=function(a){return arguments.length?B.majorStep(a).minorStep(a):B.minorStep()},B.majorStep=function(a){return arguments.length?(J=+a[0],C=+a[1],B):[J,C]},B.minorStep=function(a){return arguments.length?(z=+a[0],j=+a[1],B):[z,j]},B.precision=function(a){return arguments.length?(b=+a,w=f3(L,A,90),H=gs(x,I,b),F=f3(D,K,90),G=gs(E,k,b),B):b},B.majorExtent([[-180,-90+a5],[180,90-a5]]).minorExtent([[-180,-80-a5],[180,80+a5]])},dK.geo.greatArc=function(){function f(){return{type:"LineString",coordinates:[b||c.apply(this,arguments),d||a.apply(this,arguments)]}}var b,d,c=dg,a=a4;return f.distance=function(){return dK.geo.distance(b||c.apply(this,arguments),d||a.apply(this,arguments))},f.source=function(g){return arguments.length?(c=g,b="function"==typeof g?null:g,f):c},f.target=function(e){return arguments.length?(a=e,d="function"==typeof e?null:e,f):a},f.precision=function(){return arguments.length?f:0},f},dK.geo.interpolate=function(b,a){return hv(b[0]*bO,b[1]*bO,a[0]*bO,a[1]*bO)},dK.geo.length=function(a){return fZ=0,dK.geo.stream(a,ek),fZ};var fZ,ek={sphere:hN,point:hN,lineStart:eq,lineEnd:hN,polygonStart:hN,polygonEnd:hN},fD=jX(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(dK.geo.azimuthalEqualArea=function(){return bN(fD)}).raw=fD;var jW=jX(function(b){var a=Math.acos(b);return a&&a/Math.sin(a)},aK);(dK.geo.azimuthalEquidistant=function(){return bN(jW)}).raw=jW,(dK.geo.conicConformal=function(){return aJ(ad)}).raw=ad,(dK.geo.conicEquidistant=function(){return aJ(gR)}).raw=gR;var aL=jX(function(a){return 1/a},Math.atan);(dK.geo.gnomonic=function(){return bN(aL)}).raw=aL,am.invert=function(b,a){return[b,2*Math.atan(Math.exp(a))-fh]},(dK.geo.mercator=function(){return iM(am)}).raw=am;var gm=jX(function(){return 1},Math.asin);(dK.geo.orthographic=function(){return bN(gm)}).raw=gm;var cS=jX(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(dK.geo.stereographic=function(){return bN(cS)}).raw=cS,aM.invert=function(b,a){return[-a,2*Math.atan(Math.exp(b))-fh]},(dK.geo.transverseMercator=function(){var c=iM(aM),a=c.center,b=c.rotate;return c.center=function(d){return d?a([-d[1],d[0]]):(d=a(),[d[1],-d[0]])},c.rotate=function(d){return d?b([d[0],d[1],d.length>2?d[2]+90:90]):(d=b(),[d[0],d[1],d[2]-90])},b([0,0,90])}).raw=aM,dK.geom={},dK.geom.hull=function(d){function a(j){if(j.length<3){return[]}var y,x=iJ(c),m=iJ(b),e=j.length,w=[],v=[];for(y=0;e>y;y++){w.push([+x.call(this,j[y],y),+m.call(this,j[y],y),y])}for(w.sort(cm),y=0;e>y;y++){v.push([w[y][0],-w[y][1]])}var k=aV(w),z=aV(v),r=z[0]===k[0],p=z[z.length-1]===k[k.length-1],q=[];for(y=k.length-1;y>=0;--y){q.push(j[w[k[y]][2]])}for(y=+r;y<z.length-p;++y){q.push(j[w[z[y]][2]])}return q}var c=eQ,b=e3;return arguments.length?a(d):(a.x=function(e){return arguments.length?(c=e,a):c},a.y=function(e){return arguments.length?(b=e,a):b},a)},dK.geom.polygon=function(a){return cn(a,js),a};var js=dK.geom.polygon.prototype=[];js.area=function(){for(var f,b=-1,d=this.length,c=this[d-1],a=0;++b<d;){f=c,c=this[b],a+=f[1]*c[0]-f[0]*c[1]}return 0.5*a},js.centroid=function(k){var f,h,g=-1,c=this.length,d=0,j=0,b=this[c-1];for(arguments.length||(k=-1/(6*this.area()));++g<c;){f=b,b=this[g],h=f[0]*b[1]-b[0]*f[1],d+=(f[0]+b[0])*h,j+=(f[1]+b[1])*h}return[d*k,j*k]},js.clip=function(f){for(var q,j,b,p,h,d,m=jv(f),k=-1,g=this.length-jv(this),v=this[g-1];++k<g;){for(q=f.slice(),f.length=0,p=this[k],h=q[(b=q.length-m)-1],j=-1;++j<b;){d=q[j],bE(d,v,p)?(bE(h,v,p)||f.push(gz(h,d,v,p)),f.push(d)):bE(h,v,p)&&f.push(gz(h,d,v,p)),h=d}m&&f.push(f[0]),v=p}return f};var cw,dS,c9,d5,b3,dz=[],iB=[];fs.prototype.prepare=function(){for(var c,a=this.edges,b=a.length;b--;){c=a[b].edge,c.b&&c.a||a.splice(b,1)}return a.sort(az),a.length},h6.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},j6.prototype={insert:function(f,b){var d,c,a;if(f){if(b.P=f,b.N=f.N,f.N&&(f.N.P=b),f.N=b,f.R){for(f=f.R;f.L;){f=f.L}f.L=b}else{f.R=b}d=f}else{this._?(f=bJ(this._),b.P=null,b.N=f,f.P=f.L=b,d=f):(b.P=b.N=null,this._=b,d=null)}for(b.L=b.R=null,b.U=d,b.C=!0,f=b;d&&d.C;){c=d.U,d===c.L?(a=c.R,a&&a.C?(d.C=a.C=!1,c.C=!0,f=c):(f===d.R&&(fz(this,d),f=d,d=f.U),d.C=!1,c.C=!0,dW(this,c))):(a=c.L,a&&a.C?(d.C=a.C=!1,c.C=!0,f=c):(f===d.L&&(dW(this,d),f=d,d=f.U),d.C=!1,c.C=!0,fz(this,c))),d=f.U}this._.C=!1},remove:function(h){h.N&&(h.N.P=h.P),h.P&&(h.P.N=h.N),h.N=h.P=null;var c,f,d,a=h.U,b=h.L,g=h.R;if(f=b?g?bJ(g):b:g,a?a.L===h?a.L=f:a.R=f:this._=f,b&&g?(d=f.C,f.C=h.C,f.L=b,b.U=f,f!==g?(a=f.U,f.U=h.U,h=f.R,a.L=h,f.R=g,g.U=f):(f.U=a,a=f,h=f.R)):(d=h.C,h=f),h&&(h.U=a),!d){if(h&&h.C){return h.C=!1,void 0}do{if(h===this._){break}if(h===a.L){if(c=a.R,c.C&&(c.C=!1,a.C=!0,fz(this,a),c=a.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,dW(this,c),c=a.R),c.C=a.C,a.C=c.R.C=!1,fz(this,a),h=this._;break}}else{if(c=a.L,c.C&&(c.C=!1,a.C=!0,dW(this,a),c=a.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,fz(this,c),c=a.L),c.C=a.C,a.C=c.L.C=!1,dW(this,a),h=this._;break}}c.C=!0,h=a,a=a.U}while(!h.C);h&&(h.C=!1)}}},dK.geom.voronoi=function(k){function f(q){var l=new Array(q.length),m=b[0][0],a=b[0][1],e=b[1][0],p=b[1][1];return g2(h(q),b).cells.forEach(function(r,n){var t=r.edges,i=r.site,o=l[n]=t.length?t.map(function(u){var s=u.start();return[s.x,s.y]}):i.x>=m&&i.x<=e&&i.y>=a&&i.y<=p?[[m,p],[e,p],[e,a],[m,a]]:[];o.point=q[n]}),l}function h(a){return a.map(function(i,e){return{x:Math.round(d(i,e)/a5)*a5,y:Math.round(j(i,e)/a5)*a5,i:e}})}var g=eQ,c=e3,d=g,j=c,b=ab;return k?f(k):(f.links=function(a){return g2(h(a)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:a[e.l.i],target:a[e.r.i]}})},f.triangles=function(e){var a=[];return g2(h(e)).cells.forEach(function(v,m){for(var y,q,n=v.site,x=v.edges.sort(az),w=-1,p=x.length,z=x[p-1].edge,t=z.l===n?z.r:z.l;++w<p;){y=z,q=t,z=x[w].edge,t=z.l===n?z.r:z.l,m<q.i&&m<t.i&&bn(n,q,t)<0&&a.push([e[m],e[q.i],e[t.i]])}}),a},f.x=function(a){return arguments.length?(d=iJ(g=a),f):g},f.y=function(a){return arguments.length?(j=iJ(c=a),f):c},f.clipExtent=function(a){return arguments.length?(b=null==a?ab:a,f):b===ab?null:b},f.size=function(a){return arguments.length?f.clipExtent(a&&[[0,0],a]):b===ab?null:b&&b[1]},f)};var ab=[[-1000000,-1000000],[1000000,1000000]];dK.geom.delaunay=function(a){return dK.geom.voronoi().triangles(a)},dK.geom.quadtree=function(f,m,h,b,l){function g(z){function D(w,O,K,p,N,x,v,M){if(!isNaN(K)&&!isNaN(p)){if(w.leaf){var L=w.x,P=w.y;if(null!=L){if(fW(L-K)+fW(P-p)<0.01){B(w,O,K,p,N,x,v,M)}else{var y=w.point;w.x=w.y=w.point=null,B(w,y,L,P,N,x,v,M),B(w,O,K,p,N,x,v,M)}}else{w.x=K,w.y=p,w.point=O}}else{B(w,O,K,p,N,x,v,M)}}}function B(v,P,L,i,O,p,N,M){var w=0.5*(O+N),Q=0.5*(p+M),K=L>=w,x=i>=Q,y=(x<<1)+K;v.leaf=!1,v=v.nodes[y]||(v.nodes[y]=jy()),K?O=w:N=w,x?p=Q:M=Q,D(v,P,L,i,O,p,N,M)}var t,G,E,F,u,r,H,A,e,o=iJ(k),c=iJ(j);if(null!=m){r=m,H=h,A=b,e=l}else{if(A=e=-(r=H=1/0),G=[],E=[],u=z.length,d){for(F=0;u>F;++F){t=z[F],t.x<r&&(r=t.x),t.y<H&&(H=t.y),t.x>A&&(A=t.x),t.y>e&&(e=t.y),G.push(t.x),E.push(t.y)}}else{for(F=0;u>F;++F){var J=+o(t=z[F],F),I=+c(t,F);r>J&&(r=J),H>I&&(H=I),J>A&&(A=J),I>e&&(e=I),G.push(J),E.push(I)}}}var q=A-r,a=e-H;q>a?e=H+q:A=r+a;var C=jy();if(C.add=function(i){D(C,i,+o(i,++F),+c(i,F),r,H,A,e)},C.visit=function(i){hO(i,C,r,H,A,e)},F=-1,null==m){for(;++F<u;){D(C,z[F],G[F],E[F],r,H,A,e)}--F}else{z.forEach(C.add)}return G=E=z=t=null,C}var d,k=eQ,j=e3;return(d=arguments.length)?(k=fJ,j=dB,3===d&&(l=h,b=m,h=m=0),g(f)):(g.x=function(a){return arguments.length?(k=a,g):k},g.y=function(a){return arguments.length?(j=a,g):j},g.extent=function(a){return arguments.length?(null==a?m=h=b=l=null:(m=+a[0][0],h=+a[0][1],b=+a[1][0],l=+a[1][1]),g):null==m?null:[[m,h],[b,l]]},g.size=function(a){return arguments.length?(null==a?m=h=b=l=null:(m=h=0,b=+a[0],l=+a[1]),g):null==m?null:[b-m,l-h]},g)},dK.interpolateRgb=eJ,dK.interpolateObject=b0,dK.interpolateNumber=gK,dK.interpolateString=f1;var hH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fH=new RegExp(hH.source,"g");dK.interpolate=gp,dK.interpolators=[function(c,a){var b=typeof a;return("string"===b?cx.has(a)||/^(#|rgb\(|hsl\()/.test(a)?eJ:f1:a instanceof g3?eJ:Array.isArray(a)?dd:"object"===b&&isNaN(a)?b0:gK)(c,a)}],dK.interpolateArray=dd;var d2=function(){return aK},bQ=dK.map({linear:d2,poly:ah,quad:function(){return jT},cubic:function(){return kb},sin:function(){return iH},exp:function(){return aI},circle:function(){return eN},elastic:e1,back:aR,bounce:function(){return cg}}),g7=dK.map({"in":aK,out:hq,"in-out":en,"out-in":function(a){return en(hq(a))}});dK.ease=function(d){var a=d.indexOf("-"),c=a>=0?d.slice(0,a):d,b=a>=0?d.slice(a+1):"in";return c=bQ.get(c)||d2,b=g7.get(b)||aK,a0(b(c.apply(null,c3.call(arguments,1))))},dK.interpolateHcl=bA,dK.interpolateHsl=gw,dK.interpolateLab=jn,dK.interpolateRound=g6,dK.transform=function(b){var a=bY.createElementNS(dK.ns.prefix.svg,"g");return(dK.transform=function(d){if(null!=d){a.setAttribute("transform",d);var c=a.transform.baseVal.consolidate()}return new ev(c?c.matrix:cH)})(b)},ev.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cH={a:1,b:0,c:0,d:1,e:0,f:0};dK.interpolateTransform=fN,dK.layout={},dK.layout.bundle=function(){return function(d){for(var a=[],c=-1,b=d.length;++c<b;){a.push(jE(d[c]))}return a}},dK.layout.chord=function(){function f(){var c,i,t,r,s,a={},F=[],z=dK.range(h),e=[];for(j=[],b=[],c=0,r=-1;++r<h;){for(i=0,s=-1;++s<h;){i+=p[r][s]}F.push(i),e.push(dK.range(h)),c+=i}for(d&&z.sort(function(w,l){return d(F[w],F[l])}),m&&e.forEach(function(w,l){w.sort(function(y,x){return m(p[l][y],p[l][x])})}),c=(e0-v*h)/c,i=0,r=-1;++r<h;){for(t=i,s=-1;++s<h;){var B=z[r],C=e[B][s],u=p[B][C],E=i,A=i+=u*c;a[B+"-"+C]={index:B,subindex:C,startAngle:E,endAngle:A,value:u}}b[B]={index:B,startAngle:t,endAngle:i,value:(i-t)/c},i+=v}for(r=-1;++r<h;){for(s=r-1;++s<h;){var D=a[r+"-"+s],o=a[s+"-"+r];(D.value||o.value)&&j.push(D.value<o.value?{source:o,target:D}:{source:D,target:o})}}k&&q()}function q(){j.sort(function(c,a){return k((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var j,b,p,h,d,m,k,g={},v=0;return g.matrix=function(a){return arguments.length?(h=(p=a)&&p.length,j=b=null,g):p},g.padding=function(a){return arguments.length?(v=a,j=b=null,g):v},g.sortGroups=function(a){return arguments.length?(d=a,j=b=null,g):d},g.sortSubgroups=function(a){return arguments.length?(m=a,j=null,g):m},g.sortChords=function(a){return arguments.length?(k=a,j&&q(),g):k},g.chords=function(){return j||f(),j},g.groups=function(){return b||f(),b},g},dK.layout.force=function(){function B(a){return function(v,m,d,s){if(v.point!==a){var h=v.cx-a.x,f=v.cy-a.y,p=s-m,n=h*h+f*f;if(n>p*p/J){if(z>n){var g=v.charge/n;a.px-=h*g,a.py-=f*g}return !0}if(v.point&&n&&z>n){var g=v.pointCharge/n;a.px-=h*g,a.py-=f*g}}return !v.charge}}function q(a){a.px=dK.event.x,a.py=dK.event.y,L.resume()}var I,x,k,E,A,L={},K=dK.dispatch("start","tick","end"),D=[1,1],w=0.9,H=by,F=fO,G=-30,z=dG,j=0.1,J=0.64,C=[],b=[];return L.tick=function(){if((x*=0.99)<0.005){return K.end({type:"end",alpha:x=0}),!0}var v,l,r,i,g,c,n,s,m,u=C.length,o=b.length;for(l=0;o>l;++l){r=b[l],i=r.source,g=r.target,s=g.x-i.x,m=g.y-i.y,(c=s*s+m*m)&&(c=x*E[l]*((c=Math.sqrt(c))-k[l])/c,s*=c,m*=c,g.x-=s*(n=i.weight/(g.weight+i.weight)),g.y-=m*n,i.x+=s*(n=1-n),i.y+=m*n)}if((n=x*j)&&(s=D[0]/2,m=D[1]/2,l=-1,n)){for(;++l<u;){r=C[l],r.x+=(s-r.x)*n,r.y+=(m-r.y)*n}}if(G){for(cY(v=dK.geom.quadtree(C),x,A),l=-1;++l<u;){(r=C[l]).fixed||v.visit(B(r))}}for(l=-1;++l<u;){r=C[l],r.fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*w,r.y-=(r.py-(r.py=r.y))*w)}K.tick({type:"tick",alpha:x})},L.nodes=function(a){return arguments.length?(C=a,L):C},L.links=function(a){return arguments.length?(b=a,L):b},L.size=function(a){return arguments.length?(D=a,L):D},L.linkDistance=function(a){return arguments.length?(H="function"==typeof a?a:+a,L):H},L.distance=L.linkDistance,L.linkStrength=function(a){return arguments.length?(F="function"==typeof a?a:+a,L):F},L.friction=function(a){return arguments.length?(w=+a,L):w},L.charge=function(a){return arguments.length?(G="function"==typeof a?a:+a,L):G},L.chargeDistance=function(a){return arguments.length?(z=a*a,L):Math.sqrt(z)},L.gravity=function(a){return arguments.length?(j=+a,L):j},L.theta=function(a){return arguments.length?(J=a*a,L):Math.sqrt(J)},L.alpha=function(a){return arguments.length?(a=+a,x?x=a>0?a:0:a>0&&(K.start({type:"start",alpha:x=a}),dK.timer(L.tick)),L):x},L.start=function(){function m(y,t){if(!i){for(i=new Array(l),e=0;l>e;++e){i[e]=[]}for(e=0;c>e;++e){var p=b[e];i[p.source.index].push(p.target),i[p.target.index].push(p.source)}}for(var s,v=i[d],e=-1,c=v.length;++e<c;){if(!isNaN(s=v[e][y])){return s}}return Math.random()*t}var d,i,g,l=C.length,f=b.length,h=D[0],a=D[1];for(d=0;l>d;++d){(g=C[d]).index=d,g.weight=0}for(d=0;f>d;++d){g=b[d],"number"==typeof g.source&&(g.source=C[g.source]),"number"==typeof g.target&&(g.target=C[g.target]),++g.source.weight,++g.target.weight}for(d=0;l>d;++d){g=C[d],isNaN(g.x)&&(g.x=m("x",h)),isNaN(g.y)&&(g.y=m("y",a)),isNaN(g.px)&&(g.px=g.x),isNaN(g.py)&&(g.py=g.y)}if(k=[],"function"==typeof H){for(d=0;f>d;++d){k[d]=+H.call(this,b[d],d)}}else{for(d=0;f>d;++d){k[d]=H}}if(E=[],"function"==typeof F){for(d=0;f>d;++d){E[d]=+F.call(this,b[d],d)}}else{for(d=0;f>d;++d){E[d]=F}}if(A=[],"function"==typeof G){for(d=0;l>d;++d){A[d]=+G.call(this,C[d],d)}}else{for(d=0;l>d;++d){A[d]=G}}return L.resume()},L.resume=function(){return L.alpha(0.1)},L.stop=function(){return L.alpha(0)},L.drag=function(){return I||(I=dK.behavior.drag().origin(aK).on("dragstart.force",cG).on("drag.force",q).on("dragend.force",iT)),arguments.length?(this.on("mouseover.force",b7).on("mouseout.force",dF).call(I),void 0):I},dK.rebind(L,K,"on")};var by=20,fO=1,dG=1/0;dK.layout.hierarchy=function(){function d(g){var h,k=[g],f=[];for(g.depth=0;null!=(h=k.pop());){if(f.push(h),(e=c.call(d,h,h.depth))&&(m=e.length)){for(var m,e,j;--m>=0;){k.push(j=e[m]),j.parent=h,j.depth=h.depth+1}b&&(h.value=0),h.children=e}else{b&&(h.value=+b.call(d,h,h.depth)||0),delete h.children}}return dj(g,function(o){var l,i;a&&(l=o.children)&&l.sort(a),b&&(i=o.parent)&&(i.value+=o.value)}),f}var a=hw,c=h0,b=j2;return d.sort=function(f){return arguments.length?(a=f,d):a},d.children=function(e){return arguments.length?(c=e,d):c},d.value=function(e){return arguments.length?(b=e,d):b},d.revalue=function(e){return b&&(bS(e,function(f){f.children&&(f.value=0)}),dj(e,function(f){var g;f.children||(f.value=+b.call(d,f,f.depth)||0),(g=f.parent)&&(g.value+=f.value)})),e},d},dK.layout.partition=function(){function f(s,m,g,q){var k=s.children;if(s.x=m,s.y=s.depth*q,s.dx=g,s.dy=q,k&&(h=k.length)){var h,p,n,j=-1;for(g=s.value?g/s.value:0;++j<h;){f(p=k[j],m,n=p.value*g,q),m+=n}}}function b(l){var k=l.children,j=0;if(k&&(g=k.length)){for(var g,h=-1;++h<g;){j=Math.max(j,b(k[h]))}}return 1+j}function d(h,g){var j=c.call(this,h,g);return f(j[0],0,a[0],a[1]/b(j[0])),j}var c=dK.layout.hierarchy(),a=[1,1];return d.size=function(e){return arguments.length?(a=e,d):a},dP(d,c)},dK.layout.pie=function(){function f(h){var k=h.map(function(l,i){return +b.call(f,l,i)}),g=+("function"==typeof c?c.apply(this,arguments):c),m=(("function"==typeof a?a.apply(this,arguments):a)-g)/dK.sum(k),e=dK.range(h.length);null!=d&&e.sort(d===jG?function(l,i){return k[i]-k[l]}:function(l,i){return d(h[l],h[i])});var j=[];return e.forEach(function(l){var i;j[l]={data:h[l],value:i=k[l],startAngle:g,endAngle:g+=i*m}}),j}var b=Number,d=jG,c=0,a=e0;return f.value=function(g){return arguments.length?(b=g,f):b},f.sort=function(e){return arguments.length?(d=e,f):d},f.startAngle=function(e){return arguments.length?(c=e,f):c},f.endAngle=function(e){return arguments.length?(a=e,f):a},f};var jG={};dK.layout.stack=function(){function h(t,r){var j=t.map(function(m,l){return c.call(h,m,l)}),w=j.map(function(l){return l.map(function(m,p){return[b.call(h,m,p),g.call(h,m,p)]})}),o=f.call(h,w,r);j=dK.permute(j,o),w=dK.permute(w,o);var k,n,e,u=d.call(h,w,r),q=j.length,i=j[0].length;for(n=0;i>n;++n){for(a.call(h,j[0][n],e=u[n],w[0][n][1]),k=1;q>k;++k){a.call(h,j[k][n],e+=w[k-1][n][1],w[k][n][1])}}return t}var c=aK,f=cK,d=bz,a=hb,b=d7,g=bR;return h.values=function(i){return arguments.length?(c=i,h):c},h.order=function(e){return arguments.length?(f="function"==typeof e?e:h1.get(e)||cK,h):f},h.offset=function(e){return arguments.length?(d="function"==typeof e?e:eO.get(e)||bz,h):d},h.x=function(e){return arguments.length?(b=e,h):b},h.y=function(e){return arguments.length?(g=e,h):g},h.out=function(e){return arguments.length?(a=e,h):a},h};var h1=dK.map({"inside-out":function(f){var q,j,b=f.length,p=f.map(fR),h=f.map(dJ),d=dK.range(b).sort(function(c,a){return p[c]-p[a]}),m=0,k=0,g=[],v=[];for(q=0;b>q;++q){j=d[q],k>m?(m+=h[j],g.push(j)):(k+=h[j],v.push(j))}return v.reverse().concat(g)},reverse:function(a){return dK.range(a.length).reverse()},"default":cK}),eO=dK.map({silhouette:function(f){var m,h,b,l=f.length,g=f[0].length,d=[],k=0,j=[];for(h=0;g>h;++h){for(m=0,b=0;l>m;m++){b+=f[m][h][1]}b>k&&(k=b),d.push(b)}for(h=0;g>h;++h){j[h]=(k-d[h])/2}return j},wiggle:function(j){var A,w,b,z,m,d,y,x,k,B=j.length,v=j[0],p=v.length,q=[];for(q[0]=x=k=0,w=1;p>w;++w){for(A=0,z=0;B>A;++A){z+=j[A][w][1]}for(A=0,m=0,y=v[w][0]-v[w-1][0];B>A;++A){for(b=0,d=(j[A][w][1]-j[A][w-1][1])/(2*y);A>b;++b){d+=(j[b][w][1]-j[b][w-1][1])/y}m+=d*j[A][w][1]}q[w]=x-=z?m/z*y:0,k>x&&(k=x)}for(w=0;p>w;++w){q[w]-=k}return q},expand:function(k){var f,h,g,c=k.length,d=k[0].length,j=1/c,b=[];for(h=0;d>h;++h){for(f=0,g=0;c>f;f++){g+=k[f][h][1]}if(g){for(f=0;c>f;f++){k[f][h][1]/=g}}else{for(f=0;c>f;f++){k[f][h][1]=j}}}for(h=0;d>h;++h){b[h]=0}return b},zero:bz});dK.layout.histogram=function(){function f(k,q){for(var j,w,v=[],m=k.map(d,this),x=c.call(this,m,q),u=a.call(this,x,m,q),q=-1,r=m.length,t=u.length-1,e=b?1:1/r;++q<t;){j=v[q]=[],j.dx=u[q+1]-(j.x=u[q]),j.y=0}if(t>0){for(q=-1;++q<r;){w=m[q],w>=x[0]&&w<=x[1]&&(j=v[dK.bisect(u,w,1,t)-1],j.y+=e,j.push(k[q]))}}return v}var b=!0,d=Number,c=cd,a=h8;return f.value=function(e){return arguments.length?(d=e,f):d},f.range=function(e){return arguments.length?(c=iJ(e),f):c},f.bins=function(e){return arguments.length?(a="number"==typeof e?function(g){return eR(g,e)}:iJ(e),f):a},f.frequency=function(g){return arguments.length?(b=!!g,f):b},f},dK.layout.pack=function(){function f(q,h){var m=d.call(this,q,h),g=m[0],p=a[0],e=a[1],j=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(g.x=g.y=0,dj(g,function(i){i.r=+j(i.value)}),dj(g,a8),c){var k=c*(b?1:Math.max(2*g.r/p,2*g.r/e))/2;dj(g,function(i){i.r+=k}),dj(g,a8),dj(g,function(i){i.r-=k})}return j1(g,p/2,e/2,b?1:1/Math.max(2*g.r/p,2*g.r/e)),m}var b,d=dK.layout.hierarchy().sort(gS),c=0,a=[1,1];return f.size=function(e){return arguments.length?(a=e,f):a},f.radius=function(g){return arguments.length?(b=null==g||"function"==typeof g?g:+g,f):b},f.padding=function(e){return arguments.length?(c=+e,f):c},dP(f,d)},dK.layout.tree=function(){function f(c,x){var z=d.call(this,c,x),o=z[0],i=q(o);if(dj(i,j),i.parent.m=-i.z,bS(i,b),g){bS(o,h)}else{var l=o,a=o,w=o;bS(o,function(s){s.x<l.x&&(l=s),s.x>a.x&&(a=s),s.depth>w.depth&&(w=s)});var r=m(l,a)/2-l.x,e=k[0]/(a.x+m(a,l)/2+r),t=k[1]/(w.depth||1);bS(o,function(s){s.x=(s.x+r)*e,s.y=s.depth*t})}return z}function q(z){for(var v,x={A:null,children:[z]},w=[x];null!=(v=w.pop());){for(var l,s=v.children,y=0,c=s.length;c>y;++y){w.push((s[y]=l={_:s[y],parent:v,children:(l=s[y].children)&&l.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:y}).a=l)}}return x.children[0]}function j(s){var c=s.children,o=s.parent.children,l=s.i?o[s.i-1]:null;if(c.length){eX(s);var a=(c[0].z+c[c.length-1].z)/2;l?(s.z=l.z+m(s._,l._),s.m=s.z-a):s.z=a}else{l&&(s.z=l.z+m(s._,l._))}s.parent.A=p(s,l,s.parent.A||o[0])}function b(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function p(w,E,B){if(E){for(var a,D=w,y=w,v=E,C=D.parent.children[0],x=D.m,F=y.m,A=v.m,z=C.m;v=i0(v),D=aB(D),v&&D;){C=aB(C),y=i0(y),y.a=w,a=v.z+A-D.z-x+m(v._,D._),a>0&&(aQ(e9(v,w,B),w,a),x+=a,F+=a),A+=v.m,x+=D.m,z+=C.m,F+=y.m}v&&!i0(y)&&(y.t=v,y.m+=A-F),D&&!aB(C)&&(C.t=D,C.m+=x-z,B=w)}return B}function h(a){a.x*=k[0],a.y=a.depth*k[1]}var d=dK.layout.hierarchy().sort(null).value(null),m=gY,k=[1,1],g=null;return f.separation=function(a){return arguments.length?(m=a,f):m},f.size=function(a){return arguments.length?(g=null==(k=a)?h:null,f):g?null:k},f.nodeSize=function(a){return arguments.length?(g=null==(k=a)?null:h,f):g?k:null},dP(f,d)},dK.layout.cluster=function(){function f(j,m){var e,u=b.call(this,j,m),t=u[0],k=0;dj(t,function(h){var g=h.children;g&&g.length?(h.x=cy(g),h.y=aZ(g)):(h.x=e?k+=d(h,e):0,h.y=0,e=h)});var v=bI(t),r=gG(t),p=v.x-d(v,r)/2,q=r.x+d(r,v)/2;return dj(t,a?function(g){g.x=(g.x-t.x)*c[0],g.y=(t.y-g.y)*c[1]}:function(g){g.x=(g.x-p)/(q-p)*c[0],g.y=(1-(t.y?g.y/t.y:1))*c[1]}),u}var b=dK.layout.hierarchy().sort(null).value(null),d=gY,c=[1,1],a=!1;return f.separation=function(e){return arguments.length?(d=e,f):d},f.size=function(e){return arguments.length?(a=null==(c=e),f):a?null:c},f.nodeSize=function(e){return arguments.length?(a=null!=(c=e),f):a?c:null},dP(f,b)},dK.layout.treemap=function(){function k(l,f){for(var h,g,a=-1,c=l.length;++a<c;){g=(h=l[a]).value*(0>f?0:f),h.area=isNaN(g)||0>=g?0:g}}function C(u){var r=u.children;if(r&&r.length){var g,F,E,n=x(u),H=[],t=r.slice(),f=1/0,G="slice"===w?n.dx:"dice"===w?n.dy:"slice-dice"===w?1&u.depth?n.dy:n.dx:Math.min(n.dx,n.dy);for(k(t,n.dx*n.dy/u.value),H.area=0;(E=t.length)>0;){H.push(g=t[E-1]),H.area+=g.area,"squarify"!==w||(F=b(H,G))<=f?(t.pop(),f=F):(H.area-=H.pop().area,B(H,G,n,!1),G=Math.min(n.dx,n.dy),H.length=H.area=0,f=1/0)}H.length&&(B(H,G,n,!0),H.length=H.area=0),r.forEach(C)}}function y(g){var h=g.children;if(h&&h.length){var f,l=x(g),e=h.slice(),n=[];for(k(e,l.dx*l.dy/g.value),n.area=0;f=e.pop();){n.push(f),n.area+=f.area,null!=f.z&&(B(n,f.z?l.dx:l.dy,l,!e.length),n.length=n.area=0)}h.forEach(y)}}function b(E,h){for(var p,l=E.area,f=0,g=1/0,s=-1,c=E.length;++s<c;){(p=E[s].area)&&(g>p&&(g=p),p>f&&(f=p))}return l*=l,h*=h,l?Math.max(h*f*d/l,l/(h*g*d)):1/0}function B(g,H,E,c){var G,p=-1,f=g.length,F=E.x,h=E.y,I=H?z(g.area/H):0;if(H==E.dx){for((c||I>E.dy)&&(I=E.dy);++p<f;){G=g[p],G.x=F,G.y=h,G.dy=I,F+=G.dx=Math.min(E.x+E.dx-F,I?z(G.area/I):0)}G.z=!0,G.dx+=E.x+E.dx-F,E.y+=I,E.dy-=I}else{for((c||I>E.dx)&&(I=E.dx);++p<f;){G=g[p],G.x=F,G.y=h,G.dx=I,h+=G.dy=Math.min(E.y+E.dy-h,I?z(G.area/I):0)}G.z=!1,G.dy+=E.y+E.dy-h,E.x+=I,E.dx-=I}}function q(e){var a=j||A(e),c=a[0];return c.x=0,c.y=0,c.dx=m[0],c.dy=m[1],j&&A.revalue(c),k([c],c.dx*c.dy/c.value),(j?y:C)(c),v&&(j=a),a}var j,A=dK.layout.hierarchy(),z=Math.round,m=[1,1],D=null,x=jC,v=!1,w="squarify",d=0.5*(1+Math.sqrt(5));return q.size=function(a){return arguments.length?(m=a,q):m},q.padding=function(g){function a(h){var i=g.call(q,h,h.depth);return null==i?jC(h):hk(h,"number"==typeof i?[i,i,i,i]:i)}function f(e){return hk(e,g)}if(!arguments.length){return D}var c;return x=null==(D=g)?jC:"function"==(c=typeof g)?a:"number"===c?(g=[g,g,g,g],f):f,q},q.round=function(a){return arguments.length?(z=a?Math.round:Number,q):z!=Number},q.sticky=function(a){return arguments.length?(v=a,j=null,q):v},q.ratio=function(a){return arguments.length?(d=a,q):d},q.mode=function(a){return arguments.length?(w=a+"",q):w},dP(q,A)},dK.random={normal:function(c,a){var b=arguments.length;return 2>b&&(a=1),1>b&&(c=0),function(){var g,f,d;do{g=2*Math.random()-1,f=2*Math.random()-1,d=g*g+f*f}while(!d||d>1);return c+a*g*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=dK.random.normal.apply(dK,arguments);return function(){return Math.exp(a())}},bates:function(b){var a=dK.random.irwinHall(b);return function(){return a()/b}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++){b+=Math.random()}return b}}},dK.scale={};var b8={floor:aK,ceil:aK};dK.scale.linear=function(){return fA([0,1],[0,1],gp,!1)};var gP={s:1,g:1,p:1,r:1,e:1};dK.scale.log=function(){return c7(dK.scale.linear().domain([0,1]),10,!0,[1,10])};var f6=dK.format(".0e"),gx={floor:function(a){return -Math.ceil(-a)},ceil:function(a){return -Math.floor(-a)}};dK.scale.pow=function(){return dZ(dK.scale.linear(),1,[0,1])},dK.scale.sqrt=function(){return dK.scale.pow().exponent(0.5)},dK.scale.ordinal=function(){return dx([],{t:"range",a:[[]]})},dK.scale.category10=function(){return dK.scale.ordinal().range(dk)},dK.scale.category20=function(){return dK.scale.ordinal().range(a7)},dK.scale.category20b=function(){return dK.scale.ordinal().range(hx)},dK.scale.category20c=function(){return dK.scale.ordinal().range(ew)};var dk=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(a2),a7=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(a2),hx=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(a2),ew=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(a2);dK.scale.quantile=function(){return iw([],[])},dK.scale.quantize=function(){return j9(0,1,[0,1])},dK.scale.threshold=function(){return hF([0.5],[0,1])},dK.scale.identity=function(){return fF([0,1])},dK.svg={},dK.svg.arc=function(){function f(){var j=b.apply(this,arguments),m=d.apply(this,arguments),e=c.apply(this,arguments)+j0,u=a.apply(this,arguments)+j0,t=(e>u&&(t=e,e=u,u=t),u-e),k=aW>t?"0":"1",v=Math.cos(e),r=Math.sin(e),p=Math.cos(u),q=Math.sin(u);return t>=aj?j?"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"M0,"+j+"A"+j+","+j+" 0 1,0 0,"+-j+"A"+j+","+j+" 0 1,0 0,"+j+"Z":"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"Z":j?"M"+m*v+","+m*r+"A"+m+","+m+" 0 "+k+",1 "+m*p+","+m*q+"L"+j*p+","+j*q+"A"+j+","+j+" 0 "+k+",0 "+j*v+","+j*r+"Z":"M"+m*v+","+m*r+"A"+m+","+m+" 0 "+k+",1 "+m*p+","+m*q+"L0,0Z"}var b=d0,d=bP,c=g5,a=cF;return f.innerRadius=function(g){return arguments.length?(b=iJ(g),f):b},f.outerRadius=function(e){return arguments.length?(d=iJ(e),f):d},f.startAngle=function(e){return arguments.length?(c=iJ(e),f):c},f.endAngle=function(e){return arguments.length?(a=iJ(e),f):a},f.centroid=function(){var g=(b.apply(this,arguments)+d.apply(this,arguments))/2,e=(c.apply(this,arguments)+a.apply(this,arguments))/2+j0;return[Math.cos(e)*g,Math.sin(e)*g]},f};var j0=-fh,aj=e0-a5;dK.svg.line=function(){return bx(aK)};var gV=dK.map({linear:fM,"linear-closed":dE,step:jD,"step-before":hW,"step-after":eM,basis:a6,"basis-open":es,"basis-closed":jZ,bundle:ag,cardinal:f4,"cardinal-open":b6,"cardinal-closed":gN,monotone:e4});gV.forEach(function(b,a){a.key=b,a.closed=/-closed$/.test(b)});var aw=[0,2/3,1/3,0],iU=[0,1/3,2/3,0],aP=[0,1/6,2/3,1/6];dK.svg.line.radial=function(){var a=bx(aX);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},hW.reverse=eM,eM.reverse=hW,dK.svg.area=function(){return cq(aK)},dK.svg.area.radial=function(){var a=cq(aX);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},dK.svg.chord=function(){function f(r,i){var o=q(this,h,r,i),e=q(this,d,r,i);return"M"+o.p0+b(o.r,o.p1,o.a1-o.a0)+(j(o,e)?p(o.r,o.p1,o.r,o.p0):p(o.r,o.p1,e.r,e.p0)+b(e.r,e.p1,e.a1-e.a0)+p(e.r,e.p1,o.r,o.p0))+"Z"}function q(z,l,x,w){var a=l.call(z,x,w),c=m.call(z,a,w),y=k.call(z,a,w)+j0,v=g.call(z,a,w)+j0;return{r:c,a0:y,a1:v,p0:[c*Math.cos(y),c*Math.sin(y)],p1:[c*Math.cos(v),c*Math.sin(v)]}}function j(c,a){return c.a0==a.a0&&c.a1==a.a1}function b(i,a,c){return"A"+i+","+i+" 0 "+ +(c>aW)+",1 "+a}function p(l,a,i,c){return"Q 0,0 "+c}var h=dg,d=a4,m=bG,k=g5,g=cF;return f.radius=function(a){return arguments.length?(m=iJ(a),f):m},f.source=function(a){return arguments.length?(h=iJ(a),f):h},f.target=function(a){return arguments.length?(d=iJ(a),f):d},f.startAngle=function(a){return arguments.length?(k=iJ(a),f):k},f.endAngle=function(a){return arguments.length?(g=iJ(a),f):g},f},dK.svg.diagonal=function(){function d(k,f){var g=a.call(this,k,f),h=c.call(this,k,f),e=(g.y+h.y)/2,j=[g,{x:g.x,y:e},{x:h.x,y:e},h];return j=j.map(b),"M"+j[0]+"C"+j[1]+" "+j[2]+" "+j[3]}var a=dg,c=a4,b=gB;return d.source=function(f){return arguments.length?(a=iJ(f),d):a},d.target=function(e){return arguments.length?(c=iJ(e),d):c},d.projection=function(e){return arguments.length?(b=e,d):b},d},dK.svg.diagonal.radial=function(){var c=dK.svg.diagonal(),a=gB,b=c.projection;return c.projection=function(d){return arguments.length?b(jx(a=d)):a},c},dK.svg.symbol=function(){function c(e,d){return(eU.get(a.call(this,e,d))||cX)(b.call(this,e,d))}var a=eA,b=hd;return c.type=function(d){return arguments.length?(a=iJ(d),c):a},c.size=function(d){return arguments.length?(b=iJ(d),c):b},c};var eU=dK.map({circle:cX,cross:function(b){var a=Math.sqrt(b/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(c){var a=Math.sqrt(c/(2*bH)),b=a*bH;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(b){var a=Math.sqrt(b)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(c){var a=Math.sqrt(c/cv),b=a*cv/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(c){var a=Math.sqrt(c/cv),b=a*cv/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});dK.svg.symbolTypes=eU.keys();var e6,aY,cv=Math.sqrt(3),bH=Math.tan(30*bO),gD=[],jz=0;gD.call=bh.call,gD.empty=bh.empty,gD.node=bh.node,gD.size=bh.size,dK.transition=function(a){return arguments.length?e6?a.transition():a:j7.transition()},dK.transition.prototype=gD,gD.select=function(f){var q,j,b,p=this.id,h=[];f=ix(f);for(var d=-1,m=this.length;++d<m;){h.push(q=[]);for(var k=this[d],g=-1,v=k.length;++g<v;){(b=k[g])&&(j=f.call(b,b.__data__,g,d))?("__data__" in b&&(j.__data__=b.__data__),d9(j,g,p,b.__transition__[p]),q.push(j)):q.push(null)}}return fb(h,p)},gD.selectAll=function(k){var C,y,b,B,q,j=this.id,A=[];k=hM(k);for(var z=-1,m=this.length;++z<m;){for(var D=this[z],x=-1,v=D.length;++x<v;){if(b=D[x]){q=b.__transition__[j],y=k.call(b,b.__data__,x,z),A.push(C=[]);for(var w=-1,d=y.length;++w<d;){(B=y[w])&&d9(B,w,j,q),C.push(B)}}}}return fb(A,j)},gD.filter=function(f){var m,h,b,l=[];"function"!=typeof f&&(f=iO(f));for(var g=0,d=this.length;d>g;g++){l.push(m=[]);for(var h=this[g],k=0,j=h.length;j>k;k++){(b=h[k])&&f.call(b,b.__data__,k,g)&&m.push(b)}}return fb(l,this.id)},gD.tween=function(c,a){var b=this.id;return arguments.length<2?this.node().__transition__[b].tween.get(c):iR(this,null==a?function(d){d.__transition__[b].tween.remove(c)}:function(d){d.__transition__[b].tween.set(c,a)})},gD.attr=function(k,f){function h(){this.removeAttribute(b)}function g(){this.removeAttributeNS(b.space,b.local)}function c(a){return null==a?h:(a+="",function(){var i,l=this.getAttribute(b);return l!==a&&(i=j(l,a),function(e){this.setAttribute(b,i(e))})})}function d(a){return null==a?g:(a+="",function(){var i,l=this.getAttributeNS(b.space,b.local);return l!==a&&(i=j(l,a),function(e){this.setAttributeNS(b.space,b.local,i(e))})})}if(arguments.length<2){for(f in k){this.attr(f,k[f])}return this}var j="transform"==k?fN:gp,b=dK.ns.qualify(k);return bj(this,"attr."+k,f,b.local?d:c)},gD.attrTween=function(f,b){function d(i,h){var g=b.call(this,i,h,this.getAttribute(a));return g&&function(e){this.setAttribute(a,g(e))}}function c(i,h){var g=b.call(this,i,h,this.getAttributeNS(a.space,a.local));return g&&function(e){this.setAttributeNS(a.space,a.local,g(e))}}var a=dK.ns.qualify(f);return this.tween("attr."+f,a.local?c:d)},gD.style=function(g,c,f){function d(){this.style.removeProperty(g)}function a(e){return null==e?d:(e+="",function(){var i,h=ib.getComputedStyle(this,null).getPropertyValue(g);return h!==e&&(i=gp(h,e),function(j){this.style.setProperty(g,i(j),f)})})}var b=arguments.length;if(3>b){if("string"!=typeof g){2>b&&(c="");for(f in g){this.style(f,g[f],c)}return this}f=""}return bj(this,"style."+g,c,a)},gD.styleTween=function(d,a,c){function b(g,e){var f=a.call(this,g,e,ib.getComputedStyle(this,null).getPropertyValue(d));return f&&function(h){this.style.setProperty(d,f(h),c)}}return arguments.length<3&&(c=""),this.tween("style."+d,b)},gD.text=function(a){return bj(this,"text",a,fS)},gD.remove=function(){return this.each("end.transition",function(){var a;this.__transition__.count<2&&(a=this.parentNode)&&a.removeChild(this)})},gD.ease=function(b){var a=this.id;return arguments.length<1?this.node().__transition__[a].ease:("function"!=typeof b&&(b=dK.ease.apply(dK,arguments)),iR(this,function(c){c.__transition__[a].ease=b}))},gD.delay=function(b){var a=this.id;return arguments.length<1?this.node().__transition__[a].delay:iR(this,"function"==typeof b?function(f,d,c){f.__transition__[a].delay=+b.call(f,f.__data__,d,c)}:(b=+b,function(c){c.__transition__[a].delay=b}))},gD.duration=function(b){var a=this.id;return arguments.length<1?this.node().__transition__[a].duration:iR(this,"function"==typeof b?function(f,d,c){f.__transition__[a].duration=Math.max(1,b.call(f,f.__data__,d,c))}:(b=Math.max(1,b),function(c){c.__transition__[a].duration=b}))},gD.each=function(f,b){var d=this.id;if(arguments.length<2){var c=aY,a=e6;e6=d,iR(this,function(g,h,e){aY=g.__transition__[d],f.call(g,g.__data__,h,e)}),aY=c,e6=a}else{iR(this,function(g){var e=g.__transition__[d];(e.event||(e.event=dK.dispatch("start","end"))).on(f,b)})}return this},gD.transition=function(){for(var f,q,j,b,p=this.id,h=++jz,d=[],m=0,k=this.length;k>m;m++){d.push(f=[]);for(var q=this[m],g=0,v=q.length;v>g;g++){(j=q[g])&&(b=Object.create(j.__transition__[p]),b.delay+=b.duration,d9(j,g,h,b)),f.push(j)}}return fb(d,h)},dK.svg.axis=function(){function f(a){a.each(function(){var C,F=dK.select(this),u=this.__chart__||h,J=this.__chart__=h.copy(),H=null==j?J.ticks?J.ticks.apply(J,k):J.domain():j,I=null==m?J.tickFormat?J.tickFormat.apply(J,k):aK:m,B=F.selectAll(".tick").data(H,J),r=B.enter().insert("g",".domain").attr("class","tick").style("opacity",a5),K=dK.transition(B.exit()).style("opacity",a5).remove(),D=dK.transition(B.order()).style("opacity",1),i=c2(J),o=F.selectAll(".domain").data([0]),e=(o.enter().append("path").attr("class","domain"),dK.transition(o));r.append("line"),r.append("text");var N=r.select("line"),L=D.select("line"),q=B.select("text").text(I),c=r.select("text"),G=D.select("text");switch(b){case"bottom":C=fv,N.attr("y2",l),c.attr("y",Math.max(l,0)+d),L.attr("x2",0).attr("y2",l),G.attr("x",0).attr("y",Math.max(l,0)+d),q.attr("dy",".71em").style("text-anchor","middle"),e.attr("d","M"+i[0]+","+g+"V0H"+i[1]+"V"+g);break;case"top":C=fv,N.attr("y2",-l),c.attr("y",-(Math.max(l,0)+d)),L.attr("x2",0).attr("y2",-l),G.attr("x",0).attr("y",-(Math.max(l,0)+d)),q.attr("dy","0em").style("text-anchor","middle"),e.attr("d","M"+i[0]+","+-g+"V0H"+i[1]+"V"+-g);break;case"left":C=jM,N.attr("x2",-l),c.attr("x",-(Math.max(l,0)+d)),L.attr("x2",-l).attr("y2",0),G.attr("x",-(Math.max(l,0)+d)).attr("y",0),q.attr("dy",".32em").style("text-anchor","end"),e.attr("d","M"+-g+","+i[0]+"H0V"+i[1]+"H"+-g);break;case"right":C=jM,N.attr("x2",l),c.attr("x",Math.max(l,0)+d),L.attr("x2",l).attr("y2",0),G.attr("x",Math.max(l,0)+d).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),e.attr("d","M"+g+","+i[0]+"H0V"+i[1]+"H"+g)}if(J.rangeBand){var t=J,z=t.rangeBand()/2;u=J=function(p){return t(p)+z}}else{u.rangeBand?u=J:K.call(C,J)}r.call(C,u),D.call(C,J)})}var m,h=dK.scale.linear(),b=hg,l=6,g=6,d=3,k=[10],j=null;return f.scale=function(a){return arguments.length?(h=a,f):h},f.orient=function(a){return arguments.length?(b=a in eC?a+"":hg,f):b},f.ticks=function(){return arguments.length?(k=arguments,f):k},f.tickValues=function(a){return arguments.length?(j=a,f):j},f.tickFormat=function(a){return arguments.length?(m=a,f):m},f.tickSize=function(a){var c=arguments.length;return c?(l=+a,g=+arguments[c-1],f):l},f.innerTickSize=function(a){return arguments.length?(l=+a,f):l},f.outerTickSize=function(a){return arguments.length?(g=+a,f):g},f.tickPadding=function(a){return arguments.length?(d=+a,f):d},f.tickSubdivide=function(){return arguments.length&&f},f};var hg="bottom",eC={top:1,right:1,bottom:1,left:1};dK.svg.brush=function(){function k(a){a.each(function(){var e=dK.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",B).on("touchstart.brush",B),p=e.selectAll(".background").data([0]);p.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var c=e.selectAll(".resize").data(d,aK);c.exit().remove(),c.enter().append("g").attr("class",function(f){return"resize "+f}).style("cursor",function(f){return cZ[f]}).append("rect").attr("x",function(f){return/[ew]$/.test(f)?-3:null}).attr("y",function(f){return/^[ns]/.test(f)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",k.empty()?"none":null);var l,n=dK.transition(e),g=dK.transition(p);z&&(l=c2(z),g.attr("x",l[0]).attr("width",l[1]-l[0]),y(n)),m&&(l=c2(m),g.attr("y",l[0]).attr("height",l[1]-l[0]),b(n)),C(n)})}function C(a){a.selectAll(".resize").attr("transform",function(c){return"translate("+D[+/e$/.test(c)]+","+x[+/^s/.test(c)]+")"})}function y(a){a.select(".extent").attr("x",D[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",D[1]-D[0])}function b(a){a.select(".extent").attr("y",x[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function B(){function o(){32==dK.event.keyCode&&(s||(i=null,h[0]-=D[1],h[1]-=x[1],s=2),hK())}function G(){32==dK.event.keyCode&&2==s&&(h[0]+=D[1],h[1]+=x[1],s=0,hK())}function n(){var E=dK.mouse(O),p=!1;f&&(E[0]+=f[0],E[1]+=f[1]),s||(dK.event.altKey?(i||(i=[(D[0]+D[1])/2,(x[0]+x[1])/2]),h[0]=D[+(E[0]<i[0])],h[1]=x[+(E[1]<i[1])]):i=null),r&&J(E,z,0)&&(y(c),p=!0),F&&J(E,m,1)&&(b(c),p=!0),p&&(C(c),l({type:"brush",mode:s?"move":"resize"}))}function J(M,V,P){var E,U,S=c2(V),R=S[0],N=S[1],L=h[P],T=P?x:D,Q=T[1]-T[0];return s&&(R-=L,N-=Q+L),E=(P?w:v)?Math.max(R,Math.min(N,M[P])):M[P],s?U=(E+=L)+Q:(i&&(L=Math.max(R,Math.min(N,2*i[P]-E))),E>L?(U=E,E=L):U=L),T[0]!=E||T[1]!=U?(P?j=null:q=null,T[0]=E,T[1]=U,!0):void 0}function H(){n(),c.style("pointer-events","all").selectAll(".resize").style("display",k.empty()?"none":null),dK.select("body").style("cursor",null),g.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),e(),l({type:"brushend"})}var i,f,O=this,K=dK.select(dK.event.target),l=A.of(O,arguments),c=dK.select(O),I=K.datum(),r=!/^(n|s)$/.test(I)&&z,F=!/^(e|w)$/.test(I)&&m,s=K.classed("extent"),e=i4(),h=dK.mouse(O),g=dK.select(ib).on("keydown.brush",o).on("keyup.brush",G);if(dK.event.changedTouches?g.on("touchmove.brush",n).on("touchend.brush",H):g.on("mousemove.brush",n).on("mouseup.brush",H),c.interrupt().selectAll("*").interrupt(),s){h[0]=D[0]-h[0],h[1]=x[0]-h[1]}else{if(I){var a=+/w$/.test(I),t=+/^n/.test(I);f=[D[1-a]-h[0],x[1-t]-h[1]],h[0]=D[a],h[1]=x[t]}else{dK.event.altKey&&(i=h.slice())}}c.style("pointer-events","none").selectAll(".resize").style("display",null),dK.select("body").style("cursor",K.style("cursor")),l({type:"brushstart"}),n()}var q,j,A=iX(k,"brushstart","brush","brushend"),z=null,m=null,D=[0,0],x=[0,0],v=!0,w=!0,d=ff[0];return k.event=function(a){a.each(function(){var g=A.of(this,arguments),c={x:D,y:x,i:q,j:j},f=this.__chart__||c;this.__chart__=c,e6?dK.select(this).transition().each("start.brush",function(){q=f.i,j=f.j,D=f.x,x=f.y,g({type:"brushstart"})}).tween("brush:brush",function(){var i=dd(D,c.x),h=dd(x,c.y);return q=j=null,function(e){D=c.x=i(e),x=c.y=h(e),g({type:"brush",mode:"resize"})}}).each("end.brush",function(){q=c.i,j=c.j,g({type:"brush",mode:"resize"}),g({type:"brushend"})}):(g({type:"brushstart"}),g({type:"brush",mode:"resize"}),g({type:"brushend"}))})},k.x=function(a){return arguments.length?(z=a,d=ff[!z<<1|!m],k):z},k.y=function(a){return arguments.length?(m=a,d=ff[!z<<1|!m],k):m},k.clamp=function(a){return arguments.length?(z&&m?(v=!!a[0],w=!!a[1]):z?v=!!a:m&&(w=!!a),k):z&&m?[v,w]:z?v:m?w:null},k.extent=function(g){var n,l,f,c,i;return arguments.length?(z&&(n=g[0],l=g[1],m&&(n=n[0],l=l[0]),q=[n,l],z.invert&&(n=z(n),l=z(l)),n>l&&(i=n,n=l,l=i),(n!=D[0]||l!=D[1])&&(D=[n,l])),m&&(f=g[0],c=g[1],z&&(f=f[1],c=c[1]),j=[f,c],m.invert&&(f=m(f),c=m(c)),f>c&&(i=f,f=c,c=i),(f!=x[0]||c!=x[1])&&(x=[f,c])),k):(z&&(q?(n=q[0],l=q[1]):(n=D[0],l=D[1],z.invert&&(n=z.invert(n),l=z.invert(l)),n>l&&(i=n,n=l,l=i))),m&&(j?(f=j[0],c=j[1]):(f=x[0],c=x[1],m.invert&&(f=m.invert(f),c=m.invert(c)),f>c&&(i=f,f=c,c=i))),z&&m?[[n,f],[l,c]]:z?[n,l]:m&&[f,c])},k.clear=function(){return k.empty()||(D=[0,0],x=[0,0],q=j=null),k},k.empty=function(){return !!z&&D[0]==D[1]||!!m&&x[0]==x[1]},dK.rebind(k,A,"on")};var cZ={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ff=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],bk=ef.format=dM.timeFormat,fU=bk.utc,ed=fU("%Y-%m-%dT%H:%M:%S.%LZ");bk.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?aC:ed,aC.parse=function(b){var a=new Date(b);return isNaN(a)?null:a},aC.toString=ed.toString,ef.second=fP(function(a){return new bV(1000*Math.floor(a/1000))},function(b,a){b.setTime(b.getTime()+1000*Math.floor(a))},function(a){return a.getSeconds()}),ef.seconds=ef.second.range,ef.seconds.utc=ef.second.utc.range,ef.minute=fP(function(a){return new bV(60000*Math.floor(a/60000))},function(b,a){b.setTime(b.getTime()+60000*Math.floor(a))},function(a){return a.getMinutes()}),ef.minutes=ef.minute.range,ef.minutes.utc=ef.minute.utc.range,ef.hour=fP(function(b){var a=b.getTimezoneOffset()/60;return new bV(3600000*(Math.floor(b/3600000-a)+a))},function(b,a){b.setTime(b.getTime()+3600000*Math.floor(a))},function(a){return a.getHours()}),ef.hours=ef.hour.range,ef.hours.utc=ef.hour.utc.range,ef.month=fP(function(a){return a=ef.day(a),a.setDate(1),a},function(b,a){b.setMonth(b.getMonth()+a)},function(a){return a.getMonth()}),ef.months=ef.month.range,ef.months.utc=ef.month.utc.range;var fx=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],jO=[[ef.second,1],[ef.second,5],[ef.second,15],[ef.second,30],[ef.minute,1],[ef.minute,5],[ef.minute,15],[ef.minute,30],[ef.hour,1],[ef.hour,3],[ef.hour,6],[ef.hour,12],[ef.day,1],[ef.day,2],[ef.week,1],[ef.month,1],[ef.month,3],[ef.year,1]],aE=bk.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",eY]]),gf={range:function(c,a,b){return dK.range(Math.ceil(c/b)*b,+a,b).map(cL)},floor:aK,ceil:aK};jO.year=ef.year,ef.scale=function(){return gb(dK.scale.linear(),jO,aE)};var cN=jO.map(function(a){return[a[0].utc,a[1]]}),i8=fU.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",eY]]);cN.year=ef.year.utc,ef.scale.utc=function(){return gb(dK.scale.linear(),cN,i8)},dK.text=eP(function(a){return a.responseText}),dK.json=function(b,a){return e2(b,"application/json",i3,a)},dK.html=function(b,a){return e2(b,"text/html",cf,a)},dK.xml=eP(function(a){return a.responseXML}),"function"==typeof define&&define.amd?define(dK):"object"==typeof module&&module.exports&&(module.exports=dK),this.d3=dK}();
(function(c){function b(e,d){return(typeof e=="function")?(e.call(d)):e}function a(e,d){this.$element=c(e);this.options=d;this.enabled=true;this.fixTitle()}a.prototype={show:function(){var l=this.getTitle();if(l&&this.enabled){var f=this.tip();f.find(".tipsy-inner")[this.options.html?"html":"text"](l);f[0].className="tipsy";f.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||0,height:this.$element[0].offsetHeight||0});if(typeof this.$element[0].nearestViewportElement=="object"){var e=this.$element[0];var j=e.getBoundingClientRect();i.width=j.width;i.height=j.height}var d=f[0].offsetWidth,g=f[0].offsetHeight,n=b(this.options.gravity,this.$element[0]);var k;switch(n.charAt(0)){case"n":k={top:i.top+i.height+this.options.offset,left:i.left+i.width/2-d/2};break;case"s":k={top:i.top-g-this.options.offset,left:i.left+i.width/2-d/2};break;case"e":k={top:i.top+i.height/2-g/2,left:i.left-d-this.options.offset};break;case"w":k={top:i.top+i.height/2-g/2,left:i.left+i.width+this.options.offset};break}if(n.length==2){if(n.charAt(1)=="w"){k.left=i.left+i.width/2-15}else{k.left=i.left+i.width/2-d+15}}f.css(k).addClass("tipsy-"+n);f.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+n.charAt(0);if(this.options.className){f.addClass(b(this.options.className,this.$element[0]))}if(this.options.fade){f.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{f.css({visibility:"visible",opacity:this.options.opacity})}var m=this;var h=function(o){return function(){m.$tip.stop();m.tipHovered=o;if(!o){if(m.options.delayOut===0){m.hide()}else{setTimeout(function(){if(m.hoverState=="out"){m.hide()}},m.options.delayOut)}}}};f.hover(h(true),h(false))}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){c(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("original-title"))!="string"){d.attr("original-title",d.attr("title")||"").removeAttr("title")}if(typeof d.context.nearestViewportElement=="object"){if(d.children("title").length){d.append("<original-title>"+(d.children("title").text()||"")+"</original-title>").children("title").remove()}}},getTitle:function(){var g,e=this.$element,f=this.options;this.fixTitle();if(typeof f.title=="string"){var d=f.title=="title"?"original-title":f.title;if(e.children(d).length){g=e.children(d).html()}else{g=e.attr(d)}}else{if(typeof f.title=="function"){g=f.title.call(e[0])}}g=(""+g).replace(/(^\s*|\s*$)/,"");return g||f.fallback},tip:function(){if(!this.$tip){this.$tip=c('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};c.fn.tipsy=function(h){if(h===true){return this.data("tipsy")}else{if(typeof h=="string"){var j=this.data("tipsy");if(j){j[h]()}return this}}h=c.extend({},c.fn.tipsy.defaults,h);if(h.hoverlock&&h.delayOut===0){h.delayOut=100}function g(l){var m=c.data(l,"tipsy");if(!m){m=new a(l,c.fn.tipsy.elementOptions(l,h));c.data(l,"tipsy",m)}return m}function k(){var l=g(this);l.hoverState="in";if(h.delayIn===0){l.show()}else{l.fixTitle();setTimeout(function(){if(l.hoverState=="in"){l.show()}},h.delayIn)}}function f(){var l=g(this);l.hoverState="out";if(h.delayOut===0){l.hide()}else{var m=function(){if(!l.tipHovered||!h.hoverlock){if(l.hoverState=="out"){l.hide()}}};setTimeout(m,h.delayOut)}}if(h.trigger!="manual"){var d=h.live?"live":"bind",i=h.trigger=="hover"?"mouseenter":"focus",e=h.trigger=="hover"?"mouseleave":"blur";this[d](i,k)[d](e,f)}return this};c.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover",hoverlock:false};c.fn.tipsy.elementOptions=function(e,d){return c.metadata?c.extend({},d,c(e).metadata()):d};c.fn.tipsy.autoNS=function(){return c(this).offset().top>(c(document).scrollTop()+c(window).height()/2)?"s":"n"};c.fn.tipsy.autoWE=function(){return c(this).offset().left>(c(document).scrollLeft()+c(window).width()/2)?"e":"w"};c.fn.tipsy.autoBounds=function(e,d){return function(){var f={ns:d[0],ew:(d.length>1?d[1]:false)},i=c(document).scrollTop()+e,g=c(document).scrollLeft()+e,h=c(this);if(h.offset().top<i){f.ns="n"}if(h.offset().left<g){f.ew="w"}if(c(window).width()+c(document).scrollLeft()-h.offset().left<e){f.ew="e"}if(c(window).height()+c(document).scrollTop()-h.offset().top<e){f.ns="s"}return f.ns+(f.ew?f.ew:"")}}})(jQuery);
var betfectSession=betfectSession||{};betfectSession.balanceLoadingInterval=null;betfectSession.balanceLoading=function(){for(var a=1;a<=3;a++){setTimeout(function(){$(".balance").append(".")},a*250)}$(".balance").html("loading")};
var whWindowReference=null;function williamHillLogin(j){var a="WH_connect_button_clicked";var f=window.location.pathname;var h={path:f};callSegmentTrack(a,h);url_auth="https://auth.williamhill.com/cas?joinin_link=abc&service=https://betfect.com/william-hill/st-ticket";var b=500;var i=400;var e=screen.width/2-b/2;var g=screen.height/2-i/2;if(whWindowReference==null||whWindowReference.closed){$(".black_overlay").show();whWindowReference=window.open(url_auth,"William Hill login","width="+b+",height="+i+",top="+g+",left="+e+",scrollbars");var d=false;var c=setInterval(function(){if(whWindowReference.closed&&!d){$(".black_overlay").hide();d=true;clearInterval(c)}},100)}else{whWindowReference.focus()}}function williamHillLogOut(){window.location.href=Routing.generate("william_hill_logout")}var williamHillWindowReference=null;var popup;function FindLeftWindowBoundry(){if(window.screenLeft){return window.screenLeft}if(window.screenX){return window.screenX}return 0}function FindTopWindowBoundry(){if(window.screenTop){return window.screenTop}if(window.screenY){return window.screenY}return 0}function receiveMessage(a){console.log(a);williamHillWindowReference.close()}window.addEventListener("message",receiveMessage,false);function williamHillRegister(){var c="http://ads2.williamhill.com/redirect.aspx?pid=140488242&lpid=1487413277&bid=1487414044";var a=screen.width/2-996/2+FindLeftWindowBoundry();var e=screen.height/2-550/2+FindTopWindowBoundry();if(williamHillWindowReference==null||williamHillWindowReference.closed){$(".black_overlay").show();williamHillWindowReference=window.open(c,"_blank","toolbar=no, scrollbars=yes, resizable=no, width=996, height=550,left="+a+",top="+e);var d=false;var b=setInterval(function(){if(williamHillWindowReference.closed&&!d){$(".black_overlay").hide();d=true;clearInterval(b)}},100)}else{ladbrokesWindowReference.focus()}}function closeLoginPopup(){window.opener.williamHillCheckTokenAndBalance();window.close()}function williamHillLoginOld(a){$.ajax({url:Routing.generate("william_hill_sessions_login"),type:"POST",data:{message:a},success:function(b){$.magnificPopup.open({items:{src:$(b.view),type:"inline"},closeOnBgClick:false,callbacks:{open:function(){},change:function(){var c=this.content;c.find("form[name=william_hill_login_form]").submit(function(f){f.preventDefault();var e=$(this);var d=e.find("button[type=submit]");var g=d.text();d.html(g+' <i class="fa fa-spinner fa-spin"></i>');d.prop("disabled",true);$.ajax({url:Routing.generate("william_hill_sessions_process_login"),type:"POST",data:e.serializeArray()}).done(function(h){afterSuccessfulLoginLogic(h,true)}).fail(function(h){e.children("div.errors").addClass("alert alert-danger");$("#whExpiryAlert").remove();switch(h.responseJSON.errorCode){case 20000:e.children("div.errors").text("William Hill: Your username or password is incorrect.");break;case 20010:e.children("div.errors").text(h.responseJSON.message);break;case"username-conflict":e.children("div.errors").text("Unfortunately another user is using this account. Please check your username");break;default:e.children("div.errors").text("Oops! Something happened here. Be patient we are going to fix this error as soon as possible..");break}}).always(function(h){d.prop("disabled",false);d.text(g)})})},close:function(){}}})}})}function williamHillCheckTokenAndBalance(){return $.ajax({url:Routing.generate("william_hill_check_current_token"),type:"POST",beforeSend:function(){setDontClosePageRestriction();showSpinner();if(!betfectSession.balanceLoadingInterval){betfectSession.balanceLoadingInterval=setInterval(function(){betfectSession.balanceLoading()},1000)}},success:function(a){afterSuccessfulLoginLogic(a,false)}}).fail(function(a){}).always(function(a){removeDontClosePageRestriction();hideSpinner();clearInterval(betfectSession.balanceLoadingInterval)})}function afterSuccessfulLoginLogic(a,c){$("#whExpiryAlert").remove();$.magnificPopup.close();if(c){showUnderHeaderNotification('<i class="fa fa-check-circle"></i> '+a.message+"",3000)}var b=$("div.providerWallets[data-bet-provider-code=WH]");b.children(".walletListButton.register").replaceWith($("<div></div>").addClass("walletListButton cursor-pointer").text("Deposit").attr("onclick","williamHillDeposit(this);"));b.children(".walletListButton.login").replaceWith($("<div></div>").addClass("walletListAmount").text(a.balance));$(".balance").text(a.balance);if($(".howToTabs")!=null){$(".howToTabs").remove()}$(".balance-wh").text(a.balance);$(".WH-header").attr("onclick","williamHillDeposit(this);");if(window.location.href.split("/")[3]=="settings#connected"){$("#WH-balance").html("<b>Balance: </b>"+a.balance)}if(typeof checkUnresolvedBetslips=="function"){if($(".homePageBteslips, .feedWonBg").length>0){checkUnresolvedBetslips(true)}else{checkUnresolvedBetslips(false)}}else{$.getScript("/bundles/betfectwilliamhill/js/bets.js",function(){if($(".homePageBteslips, .feedWonBg").length>0){checkUnresolvedBetslips(true)}else{checkUnresolvedBetslips(false)}})}location.reload()};
function williamHillDeposit(c){var b=$(c);var d=b.html();var a=b.attr("onclick");b.removeAttr("onclick");b.removeClass("cursor-pointer");if(b.attr("class")!="WH-header"){b.html('<i class="fa fa-spinner fa-spin"></i>')}$.ajax({url:Routing.generate("william_hill_wallets_deposit"),type:"GET",error:function(e){if(e.responseJSON.errorCode==24000){$.magnificPopup.open({items:{src:'<div class="white-popup-block"><h1>Message</h1>You currently do not have a valid payment method attached to your account, please visit <br/><a href="https://sports.williamhill.com/acc/en-gb?action=GoAcct"> William Hill to rectify this.</a></div>',type:"inline"}})}b.html(d);b.attr("onclick",a);b.addClass("cursor-pointer")},success:function(e){$.magnificPopup.open({items:{src:$(e.view),type:"inline"},closeOnBgClick:false,callbacks:{open:function(){$("select").selectric()},change:function(){var f=this.content;var g=$("div.providerWallets[data-bet-provider-code=WH]");f.find("select[name=payment_method_id]").change(function(){$("#william_hill_deposit_form_id").val($(this).val())});f.find("form[name=william_hill_deposit_form]").submit(function(k){k.preventDefault();f.find("div.alert.alert-danger").hide();var j=$(this);var h=j.find("input#william_hill_deposit_form_amount");var i=j.find("button#william_hill_deposit_form_depositBtn");var l=i.text();i.prop("disabled",true);i.html('Processing <i class="fa fa-spinner fa-spin"></i>');h.val(parseFloat(h.val()).toFixed(2));$.ajax({url:j.attr("action"),type:j.attr("method"),data:j.serializeArray()}).done(function(m){g.children(".walletListAmount").text(m.balance);if($(".balance.WH").length!=0){$(".balance.WH").text(m.balance)}j.parent("div").replaceWith('<div role="alert" class="alert alert-success"><div class="pull-left"><i style="font-size:18px" class="fa fa-check-circle"></i></div>Your deposit has been successful</div><br><div>Payment ID: '+m.paymentId+"</div><div>Payment date: "+m.paymentDate+'</div><div class="providerPopupMessage">'+m.message+"</div>")}).fail(function(m){if(m.responseJSON.errorCode=="refresh-token"){williamHillLogin(m.responseJSON.message)}else{f.find("div.alert.alert-danger").show().text(m.responseJSON.message)}}).always(function(m){i.html(l);i.prop("disabled",false)})})}}})}}).fail(function(e){console.log("error code: ".jqXhr.responseJSON.errorCode);if(e.responseJSON.errorCode=="refresh-token"){williamHillLogin(e.responseJSON.message)}}).always(function(e){b.html(d);b.attr("onclick",a);b.addClass("cursor-pointer")})};
function ladbrokesCheckTokenAndBalance(){return $.ajax({url:Routing.generate("ladbrokes_check_current_token"),type:"POST",beforeSend:function(){setDontClosePageRestriction();showSpinner();if(!betfectSession.balanceLoadingInterval){betfectSession.balanceLoadingInterval=setInterval(function(){betfectSession.balanceLoading()},1000)}},success:function(a){afterLadbrokesSuccessfulLoginLogic(a,false)}}).always(function(a){removeDontClosePageRestriction();hideSpinner();clearInterval(betfectSession.balanceLoadingInterval)}).fail(function(a){})}function ladbrokesUpdateTokenAndBalance(){return $.ajax({url:Routing.generate("ladbrokes_check_current_token"),type:"POST",beforeSend:function(){setDontClosePageRestriction();if(!betfectSession.balanceLoadingInterval){betfectSession.balanceLoadingInterval=setInterval(function(){betfectSession.balanceLoading()},1000)}},success:function(a){afterLadbrokesSuccessfulLoginLogic(a,false)}}).always(function(a){removeDontClosePageRestriction();clearInterval(betfectSession.balanceLoadingInterval)}).fail(function(a){})}function afterLadbrokesSuccessfulLoginLogic(a,c){$("#whExpiryAlert").remove();$.magnificPopup.close();if(c){showUnderHeaderNotification('<i class="fa fa-check-circle"></i> '+a.message+"",3000)}var b=$("div.providerWallets[data-bet-provider-code=LAD]");b.children(".walletListButton.register").replaceWith($("<div></div>").addClass("walletListButton cursor-pointer").text("Deposit").attr("onclick","ladbrokesTransaction();"));b.children(".walletListButton.login").replaceWith($("<div></div>").addClass("walletListAmount").text(a.balance));$(".balance").text(a.balance);if($(".howToTabs")!=null){$(".howToTabs").remove()}$(".balance-lad").text(a.balance);$(".LAD-header").attr("onclick","ladbrokesTransaction();");if(window.location.href.split("/")[3]=="settings#connected"){$("#LAD-balance").html("<b>Balance: </b>"+a.balance)}if(typeof checkUnresolvedBetslips=="function"){if($(".homePageBteslips, .feedWonBg").length>0){checkUnresolvedBetslipsLadbrokes(true)}else{checkUnresolvedBetslipsLadbrokes(false)}}else{$.getScript("bundles/betfectladbrokes/js/betting.js",function(){if($(".homePageBteslips, .feedWonBg").length>0){checkUnresolvedBetslipsLadbrokes(true)}else{checkUnresolvedBetslipsLadbrokes(false)}})}};
!function(a){a.slidebars=function(E){function S(){!V.disableOver||"number"==typeof V.disableOver&&V.disableOver>=j?(t=!0,a("html").addClass("sb-init"),V.hideControlClasses&&M.removeClass("sb-hide"),N()):"number"==typeof V.disableOver&&V.disableOver<j&&(t=!1,a("html").removeClass("sb-init"),V.hideControlClasses&&M.addClass("sb-hide"),Q.css("minHeight",""),(F||A)&&X())}function N(){Q.css("minHeight",""),Q.css("minHeight",a("html").height()+"px"),K&&K.hasClass("sb-width-custom")&&K.css("width",K.attr("data-sb-width")),H&&H.hasClass("sb-width-custom")&&H.css("width",H.attr("data-sb-width")),K&&(K.hasClass("sb-style-push")||K.hasClass("sb-style-overlay"))&&K.css("marginLeft","-"+K.css("width")),H&&(H.hasClass("sb-style-push")||H.hasClass("sb-style-overlay"))&&H.css("marginRight","-"+H.css("width")),V.scrollLock&&a("html").addClass("sb-scroll-lock")}function J(b,c,d){var g;if(g=b.hasClass("sb-style-push")?Q.add(b).add(q):b.hasClass("sb-style-overlay")?b:Q.add(q),"translate"===z){g.css("transform","translate("+c+")")}else{if("side"===z){"-"===c[0]&&(c=c.substr(1)),"0px"!==c&&g.css(d,"0px"),setTimeout(function(){g.css(d,c)},1)}else{if("jQuery"===z){"-"===c[0]&&(c=c.substr(1));var f={};f[d]=c,g.stop().animate(f,400)}}}setTimeout(function(){"0px"===c&&(g.removeAttr("style"),N())},400)}function I(b){function c(){t&&"left"===b&&K?(a("html").addClass("sb-active sb-active-left"),K.addClass("sb-active"),J(K,K.css("width"),"left"),setTimeout(function(){F=!0},400)):t&&"right"===b&&H&&(a("html").addClass("sb-active sb-active-right"),H.addClass("sb-active"),J(H,"-"+H.css("width"),"right"),setTimeout(function(){A=!0},400))}"left"===b&&K&&A||"right"===b&&H&&F?(X(),setTimeout(c,400)):c()}function X(b){(F||A)&&(F&&(J(K,"0px","left"),F=!1),A&&(J(H,"0px","right"),A=!1),setTimeout(function(){a("html").removeClass("sb-active sb-active-left sb-active-right"),K&&K.removeClass("sb-active"),H&&H.removeClass("sb-active"),"undefined"!=typeof b&&(window.location=b)},400))}function L(b){"left"===b&&K&&(F?X():I("left")),"right"===b&&H&&(A?X():I("right"))}function G(b,c){b.stopPropagation(),b.preventDefault(),"touchend"===b.type&&c.off("click")}var V=a.extend({siteClose:!0,scrollLock:!1,disableOver:!1,hideControlClasses:!1},E),P=document.createElement("div").style,U=!1,R=!1;(""===P.MozTransition||""===P.WebkitTransition||""===P.OTransition||""===P.transition)&&(U=!0),(""===P.MozTransform||""===P.WebkitTransform||""===P.OTransform||""===P.transform)&&(R=!0);var D=navigator.userAgent,W=!1,B=!1;/Android/.test(D)?W=D.substr(D.indexOf("Android")+8,3):/(iPhone|iPod|iPad)/.test(D)&&(B=D.substr(D.indexOf("OS ")+3,3).replace("_",".")),(W&&3>W||B&&5>B)&&a("html").addClass("sb-static");var Q=a("#sb-site, .sb-site-container");if(a(".sb-left").length){var K=a(".sb-left"),F=!1}if(a(".sb-right").length){var H=a(".sb-right"),A=!1}var t=!1,j=a(window).width(),M=a(".sb-toggle-left, .sb-toggle-right, .sb-open-left, .sb-open-right, .sb-close"),q=a(".sb-slide");S(),a(window).resize(function(){var b=a(window).width();j!==b&&(j=b,S(),F&&I("left"),A&&I("right"))});var z;U&&R?(z="translate",W&&4.4>W&&(z="side")):z="jQuery",this.slidebars={open:I,close:X,toggle:L,init:function(){return t},active:function(b){return"left"===b&&K?F:"right"===b&&H?A:void 0},destroy:function(b){"left"===b&&K&&(F&&X(),setTimeout(function(){K.remove(),K=!1},400)),"right"===b&&H&&(A&&X(),setTimeout(function(){H.remove(),H=!1},400))}},a(".sb-toggle-left").on("touchend click",function(b){G(b,a(this)),L("left")}),a(".sb-toggle-right").on("touchend click",function(b){G(b,a(this)),L("right")}),a(".sb-open-left").on("touchend click",function(b){G(b,a(this)),I("left")}),a(".sb-open-right").on("touchend click",function(b){G(b,a(this)),I("right")}),a(".sb-close").on("touchend click",function(b){if(a(this).is("a")||a(this).children().is("a")){if("click"===b.type){b.preventDefault();var c=a(this).is("a")?a(this).attr("href"):a(this).find("a").attr("href");X(c)}}else{G(b,a(this)),X()}}),Q.on("touchend click",function(b){V.siteClose&&(F||A)&&(G(b,a(this)),X())})}}(jQuery);
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(z){function y(a){var f={},e=/^jQuery\d+$/;return z.each(a.attributes,function(d,c){c.specified&&!e.test(c.name)&&(f[c.name]=c.value)}),f}function x(a,h){var g=this,e=z(g);if(g.value==e.attr("placeholder")&&e.hasClass(n.customClass)){if(e.data("placeholder-password")){if(e=e.hide().nextAll('input[type="password"]:first').show().attr("id",e.removeAttr("id").data("placeholder-id")),a===!0){return e[0].value=h}e.focus()}else{g.value="",e.removeClass(n.customClass),g==v()&&g.select()}}}function w(){var j,i=this,c=z(i),b=this.id;if(""===i.value){if("password"===i.type){if(!c.data("placeholder-textinput")){try{j=c.clone().attr({type:"text"})}catch(a){j=z("<input>").attr(z.extend(y(this),{type:"text"}))}j.removeAttr("name").data({"placeholder-password":c,"placeholder-id":b}).bind("focus.placeholder",x),c.data({"placeholder-textinput":j,"placeholder-id":b}).before(j)}c=c.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",b).show()}c.addClass(n.customClass),c[0].value=c.attr("placeholder")}else{c.removeClass(n.customClass)}}function v(){try{return document.activeElement}catch(b){}}var u,t,s="[object OperaMini]"==Object.prototype.toString.call(window.operamini),r="placeholder" in document.createElement("input")&&!s,q="placeholder" in document.createElement("textarea")&&!s,p=z.valHooks,o=z.propHooks;if(r&&q){t=z.fn.placeholder=function(){return this},t.input=t.textarea=!0}else{var n={};t=z.fn.placeholder=function(a){var d={customClass:"placeholder"};n=z.extend({},d,a);var c=this;return c.filter((r?"textarea":":input")+"[placeholder]").not("."+n.customClass).bind({"focus.placeholder":x,"blur.placeholder":w}).data("placeholder-enabled",!0).trigger("blur.placeholder"),c},t.input=r,t.textarea=q,u={get:function(a){var f=z(a),e=f.data("placeholder-password");return e?e[0].value:f.data("placeholder-enabled")&&f.hasClass(n.customClass)?"":a.value},set:function(a,e){var d=z(a),c=d.data("placeholder-password");return c?c[0].value=e:d.data("placeholder-enabled")?(""===e?(a.value=e,a!=v()&&w.call(a)):d.hasClass(n.customClass)?x.call(a,!0,e)||(a.value=e):a.value=e,d):a.value=e}},r||(p.input=u,o.value=u),q||(p.textarea=u,o.value=u),z(function(){z(document).delegate("form","submit.placeholder",function(){var a=z("."+n.customClass,this).each(x);setTimeout(function(){a.each(w)},10)})}),z(window).bind("beforeunload.placeholder",function(){z("."+n.customClass).each(function(){this.value=""})})}});
/*!
 * Javascript Cookie v1.5.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){var f;if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){try{f=require("jquery")}catch(d){}module.exports=a(f)}else{var c=window.Cookies;var b=window.Cookies=a(window.jQuery);b.noConflict=function(){window.Cookies=c;return b}}}}(function(g){var e=/\+/g;function i(k){return h.raw?k:encodeURIComponent(k)}function a(k){return h.raw?k:decodeURIComponent(k)}function f(k){return i(h.json?JSON.stringify(k):String(k))}function c(k){if(k.indexOf('"')===0){k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{k=decodeURIComponent(k.replace(e," "));return h.json?JSON.parse(k):k}catch(l){}}function b(l,k){var m=h.raw?l:c(l);return d(k)?k(m):m}function j(){var n,l;var m=0;var k={};for(;m<arguments.length;m++){l=arguments[m];for(n in l){k[n]=l[n]}}return k}function d(k){return Object.prototype.toString.call(k)==="[object Function]"}var h=function(r,q,w){if(arguments.length>1&&!d(q)){w=j(h.defaults,w);if(typeof w.expires==="number"){var s=w.expires,v=w.expires=new Date();v.setMilliseconds(v.getMilliseconds()+s*86400000)}return(document.cookie=[i(r),"=",f(q),w.expires?"; expires="+w.expires.toUTCString():"",w.path?"; path="+w.path:"",w.domain?"; domain="+w.domain:"",w.secure?"; secure":""].join(""))}var x=r?undefined:{},u=document.cookie?document.cookie.split("; "):[],p=0,n=u.length;for(;p<n;p++){var o=u[p].split("="),k=a(o.shift()),m=o.join("=");if(r===k){x=b(m,q);break}if(!r&&(m=b(m))!==undefined){x[k]=m}}return x};h.get=h.set=h;h.defaults={};h.remove=function(l,k){h(l,"",j(k,{expires:-1}));return !h(l)};if(g){g.cookie=h;g.removeCookie=h.remove}return h}));
/*! Selectric  v1.9.3 (2015-04-23) - git.io/tjl9sQ - Copyright (c) 2015 Leonardo Santos - Dual licensed: MIT/GPL */
;!function(j){var p="selectric",q="Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive Above Scroll Group GroupLabel",d=".sl",h={onChange:function(a){j(a).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,customClass:{prefix:p,camelCase:!1,overwrite:!0},optionsItemBuilder:"{text}",labelBuilder:"{text}"},f={add:function(i,a,c){this[i]||(this[i]={}),this[i][a]=c},remove:function(c,a){delete this[c][a]}},g={replaceDiacritics:function(i){for(var a="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),c=a.length;c--;){i=i.toLowerCase().replace(RegExp("["+a[c]+"]","g"),"aeiouncy".charAt(c))}return i},format:function(c){var a=arguments;return(""+c).replace(/{(\d+|(\w+))}/g,function(l,i,n){return n&&a[1]?a[1][n]:a[i]})},nextEnabledItem:function(c,a){for(;c[a=(a+1)%c.length].disabled;){}return a},previousEnabledItem:function(c,a){for(;c[a=(a>0?a:c.length)-1].disabled;){}return a},toDash:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(l,n){var e=n.element,c=n.options["on"+l];j.isFunction(c)&&c.call(e,e,n),f[l]&&j.each(f[l],function(){this.call(e,e,n)}),j(e).trigger(p+"-"+g.toDash(l),n)}},m=j(document),b=j(window),k=function(ag,ao){function an(n){if(aj.options=j.extend(!0,{},h,aj.options,n),aj.classes={},aj.element=ag,g.triggerCallback("BeforeInit",aj),aj.options.disableOnMobile&&a){return void (aj.disableOnMobile=!0)}ac(!0);var v=aj.options.customClass,c=q.split(" "),u=X.width();j.each(c,function(y,w){var x=v.prefix+w;aj.classes[w.toLowerCase()]=v.camelCase?x:g.toDash(x)}),N=j("<input/>",{"class":aj.classes.input,readonly:a}),ai=j("<div/>",{"class":aj.classes.items,tabindex:-1}),i=j("<div/>",{"class":aj.classes.scroll}),ab=j("<div/>",{"class":v.prefix,html:aj.options.arrowButtonMarkup}),K=j('<p class="label"/>'),J=X.wrap("<div>").parent().append(ab.prepend(K),ai,N),ae={open:ah,close:al,destroy:ac,refresh:Z,init:an},X.on(ae).wrap('<div class="'+aj.classes.hideselect+'">'),j.extend(aj,ae),l=aj.options.labelBuilder,aj.options.inheritOriginalWidth&&u>0&&J.width(u),af()}function af(){aj.items=[];var u=X.children(),v="<ul>",c=u.filter(":selected").index(),w=0;ad=o=~c?c:0,(aa=u.length)&&(u.each(function(){function y(){var D=j(this),E=D.html(),C=D.prop("disabled"),B=aj.options.optionsItemBuilder;aj.items[w]={element:D,value:D.val(),text:E,slug:g.replaceDiacritics(E),disabled:C},v+=g.format('<li data-index="{1}" class="{2}">{3}</li>',w,j.trim([w==ad?"selected":"",w==aa-1?"last":"",C?"disabled":""].join(" ")),j.isFunction(B)?B(aj.items[w],D,w):g.format(B,aj.items[w])),w++}var A=j(this);if(A.is("optgroup")){var x=A.prop("disabled"),n=A.children();v+=g.format('<ul class="{1}"><li class="{2}">{3}</li>',j.trim([aj.classes.group,x?"disabled":"",A.prop("class")].join(" ")),aj.classes.grouplabel,A.prop("label")),x&&n.prop("disabled",!0),n.each(y),v+="</ul>"}else{y.call(A)}}),ai.append(i.html(v+"</ul>")),K.html(j.isFunction(l)?l(aj.items[ad]):g.format(l,aj.items[ad]))),ab.add(X).add(J).add(N).off(d),J.prop("class",[aj.classes.wrapper,aj.options.customClass.overwrite?X.prop("class").replace(/\S+/g,aj.options.customClass.prefix+"-$&"):X.prop("class"),aj.options.responsive?aj.classes.responsive:""].join(" ")),X.prop("disabled")?(J.addClass(aj.classes.disabled),N.prop("disabled",!0)):(r=!0,J.removeClass(aj.classes.disabled).on("mouseenter"+d+" mouseleave"+d,function(n){j(this).toggleClass(aj.classes.hover),aj.options.openOnHover&&(clearTimeout(aj.closeTimer),"mouseleave"==n.type?aj.closeTimer=setTimeout(al,aj.options.hoverIntentTimeout):ah())}),ab.on("click"+d,function(n){G?al():ah(n)}),N.prop({tabindex:s,disabled:!1}).on("keypress"+d,ak).on("keydown"+d,function(x){ak(x),clearTimeout(aj.resetStr),aj.resetStr=setTimeout(function(){N.val("")},aj.options.keySearchTimeout);var n=x.keyCode||x.which;if(n>36&&41>n){if(!aj.options.allowWrap&&(39>n&&0==o||n>38&&o+1==aj.items.length)){return}ap(g[(39>n?"previous":"next")+"EnabledItem"](aj.items,o))}}).on("focusin"+d,function(n){N.one("blur",function(){N.blur()}),G||ah(n)}).on("oninput" in N[0]?"input":"keyup",function(){N.val().length&&j.each(aj.items,function(x,n){return RegExp("^"+N.val(),"i").test(n.slug)&&!n.disabled?(ap(x),!1):void 0})}),X.prop("tabindex",!1),t=j("li",ai.removeAttr("style")).on({mousedown:function(n){n.preventDefault(),n.stopPropagation()},click:function(){return ap(j(this).data("index"),!0),!1}}).filter("[data-index]")),g.triggerCallback("Init",aj)}function Z(){g.triggerCallback("Refresh",aj),af()}function ak(n){var c=n.keyCode||n.which;13==c&&n.preventDefault(),/^(9|13|27)$/.test(c)&&(n.stopPropagation(),ap(o,!0))}function am(){var u=ai.closest(":visible").children(":hidden").addClass(aj.classes.tempshow),c=aj.options.maxHeight,n=ai.outerWidth(),v=ab.outerWidth()-(n-ai.width());!aj.options.expandToItemText||v>n?z=v:(ai.css("overflow","scroll"),J.width(90000),z=ai.width(),ai.css("overflow",""),J.width("")),ai.width(z).height()>c&&ai.height(c),u.removeClass(aj.classes.tempshow)}function ah(c){g.triggerCallback("BeforeOpen",aj),c&&(c.preventDefault(),c.stopPropagation()),r&&(am(),j("."+aj.classes.hideselect,"."+aj.classes.open).children()[p]("close"),G=!0,Q=ai.outerHeight(),e=ai.height(),J.addClass(aj.classes.open),N.val("").is(":focus")||N.focus(),m.on("click"+d,al).on("scroll"+d,V),V(),aj.options.preventWindowScroll&&m.on("mousewheel"+d+" DOMMouseScroll"+d,"."+aj.classes.scroll,function(u){var v=u.originalEvent,w=j(this).scrollTop(),n=0;"detail" in v&&(n=-1*v.detail),"wheelDelta" in v&&(n=v.wheelDelta),"wheelDeltaY" in v&&(n=v.wheelDeltaY),"deltaY" in v&&(n=-1*v.deltaY),(w==this.scrollHeight-e&&0>n||0==w&&n>0)&&u.preventDefault()}),U(o),g.triggerCallback("Open",aj))}function V(){J.toggleClass(aj.classes.above,J.offset().top+J.outerHeight()+Q>b.scrollTop()+b.height())}function al(){if(g.triggerCallback("BeforeClose",aj),ad!=o){g.triggerCallback("BeforeChange",aj);var c=aj.items[o].text;X.prop("selectedIndex",ad=o).data("value",c),K.html(j.isFunction(l)?l(aj.items[o]):g.format(l,aj.items[o])),g.triggerCallback("Change",aj)}m.off(d),J.removeClass(aj.classes.open),G=!1,g.triggerCallback("Close",aj)}function ap(n,c){void 0!=n&&(aj.items[n].disabled||(t.removeClass("selected").eq(o=n).addClass("selected"),U(n),c&&al()))}function U(v){var n=t.eq(v).outerHeight(),u=t[v].offsetTop,w=i.scrollTop(),c=u+2*n;i.scrollTop(c>w+Q?c-Q:w>u-n?u-n:w)}function ac(c){r&&(ai.add(ab).add(N).remove(),!c&&X.removeData(p).removeData("value"),X.prop("tabindex",s).off(d).off(ae).unwrap().unwrap(),r=!1)}var N,ai,i,ab,K,J,t,o,ad,Q,e,z,aa,ae,l,aj=this,X=j(ag),G=!1,r=!1,a=/android|ip(hone|od|ad)/i.test(navigator.userAgent),s=X.prop("tabindex");an(ao)};j.fn[p]=function(a){return this.each(function(){var c=j.data(this,p);c&&!c.disableOnMobile?""+a===a&&c[a]?c[a]():c.init(a):j.data(this,p,new k(this,a))})},j.fn[p].hooks=f}(jQuery);
/*! Magnific Popup - v1.0.0 - 2014-12-12
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2014 Dmitry Semenov; */
;(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(window.jQuery||window.Zepto)}}}(function(C){var y="Close",H="BeforeClose",v="AfterClose",N="BeforeAppend",f="MarkupParse",k="Open",h="Change",D="mfp",d="."+D,I="mfp-ready",K="mfp-removing",e="mfp-prevent-close";var S,z=function(){},J=!!(window.jQuery),B,a=C(window),x,A,F,b,L;var i=function(W,X){S.ev.on(D+W+d,X)},n=function(aa,X,Y,W){var Z=document.createElement("div");Z.className="mfp-"+aa;if(Y){Z.innerHTML=Y}if(!W){Z=C(Z);if(X){Z.appendTo(X)}}else{if(X){X.appendChild(Z)}}return Z},P=function(X,W){S.ev.triggerHandler(D+X,W);if(S.st.callbacks){X=X.charAt(0).toLowerCase()+X.slice(1);if(S.st.callbacks[X]){S.st.callbacks[X].apply(S,C.isArray(W)?W:[W])}}},E=function(W){if(W!==L||!S.currTemplate.closeBtn){S.currTemplate.closeBtn=C(S.st.closeMarkup.replace("%title%",S.st.tClose));L=W}return S.currTemplate.closeBtn},s=function(){if(!C.magnificPopup.instance){S=new z();S.init();C.magnificPopup.instance=S}},V=function(){var X=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(X.transition!==undefined){return true}while(W.length){if(W.pop()+"Transition" in X){return true}}return false};z.prototype={constructor:z,init:function(){var W=navigator.appVersion;S.isIE7=W.indexOf("MSIE 7.")!==-1;S.isIE8=W.indexOf("MSIE 8.")!==-1;S.isLowIE=S.isIE7||S.isIE8;S.isAndroid=(/android/gi).test(W);S.isIOS=(/iphone|ipad|ipod/gi).test(W);S.supportsTransition=V();S.probablyMobile=(S.isAndroid||S.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));A=C(document);S.popupsCache={}},open:function(ab){if(!x){x=C(document.body)}var ac;if(ab.isObj===false){S.items=ab.items.toArray();S.index=0;var ad=ab.items,ae;for(ac=0;ac<ad.length;ac++){ae=ad[ac];if(ae.parsed){ae=ae.el[0]}if(ae===ab.el[0]){S.index=ac;break}}}else{S.items=C.isArray(ab.items)?ab.items:[ab.items];S.index=ab.index||0}if(S.isOpen){S.updateItemHTML();return}S.types=[];b="";if(ab.mainEl&&ab.mainEl.length){S.ev=ab.mainEl.eq(0)}else{S.ev=A}if(ab.key){if(!S.popupsCache[ab.key]){S.popupsCache[ab.key]={}}S.currTemplate=S.popupsCache[ab.key]}else{S.currTemplate={}}S.st=C.extend(true,{},C.magnificPopup.defaults,ab);S.fixedContentPos=S.st.fixedContentPos==="auto"?!S.probablyMobile:S.st.fixedContentPos;if(S.st.modal){S.st.closeOnContentClick=false;S.st.closeOnBgClick=false;S.st.showCloseBtn=false;S.st.enableEscapeKey=false}if(!S.bgOverlay){S.bgOverlay=n("bg").on("click"+d,function(){S.close()});S.wrap=n("wrap").attr("tabindex",-1).on("click"+d,function(ag){if(S._checkIfClose(ag.target)){S.close()}});S.container=n("container",S.wrap)}S.contentContainer=n("content");if(S.st.preloader){S.preloader=n("preloader",S.container,S.st.tLoading)}var aa=C.magnificPopup.modules;for(ac=0;ac<aa.length;ac++){var Z=aa[ac];Z=Z.charAt(0).toUpperCase()+Z.slice(1);S["init"+Z].call(S)}P("BeforeOpen");if(S.st.showCloseBtn){if(!S.st.closeBtnInside){S.wrap.append(E())}else{i(f,function(aj,ah,ag,ai){ag.close_replaceWith=E(ai.type)});b+=" mfp-close-btn-in"}}if(S.st.alignTop){b+=" mfp-align-top"}if(S.fixedContentPos){S.wrap.css({overflow:S.st.overflowY,overflowX:"hidden",overflowY:S.st.overflowY})}else{S.wrap.css({top:a.scrollTop(),position:"absolute"})}if(S.st.fixedBgPos===false||(S.st.fixedBgPos==="auto"&&!S.fixedContentPos)){S.bgOverlay.css({height:A.height(),position:"absolute"})}if(S.st.enableEscapeKey){A.on("keyup"+d,function(ag){if(ag.keyCode===27){S.close()}})}a.on("resize"+d,function(){S.updateSize()});if(!S.st.closeOnContentClick){b+=" mfp-auto-cursor"}if(b){S.wrap.addClass(b)}var W=S.wH=a.height();var Y={};if(S.fixedContentPos){if(S._hasScrollBar(W)){var af=S._getScrollbarSize();if(af){Y.marginRight=af}}}if(S.fixedContentPos){if(!S.isIE7){Y.overflow="hidden"}else{C("body, html").css("overflow","hidden")}}var X=S.st.mainClass;if(S.isIE7){X+=" mfp-ie7"}if(X){S._addClassToMFP(X)}S.updateItemHTML();P("BuildControls");C("html").css(Y);S.bgOverlay.add(S.wrap).prependTo(S.st.prependTo||x);S._lastFocusedEl=document.activeElement;setTimeout(function(){if(S.content){S._addClassToMFP(I);S._setFocus()}else{S.bgOverlay.addClass(I)}A.on("focusin"+d,S._onFocusIn)},16);S.isOpen=true;S.updateSize(W);P(k);return ab},close:function(){if(!S.isOpen){return}P(H);S.isOpen=false;if(S.st.removalDelay&&!S.isLowIE&&S.supportsTransition){S._addClassToMFP(K);setTimeout(function(){S._close()},S.st.removalDelay)}else{S._close()}},_close:function(){P(y);var W=K+" "+I+" ";S.bgOverlay.detach();S.wrap.detach();S.container.empty();if(S.st.mainClass){W+=S.st.mainClass+" "}S._removeClassFromMFP(W);if(S.fixedContentPos){var X={marginRight:""};if(S.isIE7){C("body, html").css("overflow","")}else{X.overflow=""}C("html").css(X)}A.off("keyup"+d+" focusin"+d);S.ev.off(d);S.wrap.attr("class","mfp-wrap").removeAttr("style");S.bgOverlay.attr("class","mfp-bg");S.container.attr("class","mfp-container");if(S.st.showCloseBtn&&(!S.st.closeBtnInside||S.currTemplate[S.currItem.type]===true)){if(S.currTemplate.closeBtn){S.currTemplate.closeBtn.detach()}}if(S._lastFocusedEl){C(S._lastFocusedEl).focus()}S.currItem=null;S.content=null;S.currTemplate=null;S.prevHeight=0;P(v)},updateSize:function(X){if(S.isIOS){var Y=document.documentElement.clientWidth/window.innerWidth;var W=window.innerHeight*Y;S.wrap.css("height",W);S.wH=W}else{S.wH=X||a.height()}if(!S.fixedContentPos){S.wrap.css("height",S.wH)}P("Resize")},updateItemHTML:function(){var Z=S.items[S.index];S.contentContainer.detach();if(S.content){S.content.detach()}if(!Z.parsed){Z=S.parseEl(S.index)}var Y=Z.type;P("BeforeChange",[S.currItem?S.currItem.type:"",Y]);S.currItem=Z;if(!S.currTemplate[Y]){var X=S.st[Y]?S.st[Y].markup:false;P("FirstMarkupParse",X);if(X){S.currTemplate[Y]=C(X)}else{S.currTemplate[Y]=true}}if(F&&F!==Z.type){S.container.removeClass("mfp-"+F+"-holder")}var W=S["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](Z,S.currTemplate[Y]);S.appendContent(W,Y);Z.preloaded=true;P(h,Z);F=Z.type;S.container.prepend(S.contentContainer);P("AfterChange")},appendContent:function(W,X){S.content=W;if(W){if(S.st.showCloseBtn&&S.st.closeBtnInside&&S.currTemplate[X]===true){if(!S.content.find(".mfp-close").length){S.content.append(E())}}else{S.content=W}}else{S.content=""}P(N);S.container.addClass("mfp-"+X+"-holder");S.contentContainer.append(S.content)},parseEl:function(W){var aa=S.items[W],Z;if(aa.tagName){aa={el:C(aa)}}else{Z=aa.type;aa={data:aa,src:aa.src}}if(aa.el){var Y=S.types;for(var X=0;X<Y.length;X++){if(aa.el.hasClass("mfp-"+Y[X])){Z=Y[X];break}}aa.src=aa.el.attr("data-mfp-src");if(!aa.src){aa.src=aa.el.attr("href")}}aa.type=Z||S.st.type||"inline";aa.index=W;aa.parsed=true;S.items[W]=aa;P("ElementParse",aa);return S.items[W]},addGroup:function(Y,X){var Z=function(aa){aa.mfpEl=this;S._openClick(aa,Y,X)};if(!X){X={}}var W="click.magnificPopup";X.mainEl=Y;if(X.items){X.isObj=true;Y.off(W).on(W,Z)}else{X.isObj=false;if(X.delegate){Y.off(W).on(W,X.delegate,Z)}else{X.items=Y;Y.off(W).on(W,Z)}}},_openClick:function(aa,Y,W){var X=W.midClick!==undefined?W.midClick:C.magnificPopup.defaults.midClick;if(!X&&(aa.which===2||aa.ctrlKey||aa.metaKey)){return}var Z=W.disableOn!==undefined?W.disableOn:C.magnificPopup.defaults.disableOn;if(Z){if(C.isFunction(Z)){if(!Z.call(S)){return true}}else{if(a.width()<Z){return true}}}if(aa.type){aa.preventDefault();if(S.isOpen){aa.stopPropagation()}}W.el=C(aa.mfpEl);if(W.delegate){W.items=Y.find(W.delegate)}S.open(W)},updateStatus:function(W,Y){if(S.preloader){if(B!==W){S.container.removeClass("mfp-s-"+B)}if(!Y&&W==="loading"){Y=S.st.tLoading}var X={status:W,text:Y};P("UpdateStatus",X);W=X.status;Y=X.text;S.preloader.html(Y);S.preloader.find("a").on("click",function(Z){Z.stopImmediatePropagation()});S.container.addClass("mfp-s-"+W);B=W}},_checkIfClose:function(Y){if(C(Y).hasClass(e)){return}var W=S.st.closeOnContentClick;var X=S.st.closeOnBgClick;if(W&&X){return true}else{if(!S.content||C(Y).hasClass("mfp-close")||(S.preloader&&Y===S.preloader[0])){return true}if((Y!==S.content[0]&&!C.contains(S.content[0],Y))){if(X){if(C.contains(document,Y)){return true}}}else{if(W){return true}}}return false},_addClassToMFP:function(W){S.bgOverlay.addClass(W);S.wrap.addClass(W)},_removeClassFromMFP:function(W){this.bgOverlay.removeClass(W);S.wrap.removeClass(W)},_hasScrollBar:function(W){return((S.isIE7?A.height():document.body.scrollHeight)>(W||a.height()))},_setFocus:function(){(S.st.focus?S.content.find(S.st.focus).eq(0):S.wrap).focus()},_onFocusIn:function(W){if(W.target!==S.wrap[0]&&!C.contains(S.wrap[0],W.target)){S._setFocus();return false}},_parseMarkup:function(Y,X,Z){var W;if(Z.data){X=C.extend(Z.data,X)}P(f,[Y,X,Z]);C.each(X,function(ab,ad){if(ad===undefined||ad===false){return true}W=ab.split("_");if(W.length>1){var ac=Y.find(d+"-"+W[0]);if(ac.length>0){var aa=W[1];if(aa==="replaceWith"){if(ac[0]!==ad[0]){ac.replaceWith(ad)}}else{if(aa==="img"){if(ac.is("img")){ac.attr("src",ad)}else{ac.replaceWith('<img src="'+ad+'" class="'+ac.attr("class")+'" />')}}else{ac.attr(W[1],ad)}}}}else{Y.find(d+"-"+ab).html(ad)}})},_getScrollbarSize:function(){if(S.scrollbarSize===undefined){var W=document.createElement("div");W.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(W);S.scrollbarSize=W.offsetWidth-W.clientWidth;document.body.removeChild(W)}return S.scrollbarSize}};C.magnificPopup={instance:null,proto:z.prototype,modules:[],open:function(X,W){s();if(!X){X={}}else{X=C.extend(true,{},X)}X.isObj=true;X.index=W||0;return this.instance.open(X)},close:function(){return C.magnificPopup.instance&&C.magnificPopup.instance.close()},registerModule:function(W,X){if(X.options){C.magnificPopup.defaults[W]=X.options}C.extend(this.proto,X.proto);this.modules.push(W)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};C.fn.magnificPopup=function(Y){s();var Z=C(this);if(typeof Y==="string"){if(Y==="open"){var W,aa=J?Z.data("magnificPopup"):Z[0].magnificPopup,X=parseInt(arguments[1],10)||0;if(aa.items){W=aa.items[X]}else{W=Z;if(aa.delegate){W=W.find(aa.delegate)}W=W.eq(X)}S._openClick({mfpEl:W},Z,aa)}else{if(S.isOpen){S[Y].apply(S,Array.prototype.slice.call(arguments,1))}}}else{Y=C.extend(true,{},Y);if(J){Z.data("magnificPopup",Y)}else{Z[0].magnificPopup=Y}S.addGroup(Z,Y)}return Z};var G="inline",R,O,r,l=function(){if(r){O.after(r.addClass(R)).detach();r=null}};C.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){S.types.push(G);i(y+"."+G,function(){l()})},getInline:function(aa,Z){l();if(aa.src){var W=S.st.inline,Y=C(aa.src);if(Y.length){var X=Y[0].parentNode;if(X&&X.tagName){if(!O){R=W.hiddenClass;O=n(R);R="mfp-"+R}r=Y.after(O).detach().removeClass(R)}S.updateStatus("ready")}else{S.updateStatus("error",W.tNotFound);Y=C("<div>")}aa.inlineElement=Y;return Y}S.updateStatus("ready");S._parseMarkup(Z,{},aa);return Z}}});var t="ajax",U,u=function(){if(U){x.removeClass(U)}},T=function(){u();if(S.req){S.req.abort()}};C.magnificPopup.registerModule(t,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){S.types.push(t);U=S.st.ajax.cursor;i(y+"."+t,T);i("BeforeChange."+t,T)},getAjax:function(X){if(U){x.addClass(U)}S.updateStatus("loading");var W=C.extend({url:X.src,success:function(aa,ab,Z){var Y={data:aa,xhr:Z};P("ParseAjax",Y);S.appendContent(C(Y.data),t);X.finished=true;u();S._setFocus();setTimeout(function(){S.wrap.addClass(I)},16);S.updateStatus("ready");P("AjaxContentAdded")},error:function(){u();X.finished=X.loadError=true;S.updateStatus("error",S.st.ajax.tError.replace("%url%",X.src))}},S.st.ajax.settings);S.req=C.ajax(W);return""}}});var g,c=function(W){if(W.data&&W.data.title!==undefined){return W.data.title}var X=S.st.image.titleSrc;if(X){if(C.isFunction(X)){return X.call(S,W)}else{if(W.el){return W.el.attr(X)||""}}}return""};C.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var X=S.st.image,W=".image";S.types.push("image");i(k+W,function(){if(S.currItem.type==="image"&&X.cursor){x.addClass(X.cursor)}});i(y+W,function(){if(X.cursor){x.removeClass(X.cursor)}a.off("resize"+d)});i("Resize"+W,S.resizeImage);if(S.isLowIE){i("AfterChange",S.resizeImage)}},resizeImage:function(){var X=S.currItem;if(!X||!X.img){return}if(S.st.image.verticalFit){var W=0;if(S.isLowIE){W=parseInt(X.img.css("padding-top"),10)+parseInt(X.img.css("padding-bottom"),10)}X.img.css("max-height",S.wH-W)}},_onImageHasSize:function(W){if(W.img){W.hasSize=true;if(g){clearInterval(g)}W.isCheckingImgSize=false;P("ImageHasSize",W);if(W.imgHidden){if(S.content){S.content.removeClass("mfp-loading")}W.imgHidden=false}}},findImageSize:function(Z){var W=0,X=Z.img[0],Y=function(aa){if(g){clearInterval(g)}g=setInterval(function(){if(X.naturalWidth>0){S._onImageHasSize(Z);return}if(W>200){clearInterval(g)}W++;if(W===3){Y(10)}else{if(W===40){Y(50)}else{if(W===100){Y(500)}}}},aa)};Y(1)},getImage:function(ac,Z){var ab=0,ad=function(){if(ac){if(ac.img[0].complete){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("ready")}ac.hasSize=true;ac.loaded=true;P("ImageLoadComplete")}else{ab++;if(ab<200){setTimeout(ad,100)}else{W()}}}},W=function(){if(ac){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("error",aa.tError.replace("%url%",ac.src))}ac.hasSize=true;ac.loaded=true;ac.loadError=true}},aa=S.st.image;var Y=Z.find(".mfp-img");if(Y.length){var X=document.createElement("img");X.className="mfp-img";if(ac.el&&ac.el.find("img").length){X.alt=ac.el.find("img").attr("alt")}ac.img=C(X).on("load.mfploader",ad).on("error.mfploader",W);X.src=ac.src;if(Y.is("img")){ac.img=ac.img.clone()}X=ac.img[0];if(X.naturalWidth>0){ac.hasSize=true}else{if(!X.width){ac.hasSize=false}}}S._parseMarkup(Z,{title:c(ac),img_replaceWith:ac.img},ac);S.resizeImage();if(ac.hasSize){if(g){clearInterval(g)}if(ac.loadError){Z.addClass("mfp-loading");S.updateStatus("error",aa.tError.replace("%url%",ac.src))}else{Z.removeClass("mfp-loading");S.updateStatus("ready")}return Z}S.updateStatus("loading");ac.loading=true;if(!ac.hasSize){ac.imgHidden=true;Z.addClass("mfp-loading");S.findImageSize(ac)}return Z}}});var j,M=function(){if(j===undefined){j=document.createElement("p").style.MozTransform!==undefined}return j};C.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(W){return W.is("img")?W:W.find("img")}},proto:{initZoom:function(){var X=S.st.zoom,aa=".zoom",ad;if(!X.enabled||!S.supportsTransition){return}var ac=X.duration,ab=function(ag){var af=ag.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(X.duration/1000)+"s "+X.easing,ai={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";ai["-webkit-"+ae]=ai["-moz-"+ae]=ai["-o-"+ae]=ai[ae]=ah;af.css(ai);return af},W=function(){S.content.css("visibility","visible")},Y,Z;i("BuildControls"+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.content.css("visibility","hidden");ad=S._getItemToZoom();if(!ad){W();return}Z=ab(ad);Z.css(S._getOffset());S.wrap.append(Z);Y=setTimeout(function(){Z.css(S._getOffset(true));Y=setTimeout(function(){W();setTimeout(function(){Z.remove();ad=Z=null;P("ZoomAnimationEnded")},16)},ac)},16)}});i(H+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.st.removalDelay=ac;if(!ad){ad=S._getItemToZoom();if(!ad){return}Z=ab(ad)}Z.css(S._getOffset(true));S.wrap.append(Z);S.content.css("visibility","hidden");setTimeout(function(){Z.css(S._getOffset())},16)}});i(y+aa,function(){if(S._allowZoom()){W();if(Z){Z.remove()}ad=null}})},_allowZoom:function(){return S.currItem.type==="image"},_getItemToZoom:function(){if(S.currItem.hasSize){return S.currItem.img}else{return false}},_getOffset:function(Y){var W;if(Y){W=S.currItem.img}else{W=S.st.zoom.opener(S.currItem.el||S.currItem)}var ab=W.offset();var X=parseInt(W.css("padding-top"),10);var aa=parseInt(W.css("padding-bottom"),10);ab.top-=(C(window).scrollTop()-X);var Z={width:W.width(),height:(J?W.innerHeight():W[0].offsetHeight)-aa-X};if(M()){Z["-moz-transform"]=Z.transform="translate("+ab.left+"px,"+ab.top+"px)"}else{Z.left=ab.left;Z.top=ab.top}return Z}}});var q="iframe",p="//about:blank",Q=function(W){if(S.currTemplate[q]){var X=S.currTemplate[q].find("iframe");if(X.length){if(!W){X[0].src=p}if(S.isIE8){X.css("display",W?"block":"none")}}}};C.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){S.types.push(q);i("BeforeChange",function(Y,W,X){if(W!==X){if(W===q){Q()}else{if(X===q){Q(true)}}}});i(y+"."+q,function(){Q()})},getIframe:function(aa,Z){var W=aa.src;var Y=S.st.iframe;C.each(Y.patterns,function(){if(W.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){W=W.substr(W.lastIndexOf(this.id)+this.id.length,W.length)}else{W=this.id.call(this,W)}}W=this.src.replace("%id%",W);return false}});var X={};if(Y.srcAction){X[Y.srcAction]=W}S._parseMarkup(Z,X,aa);S.updateStatus("ready");return Z}}});var w=function(W){var X=S.items.length;if(W>X-1){return W-X}else{if(W<0){return X+W}}return W},o=function(Y,X,W){return Y.replace(/%curr%/gi,X+1).replace(/%total%/gi,W)};C.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var W=S.st.gallery,Y=".mfp-gallery",X=Boolean(C.fn.mfpFastClick);S.direction=true;if(!W||!W.enabled){return false}b+=" mfp-gallery";i(k+Y,function(){if(W.navigateByImgClick){S.wrap.on("click"+Y,".mfp-img",function(){if(S.items.length>1){S.next();return false}})}A.on("keydown"+Y,function(Z){if(Z.keyCode===37){S.prev()}else{if(Z.keyCode===39){S.next()}}})});i("UpdateStatus"+Y,function(aa,Z){if(Z.text){Z.text=o(Z.text,S.currItem.index,S.items.length)}});i(f+Y,function(ad,ab,aa,ac){var Z=S.items.length;aa.counter=Z>1?o(W.tCounter,ac.index,Z):""});i("BuildControls"+Y,function(){if(S.items.length>1&&W.arrows&&!S.arrowLeft){var ab=W.arrowMarkup,ac=S.arrowLeft=C(ab.replace(/%title%/gi,W.tPrev).replace(/%dir%/gi,"left")).addClass(e),aa=S.arrowRight=C(ab.replace(/%title%/gi,W.tNext).replace(/%dir%/gi,"right")).addClass(e);var Z=X?"mfpFastClick":"click";ac[Z](function(){S.prev()});aa[Z](function(){S.next()});if(S.isIE7){n("b",ac[0],false,true);n("a",ac[0],false,true);n("b",aa[0],false,true);n("a",aa[0],false,true)}S.container.append(ac.add(aa))}});i(h+Y,function(){if(S._preloadTimeout){clearTimeout(S._preloadTimeout)}S._preloadTimeout=setTimeout(function(){S.preloadNearbyImages();S._preloadTimeout=null},16)});i(y+Y,function(){A.off(Y);S.wrap.off("click"+Y);if(S.arrowLeft&&X){S.arrowLeft.add(S.arrowRight).destroyMfpFastClick()}S.arrowRight=S.arrowLeft=null})},next:function(){S.direction=true;S.index=w(S.index+1);S.updateItemHTML()},prev:function(){S.direction=false;S.index=w(S.index-1);S.updateItemHTML()},goTo:function(W){S.direction=(W>=S.index);S.index=W;S.updateItemHTML()},preloadNearbyImages:function(){var Z=S.st.gallery.preload,X=Math.min(Z[0],S.items.length),Y=Math.min(Z[1],S.items.length),W;for(W=1;W<=(S.direction?Y:X);W++){S._preloadItem(S.index+W)}for(W=1;W<=(S.direction?X:Y);W++){S._preloadItem(S.index-W)}},_preloadItem:function(W){W=w(W);if(S.items[W].preloaded){return}var X=S.items[W];if(!X.parsed){X=S.parseEl(W)}P("LazyLoad",X);if(X.type==="image"){X.img=C('<img class="mfp-img" />').on("load.mfploader",function(){X.hasSize=true}).on("error.mfploader",function(){X.hasSize=true;X.loadError=true;P("LazyLoadError",X)}).attr("src",X.src)}X.preloaded=true}}});var m="retina";C.magnificPopup.registerModule(m,{options:{replaceSrc:function(W){return W.src.replace(/\.\w+$/,function(X){return"@2x"+X})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var W=S.st.retina,X=W.ratio;X=!isNaN(X)?X:X();if(X>1){i("ImageHasSize."+m,function(Z,Y){Y.img.css({"max-width":Y.img[0].naturalWidth/X,width:"100%"})});i("ElementParse."+m,function(Z,Y){Y.src=W.replaceSrc(Y,X)})}}}}});(function(){var X=1000,Z="ontouchstart" in window,aa=function(){a.off("touchmove"+Y+" touchend"+Y)},W="mfpFastClick",Y="."+W;C.fn.mfpFastClick=function(ab){return C(this).each(function(){var ai=C(this),ah;if(Z){var aj,ae,ad,ag,ac,af;ai.on("touchstart"+Y,function(ak){ag=false;af=1;ac=ak.originalEvent?ak.originalEvent.touches[0]:ak.touches[0];ae=ac.clientX;ad=ac.clientY;a.on("touchmove"+Y,function(al){ac=al.originalEvent?al.originalEvent.touches:al.touches;af=ac.length;ac=ac[0];if(Math.abs(ac.clientX-ae)>10||Math.abs(ac.clientY-ad)>10){ag=true;aa()}}).on("touchend"+Y,function(al){aa();if(ag||af>1){return}ah=true;al.preventDefault();clearTimeout(aj);aj=setTimeout(function(){ah=false},X);ab()})})}ai.on("click"+Y,function(){if(!ah){ab()}})})};C.fn.destroyMfpFastClick=function(){C(this).off("touchstart"+Y+" click"+Y);if(Z){a.off("touchmove"+Y+" touchend"+Y)}}})();s()}));
/*! jquery.caret 2015-02-01 */
;!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return d.returnExportsGlobal=c(a)}):"object"==typeof exports?module.exports=c(require("jquery")):c(jQuery)}(this,function(x){var w,v,u,t,s,r,q,p,o,n,m;n="caret",w=function(){function a(b){this.$inputor=b,this.domInputor=this.$inputor[0]}return a.prototype.setPos=function(){return this.domInputor},a.prototype.getIEPosition=function(){return this.getPosition()},a.prototype.getPosition=function(){var d,c;return c=this.getOffset(),d=this.$inputor.offset(),c.left-=d.left,c.top-=d.top,c},a.prototype.getOldIEPos=function(){var d,c;return c=q.selection.createRange(),d=q.body.createTextRange(),d.moveToElementText(this.domInputor),d.setEndPoint("EndToEnd",c),d.text.length},a.prototype.getPos=function(){var e,d,f;return(f=this.range())?(e=f.cloneRange(),e.selectNodeContents(this.domInputor),e.setEnd(f.endContainer,f.endOffset),d=e.toString().length,e.detach(),d):q.selection?this.getOldIEPos():void 0},a.prototype.getOldIEOffset=function(){var d,c;return d=q.selection.createRange().duplicate(),d.moveStart("character",-1),c=d.getBoundingClientRect(),{height:c.bottom-c.top,left:c.left,top:c.top}},a.prototype.getOffset=function(){var g,k,j,i,h;return o.getSelection&&(j=this.range())?(j.endOffset-1>0&&j.endContainer===!this.domInputor&&(g=j.cloneRange(),g.setStart(j.endContainer,j.endOffset-1),g.setEnd(j.endContainer,j.endOffset),i=g.getBoundingClientRect(),k={height:i.height,left:i.left+i.width,top:i.top},g.detach()),k&&0!==(null!=k?k.height:void 0)||(g=j.cloneRange(),h=x(q.createTextNode("|")),g.insertNode(h[0]),g.selectNode(h[0]),i=g.getBoundingClientRect(),k={height:i.height,left:i.left,top:i.top},h.remove(),g.detach())):q.selection&&(k=this.getOldIEOffset()),k&&(k.top+=x(o).scrollTop(),k.left+=x(o).scrollLeft()),k},a.prototype.range=function(){var b;if(o.getSelection){return b=o.getSelection(),b.rangeCount>0?b.getRangeAt(0):null}},a}(),v=function(){function a(b){this.$inputor=b,this.domInputor=this.$inputor[0]}return a.prototype.getIEPos=function(){var i,h,z,y,l,k,j;return h=this.domInputor,k=q.selection.createRange(),l=0,k&&k.parentElement()===h&&(y=h.value.replace(/\r\n/g,"\n"),z=y.length,j=h.createTextRange(),j.moveToBookmark(k.getBookmark()),i=h.createTextRange(),i.collapse(!1),l=j.compareEndPoints("StartToEnd",i)>-1?z:-j.moveStart("character",-z)),l},a.prototype.getPos=function(){return q.selection?this.getIEPos():this.domInputor.selectionStart},a.prototype.setPos=function(e){var d,f;return d=this.domInputor,q.selection?(f=d.createTextRange(),f.move("character",e),f.select()):d.setSelectionRange&&d.setSelectionRange(e,e),d},a.prototype.getIEOffset=function(g){var f,j,i,h;return j=this.domInputor.createTextRange(),g||(g=this.getPos()),j.move("character",g),i=j.boundingLeft,h=j.boundingTop,f=j.boundingHeight,{left:i,top:h,height:f}},a.prototype.getOffset=function(f){var i,h,g;return i=this.$inputor,q.selection?(h=this.getIEOffset(f),h.top+=x(o).scrollTop()+i.scrollTop(),h.left+=x(o).scrollLeft()+i.scrollLeft(),h):(h=i.offset(),g=this.getPosition(f),h={left:h.left+g.left-i.scrollLeft(),top:h.top+g.top-i.scrollTop(),height:g.height})},a.prototype.getPosition=function(j){var d,B,A,z,y,l,k;return d=this.$inputor,z=function(b){return b=b.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(b=b.replace(/\s/g,"&nbsp;")),b},void 0===j&&(j=this.getPos()),k=d.val().slice(0,j),A=d.val().slice(j),y="<span style='position: relative; display: inline;'>"+z(k)+"</span>",y+="<span id='caret' style='position: relative; display: inline;'>|</span>",y+="<span style='position: relative; display: inline;'>"+z(A)+"</span>",l=new u(d),B=l.create(y).rect()},a.prototype.getIEPosition=function(h){var g,l,k,j,i;return k=this.getIEOffset(h),l=this.$inputor.offset(),j=k.left-l.left,i=k.top-l.top,g=k.height,{left:j,top:i,height:g}},a}(),u=function(){function a(b){this.$inputor=b}return a.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],a.prototype.mirrorCss=function(){var d,e=this;return d={position:"absolute",left:-9999,top:0,zIndex:-20000},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),x.each(this.css_attr,function(b,c){return d[c]=e.$inputor.css(c)}),d},a.prototype.create=function(c){return this.$mirror=x("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(c),this.$inputor.after(this.$mirror),this},a.prototype.rect=function(){var e,d,f;return e=this.$mirror.find("#caret"),d=e.position(),f={left:d.left,top:d.top,height:e.height()},this.$mirror.remove(),f},a}(),t={contentEditable:function(b){return !(!b[0].contentEditable||"true"!==b[0].contentEditable)}},r={pos:function(b){return b||0===b?this.setPos(b):this.getPos()},position:function(b){return q.selection?this.getIEPosition(b):this.getPosition(b)},offset:function(d){var c;return c=this.getOffset(d)}},q=null,o=null,p=null,m=function(d){var c;return(c=null!=d?d.iframe:void 0)?(p=c,o=c.contentWindow,q=c.contentDocument||o.document):(p=void 0,o=window,q=document)},s=function(e){var d;q=e[0].ownerDocument,o=q.defaultView||q.parentWindow;try{return p=o.frameElement}catch(f){d=f}},x.fn.caret=function(e,c,b){var a;return r[e]?(x.isPlainObject(c)?(m(c),c=void 0):m(b),a=t.contentEditable(this)?new w(this):new v(this),r[e].apply(a,[c])):x.error("Method "+e+" does not exist on jQuery.caret")},x.fn.caret.EditableCaret=w,x.fn.caret.InputCaret=v,x.fn.caret.Utils=t,x.fn.caret.apis=r});
!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(b){return c(b)}):"object"==typeof exports?module.exports=c(require("jquery")):c(jQuery)}(this,function(B){var A,z,y,x,w,v,u,t,s,r,q=[].slice,p=function(f,e){function h(){this.constructor=f}for(var g in e){o.call(e,g)&&(f[g]=e[g])}return h.prototype=e.prototype,f.prototype=new h,f.__super__=e.prototype,f},o={}.hasOwnProperty;A=B,y=function(){function b(c){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=A(c),this.setupRootElement(),this.listen()}return b.prototype.createContainer=function(d){var e;return null!=(e=this.$el)&&e.remove(),A(d.body).append(this.$el=A("<div class='atwho-container'></div>"))},b.prototype.setupRootElement=function(f,i){var h;if(null==i&&(i=!1),f){this.window=f.contentWindow,this.document=f.contentDocument||this.window.document,this.iframe=f}else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(g){if(h=g,this.iframe=null,A.fn.atwho.debug){throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+h)}}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},b.prototype.controller=function(g){var f,j,i,h;if(this.aliasMaps[g]){j=this.controllers[this.aliasMaps[g]]}else{h=this.controllers;for(i in h){if(f=h[i],i===g){j=f;break}}}return j?j:this.controllers[this.currentFlag]},b.prototype.setContextFor=function(c){return this.currentFlag=c,this},b.prototype.reg=function(f,e){var h,g;return g=(h=this.controllers)[f]||(h[f]=this.$inputor.is("[contentEditable]")?new v(this,f):new s(this,f)),e.alias&&(this.aliasMaps[e.alias]=f),g.init(e),this},b.prototype.listen=function(){return this.$inputor.on("compositionstart",function(c){return function(a){var d;return null!=(d=c.controller())&&d.view.hide(),c.isComposing=!0}}(this)).on("compositionend",function(c){return function(a){return c.isComposing=!1}}(this)).on("keyup.atwhoInner",function(c){return function(a){return c.onKeyup(a)}}(this)).on("keydown.atwhoInner",function(c){return function(a){return c.onKeydown(a)}}(this)).on("blur.atwhoInner",function(c){return function(a){var d;return(d=c.controller())?(d.expectedQueryCBId=null,d.view.hide(a,d.getOpt("displayTimeout"))):void 0}}(this)).on("click.atwhoInner",function(c){return function(a){return c.dispatch(a)}}(this)).on("scroll.atwhoInner",function(c){return function(){var a;return a=c.$inputor.scrollTop(),function(h){var g,f;return g=h.target.scrollTop,a!==g&&null!=(f=c.controller())&&f.view.hide(h),a=g,!0}}}(this)())},b.prototype.shutdown=function(){var e,d,f;f=this.controllers;for(e in f){d=f[e],d.destroy(),delete this.controllers[e]}return this.$inputor.off(".atwhoInner"),this.$el.remove()},b.prototype.dispatch=function(g){var f,j,i,h;i=this.controllers,h=[];for(f in i){j=i[f],h.push(j.lookUp(g))}return h},b.prototype.onKeyup=function(d){var e;switch(d.keyCode){case u.ESC:d.preventDefault(),null!=(e=this.controller())&&e.view.hide();break;case u.DOWN:case u.UP:case u.CTRL:A.noop();break;case u.P:case u.N:d.ctrlKey||this.dispatch(d);break;default:this.dispatch(d)}},b.prototype.onKeydown=function(e){var g,f;if(f=null!=(g=this.controller())?g.view:void 0,f&&f.visible()){switch(e.keyCode){case u.ESC:e.preventDefault(),f.hide(e);break;case u.UP:e.preventDefault(),f.prev();break;case u.DOWN:e.preventDefault(),f.next();break;case u.P:if(!e.ctrlKey){return}e.preventDefault(),f.prev();break;case u.N:if(!e.ctrlKey){return}e.preventDefault(),f.next();break;case u.TAB:case u.ENTER:case u.SPACE:if(!f.visible()){return}if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===u.SPACE){return}if(!this.controller().getOpt("tabSelectsMatch")&&e.keyCode===u.TAB){return}f.highlighted()?(e.preventDefault(),f.choose(e)):f.hide(e);break;default:A.noop()}}},b}(),x=function(){function b(d,e){this.app=d,this.at=e,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=A("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=A("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new t(this),this.view=new r(this)}return b.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},b.prototype.init=function(c){return this.setting=A.extend({},this.setting||A.fn.atwho["default"],c),this.view.init(),this.model.reload(this.setting.data)},b.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},b.prototype.callDefault=function(){var f,i,h;h=arguments[0],f=2<=arguments.length?q.call(arguments,1):[];try{return w[h].apply(this,f)}catch(g){return i=g,A.error(i+" Or maybe At.js doesn't have function "+h)}},b.prototype.trigger=function(f,e){var h,g;return null==e&&(e=[]),e.push(this),h=this.getOpt("alias"),g=h?f+"-"+h+".atwho":f+".atwho",this.$inputor.trigger(g,e)},b.prototype.callbacks=function(c){return this.getOpt("callbacks")[c]||w[c]},b.prototype.getOpt=function(f,e){var h;try{return this.setting[f]}catch(g){return h=g,null}},b.prototype.insertContentFor=function(e){var g,f;return f=this.getOpt("insertTpl"),g=A.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,f,g,"onInsert")},b.prototype.renderView=function(d){var c;return c=this.getOpt("searchKey"),d=this.callbacks("sorter").call(this,this.query.text,d.slice(0,1001),c),this.view.render(d.slice(0,this.getOpt("limit")))},b.arrayToDefaultHash=function(g){var k,j,i,h;if(!A.isArray(g)){return g}for(h=[],k=0,i=g.length;i>k;k++){j=g[k],A.isPlainObject(j)?h.push(j):h.push({name:j})}return h},b.prototype.lookUp=function(e){var d,f;return(d=this.catchQuery(e))?(this.app.setContextFor(this.at),(f=this.getOpt("delay"))?this._delayLookUp(d,f):this._lookUp(d),d):(this.expectedQueryCBId=null,d)},b.prototype._delayLookUp=function(f,e){var h,g;return h=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=h),g=e-(h-this.previousCallTime),g>0&&e>g?(this.previousCallTime=h,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(a){return function(){return a.previousCallTime=0,a.delayedCallTimeout=null,a._lookUp(f)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==h&&(this.previousCallTime=0),this._lookUp(f))},b.prototype._stopDelayedCall=function(){return this.delayedCallTimeout?(clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null):void 0},b.prototype._generateQueryCBId=function(){return{}},b.prototype._lookUp=function(d){var e;return e=function(f,c){return f===this.expectedQueryCBId?c&&c.length>0?this.renderView(this.constructor.arrayToDefaultHash(c)):this.view.hide():void 0},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(d.text,A.proxy(e,this,this.expectedQueryCBId))},b}(),s=function(b){function d(){return d.__super__.constructor.apply(this,arguments)}return p(d,b),d.prototype.catchQuery=function(){var h,g,l,k,j,i;return g=this.$inputor.val(),h=this.$inputor.caret("pos",{iframe:this.app.iframe}),i=g.slice(0,h),k=this.callbacks("matcher").call(this,this.at,i,this.getOpt("startWithSpace")),"string"==typeof k&&k.length<=this.getOpt("maxLen",20)?(j=h-k.length,l=j+k.length,this.pos=j,k={text:k,headPos:j,endPos:l},this.trigger("matched",[this.at,k.text])):(k=null,this.view.hide()),this.query=k},d.prototype.rect=function(){var e,g,f;if(e=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe})){return this.app.iframe&&!this.app.iframeAsRoot&&(g=A(this.app.iframe).offset(),e.left+=g.left,e.top+=g.top),f=this.app.document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+f}}},d.prototype.insert=function(i,h){var n,m,l,k,j;return n=this.$inputor,m=n.val(),l=m.slice(0,Math.max(this.query.headPos-this.at.length,0)),k=""===(k=this.getOpt("suffix"))?k:k||" ",i+=k,j=""+l+i+m.slice(this.query.endPos||0),n.val(j),n.caret("pos",l.length+i.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},d}(x),v=function(b){function d(){return d.__super__.constructor.apply(this,arguments)}return p(d,b),d.prototype._getRange=function(){var c;return c=this.app.window.getSelection(),c.rangeCount>0?c.getRangeAt(0):void 0},d.prototype._setRange=function(e,g,f){return null==f&&(f=this._getRange()),f?(g=A(g)[0],"after"===e?(f.setEndAfter(g),f.setStartAfter(g)):(f.setEndBefore(g),f.setStartBefore(g)),f.collapse(!1),this._clearRange(f)):void 0},d.prototype._clearRange=function(e){var c;return null==e&&(e=this._getRange()),c=this.app.window.getSelection(),null==this.ctrl_a_pressed?(c.removeAllRanges(),c.addRange(e)):void 0},d.prototype._movingEvent=function(e){var c;return"click"===e.type||(c=e.which)===u.RIGHT||c===u.LEFT||c===u.UP||c===u.DOWN},d.prototype._unwrap=function(e){var f;return e=A(e).unwrap().get(0),(f=e.nextSibling)&&f.nodeValue&&(e.nodeValue+=f.nodeValue,A(f).remove()),e},d.prototype.catchQuery=function(K){var J,I,H,G,F,E,D,C,n,h;if(!this.app.isComposing&&(h=this._getRange())){if(K.which===u.CTRL?this.ctrl_pressed=!0:K.which===u.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),K.which===u.ENTER){return(I=A(h.startContainer).closest(".atwho-query")).contents().unwrap(),I.is(":empty")&&I.remove(),(I=A(".atwho-query",this.app.document)).text(I.text()).contents().last().unwrap(),void this._clearRange()}if(/firefox/i.test(navigator.userAgent)){if(A(h.startContainer).is(this.$inputor)){return void this._clearRange()}K.which===u.BACKSPACE&&h.startContainer.nodeType===document.ELEMENT_NODE&&(C=h.startOffset-1)>=0?(H=h.cloneRange(),H.setStart(h.startContainer,C),A(H.cloneContents()).contents().last().is(".atwho-inserted")&&(F=A(h.startContainer).contents().get(C),this._setRange("after",A(F).contents().last()))):K.which===u.LEFT&&h.startContainer.nodeType===document.TEXT_NODE&&(J=A(h.startContainer.previousSibling),J.is(".atwho-inserted")&&0===h.startOffset&&this._setRange("after",J.contents().last()))}return A(h.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(I=A(".atwho-query",this.app.document)).length>0&&I.is(":empty")&&0===I.text().length&&I.remove(),this._movingEvent(K)||I.removeClass("atwho-inserted"),H=h.cloneRange(),H.setStart(h.startContainer,0),D=this.callbacks("matcher").call(this,this.at,H.toString(),this.getOpt("startWithSpace")),0===I.length&&"string"==typeof D&&(G=h.startOffset-this.at.length-D.length)>=0&&(h.setStart(h.startContainer,G),I=A("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),h.surroundContents(I.get(0)),E=I.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(h.setStart(E,E.length),h.setEnd(E,E.length),this._clearRange(h)):this._setRange("after",E,h)),"string"==typeof D&&D.length<=this.getOpt("maxLen",20)?(n={text:D,el:I},this.trigger("matched",[this.at,n.text]),this.query=n):(this.view.hide(),this.query={el:I},I.text().indexOf(this.at)>=0&&(this._movingEvent(K)&&I.hasClass("atwho-inserted")?I.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,I)&&this._setRange("after",this._unwrap(I.text(I.text()).contents().first()))),null)}},d.prototype.rect=function(){var e,g,f;return f=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(g=(e=A(this.app.iframe)).offset(),f.left+=g.left-this.$inputor.scrollLeft(),f.top+=g.top-this.$inputor.scrollTop()),f.bottom=f.top+this.query.el.height(),f},d.prototype.insert=function(g,f){var j,i,h;return i=""===(i=this.getOpt("suffix"))?i:i||"",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(g),(j=this._getRange())&&(j.setEndAfter(this.query.el[0]),j.collapse(!1),j.insertNode(h=this.app.document.createTextNode(i)),this._setRange("after",h,j)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},d}(x),t=function(){function b(c){this.context=c,this.at=this.context.at,this.storage=this.context.$inputor}return b.prototype.destroy=function(){return this.storage.data(this.at,null)},b.prototype.saved=function(){return this.fetch()>0},b.prototype.query=function(g,f){var j,i,h;return i=this.fetch(),h=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,g,i,h)||[],j=this.context.callbacks("remoteFilter"),i.length>0||!j&&0===i.length?f(i):j.call(this.context,g,f)},b.prototype.fetch=function(){return this.storage.data(this.at)||[]},b.prototype.save=function(c){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,c||[]))},b.prototype.load=function(c){return !this.saved()&&c?this._load(c):void 0},b.prototype.reload=function(c){return this._load(c)},b.prototype._load=function(c){return"string"==typeof c?A.ajax(c,{dataType:"json"}).done(function(d){return function(a){return d.save(a)}}(this)):this.save(c)},b}(),r=function(){function b(c){this.context=c,this.$el=A("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return b.prototype.init=function(){var c;return c=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+c})},b.prototype.destroy=function(){return this.$el.remove()},b.prototype.bindEvent=function(){var c;return c=this.$el.find("ul"),c.on("mouseenter.atwho-view","li",function(a){return c.find(".cur").removeClass("cur"),A(a.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(a){return function(e){return c.find(".cur").removeClass("cur"),A(e.currentTarget).addClass("cur"),a.choose(e),e.preventDefault()}}(this))},b.prototype.visible=function(){return this.$el.is(":visible")},b.prototype.highlighted=function(){return this.$el.find(".cur").length>0},b.prototype.choose=function(e){var d,f;return(d=this.$el.find(".cur")).length&&(f=this.context.insertContentFor(d),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,f,d),d),this.context.trigger("inserted",[d,e]),this.hide(e)),this.context.getOpt("hideWithoutSuffix")?this.stopShowing=!0:void 0},b.prototype.reposition=function(g){var k,j,i,h;return k=this.context.app.iframeAsRoot?this.context.app.window:window,g.bottom+this.$el.height()-A(k).scrollTop()>A(k).height()&&(g.bottom=g.top-this.$el.height()),g.left>(i=A(k).width()-this.$el.width()-5)&&(g.left=i),j={left:g.left,top:g.bottom},null!=(h=this.context.callbacks("beforeReposition"))&&h.call(this.context,j),this.$el.offset(j),this.context.trigger("reposition",[j])},b.prototype.next=function(){var d,c;return d=this.$el.find(".cur").removeClass("cur"),c=d.next(),c.length||(c=this.$el.find("li:first")),c.addClass("cur"),this.scrollTop(Math.max(0,d.innerHeight()*(c.index()+2)-this.$el.height()))},b.prototype.prev=function(){var d,c;return d=this.$el.find(".cur").removeClass("cur"),c=d.prev(),c.length||(c=this.$el.find("li:last")),c.addClass("cur"),this.scrollTop(Math.max(0,d.innerHeight()*(c.index()+2)-this.$el.height()))},b.prototype.scrollTop=function(d){var c;return c=this.context.getOpt("scrollDuration"),c?this.$el.animate({scrollTop:d},c):this.$el.scrollTop(d)},b.prototype.show=function(){var c;return this.stopShowing?void (this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(c=this.context.rect())?this.reposition(c):void 0)},b.prototype.hide=function(e,d){var f;if(this.visible()){return isNaN(d)?(this.$el.hide(),this.context.trigger("hidden",[e])):(f=function(c){return function(){return c.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(f,d))}},b.prototype.render=function(j){var E,D,C,n,m,l,k;if(!(A.isArray(j)&&j.length>0)){return void this.hide()}for(this.$el.find("ul").empty(),D=this.$el.find("ul"),k=this.context.getOpt("displayTpl"),C=0,m=j.length;m>C;C++){n=j[C],n=A.extend({},n,{"atwho-at":this.context.at}),l=this.context.callbacks("tplEval").call(this.context,k,n,"onDisplay"),E=A(this.context.callbacks("highlighter").call(this.context,l,this.context.query.text)),E.data("item-data",n),D.append(E)}return this.show(),this.context.getOpt("highlightFirst")?D.find("li:first").addClass("cur"):void 0},b}(),u={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},w={beforeSave:function(b){return x.arrayToDefaultHash(b)},matcher:function(F,E,D,C){var n,m,l,k,j;return F=F.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),D&&(F="(?:^|\\s)"+F),n=decodeURI("%C3%80"),m=decodeURI("%C3%BF"),j=C?" ":"",k=new RegExp(F+"([A-Za-z"+n+"-"+m+"0-9_"+j+".+-]*)$|"+F+"([^\\x00-\\xff]*)$","gi"),l=k.exec(E),l?l[2]||l[1]:null},filter:function(i,h,n){var m,l,k,j;for(m=[],l=0,j=h.length;j>l;l++){k=h[l],~new String(k[n]).toLowerCase().indexOf(i.toLowerCase())&&m.push(k)}return m},remoteFilter:null,sorter:function(i,h,n){var m,l,k,j;if(!i){return h}for(m=[],l=0,j=h.length;j>l;l++){k=h[l],k.atwho_order=new String(k[n]).toLowerCase().indexOf(i.toLowerCase()),k.atwho_order>-1&&m.push(k)}return m.sort(function(d,c){return d.atwho_order-c.atwho_order})},tplEval:function(g,f){var j,i;i=g;try{return"string"!=typeof g&&(i=g(f)),i.replace(/\$\{([^\}]*)\}/g,function(b,k,e){return f[k]})}catch(h){return j=h,""}},highlighter:function(e,d){var f;return d?(f=new RegExp(">\\s*(\\w*?)("+d.replace("+","\\+")+")(\\w*)\\s*<","ig"),e.replace(f,function(h,g,j,i){return"> "+g+"<strong>"+j+"</strong>"+i+" <"})):e},beforeInsert:function(d,c){return d},beforeReposition:function(b){return b},afterMatchFailed:function(d,c){}},z={load:function(e,d){var f;return(f=this.controller(e))?f.model.load(d):void 0},isSelecting:function(){var b;return null!=(b=this.controller())?b.view.visible():void 0},hide:function(){var b;return null!=(b=this.controller())?b.view.hide():void 0},reposition:function(){var b;return(b=this.controller())?b.view.reposition(b.rect()):void 0},setIframe:function(d,c){return this.setupRootElement(d,c),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},A.fn.atwho=function(b){var d,c;return d=arguments,c=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var e,a;return(a=(e=A(this)).data("atwho"))||e.data("atwho",a=new y(this)),"object"!=typeof b&&b?z[b]&&a?c=z[b].apply(a,Array.prototype.slice.call(d,1)):A.error("Method "+b+" does not exist on jQuery.atwho"):a.reg(b.at,b)}),null!=c?c:this},A.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:w,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150},A.fn.atwho.debug=!1});